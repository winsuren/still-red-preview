var lL=Object.defineProperty,uL=Object.defineProperties,dL=Object.getOwnPropertyDescriptors,rO=Object.getOwnPropertySymbols,hL=Object.prototype.hasOwnProperty,fL=Object.prototype.propertyIsEnumerable,iO=(rt,oe,F)=>oe in rt?lL(rt,oe,{enumerable:!0,configurable:!0,writable:!0,value:F}):rt[oe]=F,sO=(rt,oe)=>{for(var F in oe||(oe={}))hL.call(oe,F)&&iO(rt,F,oe[F]);if(rO)for(var F of rO(oe))fL.call(oe,F)&&iO(rt,F,oe[F]);return rt},oO=(rt,oe)=>uL(rt,dL(oe));(self.webpackChunkstill_red=self.webpackChunkstill_red||[]).push([[179],{2011:(rt,oe,F)=>{"use strict";F.d(oe,{Dh:()=>de,GT:()=>ye,cc:()=>xe,hO:()=>ze,on:()=>z,pX:()=>le,xv:()=>ve});var c=F(5e3),L=F(127),U=F(5813);rt=F.hmd(rt);const pe=["ngOnDestroy"],le=(Ie,Ne,Qe,Pe={})=>new Proxy(Ie,{get:(be,Ae)=>Qe.runOutsideAngular(()=>{var Ze;if(Ie[Ae])return(null===(Ze=null==Pe?void 0:Pe.spy)||void 0===Ze?void 0:Ze.get)&&Pe.spy.get(Ae,Ie[Ae]),Ie[Ae];if(pe.indexOf(Ae)>-1)return()=>{};const qe=Ne.toPromise().then(G=>{const Ce=G&&G[Ae];return"function"==typeof Ce?Ce.bind(G):Ce&&Ce.then?Ce.then(ee=>Qe.run(()=>ee)):Qe.run(()=>Ce)});return new Proxy(()=>{},{get:(G,Ce)=>qe[Ce],apply:(G,Ce,ee)=>qe.then(ae=>{var re;const we=ae&&ae(...ee);return(null===(re=null==Pe?void 0:Pe.spy)||void 0===re?void 0:re.apply)&&Pe.spy.apply(Ae,ee,we),we})})})}),ye=(Ie,Ne)=>{Ne.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Pe=>{Object.defineProperty(Ie.prototype,Pe,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Pe))})})};class ce{constructor(Ne){return Ne}}const de=new c.OlP("angularfire2.app.options"),ve=new c.OlP("angularfire2.app.name");function z(Ie,Ne,Qe){const be="object"==typeof Qe&&Qe||{};be.name=be.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const Ze=L.Z.apps.filter(qe=>qe&&qe.name===be.name)[0]||Ne.runOutsideAngular(()=>L.Z.initializeApp(Ie,be));try{JSON.stringify(Ie)!==JSON.stringify(Ze.options)&&Y("error",`${Ze.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(qe){}return new ce(Ze)}const Y=(Ie,...Ne)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ie](...Ne)},se={provide:ce,useFactory:z,deps:[de,c.R0b,[new c.FiY,ve]]};let ze=(()=>{class Ie{constructor(Qe){L.Z.registerVersion("angularfire",U.q4.full,"core"),L.Z.registerVersion("angularfire",U.q4.full,"app-compat"),L.Z.registerVersion("angular",c.q4F.full,Qe.toString())}static initializeApp(Qe,Pe){return{ngModule:Ie,providers:[{provide:de,useValue:Qe},{provide:ve,useValue:Pe}]}}}return Ie.\u0275fac=function(Qe){return new(Qe||Ie)(c.LFG(c.Lbi))},Ie.\u0275mod=c.oAB({type:Ie}),Ie.\u0275inj=c.cJS({providers:[se]}),Ie})();function xe(Ie,Ne,Qe,Pe,be){const[,Ae,Ze]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===Ie)||[];if(Ae)return function Ue(Ie,Ne){try{return Ie.toString()===Ne.toString()}catch(Qe){return Ie===Ne}}(be,Ze)||(me("error",`${Ne} was already initialized on the ${Qe} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:be,was:Ze})),Ae;{const qe=Pe();return globalThis.\u0275AngularfireInstanceCache.push([Ie,qe,be]),qe}}const Ve=!!rt.hot,me=(Ie,...Ne)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ie](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(rt,oe,F)=>{"use strict";F.d(oe,{q4:()=>Zt,iC:()=>_l,fc:()=>Od,HU:()=>Jp,vb:()=>Pd,JM:()=>gl});var c=F(5e3),L=F(5867),U=F(5861),pe=F(9681),le=F(2090),ye=F(4859),ce=F(1877),de=F(8766);const ve="@firebase/installations",z="0.5.12",se=`w:${z}`,ze="FIS_v2",Ne=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qe(I){return I instanceof le.ZR&&I.code.includes("request-failed")}function Pe({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function be(I){return{token:I.token,requestStatus:2,expiresIn:ae(I.expiresIn),creationTime:Date.now()}}function Ae(I,A){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,U.Z)(function*(I,A){const B=(yield A.json()).error;return Ne.create("request-failed",{requestName:I,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function qe({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function G(I,{refreshToken:A}){const O=qe(I);return O.append("Authorization",function re(I){return`${ze} ${I}`}(A)),O}function Ce(I){return ee.apply(this,arguments)}function ee(){return(ee=(0,U.Z)(function*(I){const A=yield I();return A.status>=500&&A.status<600?I():A})).apply(this,arguments)}function ae(I){return Number(I.replace("s","000"))}function we(I,A){return fe.apply(this,arguments)}function fe(){return(fe=(0,U.Z)(function*({appConfig:I,heartbeatServiceProvider:A},{fid:O}){const B=Pe(I),ne=qe(I),he=A.getImmediate({optional:!0});if(he){const Mt=yield he.getHeartbeatsHeader();Mt&&ne.append("x-firebase-client",Mt)}const Ke={method:"POST",headers:ne,body:JSON.stringify({fid:O,authVersion:ze,appId:I.appId,sdkVersion:se})},yt=yield Ce(()=>fetch(B,Ke));if(yt.ok){const Mt=yield yt.json();return{fid:Mt.fid||O,registrationStatus:2,refreshToken:Mt.refreshToken,authToken:be(Mt.authToken)}}throw yield Ae("Create Installation",yt)})).apply(this,arguments)}function Be(I){return new Promise(A=>{setTimeout(A,I)})}const Kt=/^[cdef][\w-]{21}$/;function Je(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const O=function Jt(I){return function pt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Kt.test(O)?O:""}catch(I){return""}}function Mn(I){return`${I.appName}!${I.appId}`}const Qt=new Map;function Lt(I,A){const O=Mn(I);At(O,A),function gi(I,A){const O=function rr(){return!Vr&&"BroadcastChannel"in self&&(Vr=new BroadcastChannel("[Firebase] FID Change"),Vr.onmessage=I=>{At(I.data.key,I.data.fid)}),Vr}();O&&O.postMessage({key:I,fid:A}),function Pt(){0===Qt.size&&Vr&&(Vr.close(),Vr=null)}()}(O,A)}function At(I,A){const O=Qt.get(I);if(O)for(const B of O)B(A)}let Vr=null;const Un="firebase-installations-store";let hn=null;function it(){return hn||(hn=(0,de.X3)("firebase-installations-database",1,{upgrade:(I,A)=>{0===A&&I.createObjectStore(Un)}})),hn}function Tr(I,A){return yn.apply(this,arguments)}function yn(){return(yn=(0,U.Z)(function*(I,A){const O=Mn(I),ne=(yield it()).transaction(Un,"readwrite"),he=ne.objectStore(Un),Se=yield he.get(O);return yield he.put(A,O),yield ne.done,(!Se||Se.fid!==A.fid)&&Lt(I,A.fid),A})).apply(this,arguments)}function en(I){return Li.apply(this,arguments)}function Li(){return(Li=(0,U.Z)(function*(I){const A=Mn(I),B=(yield it()).transaction(Un,"readwrite");yield B.objectStore(Un).delete(A),yield B.done})).apply(this,arguments)}function Ui(I,A){return In.apply(this,arguments)}function In(){return(In=(0,U.Z)(function*(I,A){const O=Mn(I),ne=(yield it()).transaction(Un,"readwrite"),he=ne.objectStore(Un),Se=yield he.get(O),Ke=A(Se);return void 0===Ke?yield he.delete(O):yield he.put(Ke,O),yield ne.done,Ke&&(!Se||Se.fid!==Ke.fid)&&Lt(I,Ke.fid),Ke})).apply(this,arguments)}function Dn(I){return mi.apply(this,arguments)}function mi(){return(mi=(0,U.Z)(function*(I){let A;const O=yield Ui(I.appConfig,B=>{const ne=lo(B),he=nt(I,ne);return A=he.registrationPromise,he.installationEntry});return""===O.fid?{installationEntry:yield A}:{installationEntry:O,registrationPromise:A}})).apply(this,arguments)}function lo(I){return Ar(I||{fid:Je(),registrationStatus:0})}function nt(I,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Ne.create("app-offline"))};const O={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},B=function ht(I,A){return xt.apply(this,arguments)}(I,O);return{installationEntry:O,registrationPromise:B}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:ir(I)}:{installationEntry:A}}function xt(){return(xt=(0,U.Z)(function*(I,A){try{const O=yield we(I,A);return Tr(I.appConfig,O)}catch(O){throw Qe(O)&&409===O.customData.serverCode?yield en(I.appConfig):yield Tr(I.appConfig,{fid:A.fid,registrationStatus:0}),O}})).apply(this,arguments)}function ir(I){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,U.Z)(function*(I){let A=yield Gt(I.appConfig);for(;1===A.registrationStatus;)yield Be(100),A=yield Gt(I.appConfig);if(0===A.registrationStatus){const{installationEntry:O,registrationPromise:B}=yield Dn(I);return B||O}return A})).apply(this,arguments)}function Gt(I){return Ui(I,A=>{if(!A)throw Ne.create("installation-not-found");return Ar(A)})}function Ar(I){return function mr(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function xr(I,A){return _t.apply(this,arguments)}function _t(){return(_t=(0,U.Z)(function*({appConfig:I,heartbeatServiceProvider:A},O){const B=ps(I,O),ne=G(I,O),he=A.getImmediate({optional:!0});if(he){const Mt=yield he.getHeartbeatsHeader();Mt&&ne.append("x-firebase-client",Mt)}const Ke={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:se,appId:I.appId}})},yt=yield Ce(()=>fetch(B,Ke));if(yt.ok)return be(yield yt.json());throw yield Ae("Generate Auth Token",yt)})).apply(this,arguments)}function ps(I,{fid:A}){return`${Pe(I)}/${A}/authTokens:generate`}function Z(I){return Q.apply(this,arguments)}function Q(){return(Q=(0,U.Z)(function*(I,A=!1){let O;const B=yield Ui(I.appConfig,he=>{if(!mt(he))throw Ne.create("not-registered");const Se=he.authToken;if(!A&&ln(Se))return he;if(1===Se.requestStatus)return O=$(I,A),he;{if(!navigator.onLine)throw Ne.create("app-offline");const Ke=Zn(he);return O=ke(I,Ke),Ke}});return O?yield O:B.authToken})).apply(this,arguments)}function $(I,A){return K.apply(this,arguments)}function K(){return(K=(0,U.Z)(function*(I,A){let O=yield W(I.appConfig);for(;1===O.authToken.requestStatus;)yield Be(100),O=yield W(I.appConfig);const B=O.authToken;return 0===B.requestStatus?Z(I,A):B})).apply(this,arguments)}function W(I){return Ui(I,A=>{if(!mt(A))throw Ne.create("not-registered");return function Bt(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function ke(I,A){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,U.Z)(function*(I,A){try{const O=yield xr(I,A),B=Object.assign(Object.assign({},A),{authToken:O});return yield Tr(I.appConfig,B),O}catch(O){if(!Qe(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const B=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Tr(I.appConfig,B)}else yield en(I.appConfig);throw O}})).apply(this,arguments)}function mt(I){return void 0!==I&&2===I.registrationStatus}function ln(I){return 2===I.requestStatus&&!function Wt(I){const A=Date.now();return A<I.creationTime||I.creationTime+I.expiresIn<A+36e5}(I)}function Zn(I){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:A})}function Vi(){return(Vi=(0,U.Z)(function*(I){const A=I,{installationEntry:O,registrationPromise:B}=yield Dn(A);return B?B.catch(console.error):Z(A).catch(console.error),O.fid})).apply(this,arguments)}function Uo(){return(Uo=(0,U.Z)(function*(I,A=!1){const O=I;return yield Vn(O),(yield Z(O,A)).token})).apply(this,arguments)}function Vn(I){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,U.Z)(function*(I){const{registrationPromise:A}=yield Dn(I);A&&(yield A)})).apply(this,arguments)}function fo(I){return Ne.create("missing-app-config-values",{valueName:I})}const jr="installations",gt=I=>{const A=I.getProvider("app").getImmediate(),O=function nn(I){if(!I||!I.options)throw fo("App Configuration");if(!I.name)throw fo("App Name");const A=["projectId","apiKey","appId"];for(const O of A)if(!I.options[O])throw fo(O);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(A);return{app:A,appConfig:O,heartbeatServiceProvider:(0,pe._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},un=I=>{const A=I.getProvider("app").getImmediate(),O=(0,pe._getProvider)(A,jr).getImmediate();return{getId:()=>function Kr(I){return Vi.apply(this,arguments)}(O),getToken:ne=>function uo(I){return Uo.apply(this,arguments)}(O,ne)}};(function Hr(){(0,pe._registerComponent)(new ye.wA(jr,gt,"PUBLIC")),(0,pe._registerComponent)(new ye.wA("installations-internal",un,"PRIVATE"))})(),(0,pe.registerVersion)(ve,z),(0,pe.registerVersion)(ve,z,"esm2017");const Bi="@firebase/remote-config",Pn=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pd{constructor(A,O,B,ne){this.client=A,this.storage=O,this.storageCache=B,this.logger=ne}isCachedDataFresh(A,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-O,ne=B<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ne}.`),ne}fetch(A){var O=this;return(0,U.Z)(function*(){const[B,ne]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ne&&O.isCachedDataFresh(A.cacheMaxAgeMillis,B))return ne;A.eTag=ne&&ne.eTag;const he=yield O.client.fetch(A),Se=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&Se.push(O.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(Se),he})()}}function Kc(I=navigator){return I.languages&&I.languages[0]||I.language}class yr{constructor(A,O,B,ne,he,Se){this.firebaseInstallations=A,this.sdkVersion=O,this.namespace=B,this.projectId=ne,this.apiKey=he,this.appId=Se}fetch(A){var O=this;return(0,U.Z)(function*(){var B,ne,he;const[Se,Ke]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,kt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},ft={sdk_version:O.sdkVersion,app_instance_id:Se,app_instance_id_token:Ke,app_id:O.appId,language_code:Kc()},Kn={method:"POST",headers:kt,body:JSON.stringify(ft)},Yn=fetch(Mt,Kn),Mo=new Promise((Ss,cs)=>{A.signal.addEventListener(()=>{const Ha=new Error("The operation was aborted.");Ha.name="AbortError",cs(Ha)})});let So;try{yield Promise.race([Yn,Mo]),So=yield Yn}catch(Ss){let cs="fetch-client-network";throw"AbortError"===(null===(B=Ss)||void 0===B?void 0:B.name)&&(cs="fetch-timeout"),Pn.create(cs,{originalErrorMessage:null===(ne=Ss)||void 0===ne?void 0:ne.message})}let Ms=So.status;const wl=So.headers.get("ETag")||void 0;let Tc,aa;if(200===So.status){let Ss;try{Ss=yield So.json()}catch(cs){throw Pn.create("fetch-client-parse",{originalErrorMessage:null===(he=cs)||void 0===he?void 0:he.message})}Tc=Ss.entries,aa=Ss.state}if("INSTANCE_STATE_UNSPECIFIED"===aa?Ms=500:"NO_CHANGE"===aa?Ms=304:("NO_TEMPLATE"===aa||"EMPTY_CONFIG"===aa)&&(Tc={}),304!==Ms&&200!==Ms)throw Pn.create("fetch-status",{httpStatus:Ms});return{status:Ms,eTag:wl,config:Tc}})()}}class Ea{constructor(A,O){this.client=A,this.storage=O}fetch(A){var O=this;return(0,U.Z)(function*(){const B=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(A,B)})()}attemptFetch(A,{throttleEndTimeMillis:O,backoffCount:B}){var ne=this;return(0,U.Z)(function*(){yield function ys(I,A){return new Promise((O,B)=>{const ne=Math.max(A-Date.now(),0),he=setTimeout(O,ne);I.addEventListener(()=>{clearTimeout(he),B(Pn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,O);try{const he=yield ne.client.fetch(A);return yield ne.storage.deleteThrottleMetadata(),he}catch(he){if(!function Yc(I){if(!(I instanceof le.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(he))throw he;const Se={throttleEndTimeMillis:Date.now()+(0,le.$s)(B),backoffCount:B+1};return yield ne.storage.setThrottleMetadata(Se),ne.attemptFetch(A,Se)}})()}}class Jc{constructor(A,O,B,ne,he){this.app=A,this._client=O,this._storageCache=B,this._storage=ne,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function oc(I,A){var O;const B=I.target.error||void 0;return Pn.create(A,{originalErrorMessage:B&&(null===(O=B)||void 0===O?void 0:O.message)})}const vs="app_namespace_store";class md{constructor(A,O,B,ne=function lu(){return new Promise((I,A)=>{var O;try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=ne=>{A(oc(ne,"storage-open"))},B.onsuccess=ne=>{I(ne.target.result)},B.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(vs,{keyPath:"compositeKey"})}}catch(B){A(Pn.create("storage-open",{originalErrorMessage:null===(O=B)||void 0===O?void 0:O.message}))}})}()){this.appId=A,this.appName=O,this.namespace=B,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var O=this;return(0,U.Z)(function*(){const B=yield O.openDbPromise;return new Promise((ne,he)=>{var Se;const yt=B.transaction([vs],"readonly").objectStore(vs),Mt=O.createCompositeKey(A);try{const kt=yt.get(Mt);kt.onerror=ft=>{he(oc(ft,"storage-get"))},kt.onsuccess=ft=>{const Kn=ft.target.result;ne(Kn?Kn.value:void 0)}}catch(kt){he(Pn.create("storage-get",{originalErrorMessage:null===(Se=kt)||void 0===Se?void 0:Se.message}))}})})()}set(A,O){var B=this;return(0,U.Z)(function*(){const ne=yield B.openDbPromise;return new Promise((he,Se)=>{var Ke;const Mt=ne.transaction([vs],"readwrite").objectStore(vs),kt=B.createCompositeKey(A);try{const ft=Mt.put({compositeKey:kt,value:O});ft.onerror=Kn=>{Se(oc(Kn,"storage-set"))},ft.onsuccess=()=>{he()}}catch(ft){Se(Pn.create("storage-set",{originalErrorMessage:null===(Ke=ft)||void 0===Ke?void 0:Ke.message}))}})})()}delete(A){var O=this;return(0,U.Z)(function*(){const B=yield O.openDbPromise;return new Promise((ne,he)=>{var Se;const yt=B.transaction([vs],"readwrite").objectStore(vs),Mt=O.createCompositeKey(A);try{const kt=yt.delete(Mt);kt.onerror=ft=>{he(oc(ft,"storage-delete"))},kt.onsuccess=()=>{ne()}}catch(kt){he(Pn.create("storage-delete",{originalErrorMessage:null===(Se=kt)||void 0===Se?void 0:Se.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Xc{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,U.Z)(function*(){const O=A.storage.getLastFetchStatus(),B=A.storage.getLastSuccessfulFetchTimestampMillis(),ne=A.storage.getActiveConfig(),he=yield O;he&&(A.lastFetchStatus=he);const Se=yield B;Se&&(A.lastSuccessfulFetchTimestampMillis=Se);const Ke=yield ne;Ke&&(A.activeConfig=Ke)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Hs(){return tl.apply(this,arguments)}function tl(){return(tl=(0,U.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(I){return!1}})).apply(this,arguments)}!function go(){(0,pe._registerComponent)(new ye.wA("remote-config",function I(A,{instanceIdentifier:O}){const B=A.getProvider("app").getImmediate(),ne=A.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Pn.create("registration-window");if(!(0,le.hl)())throw Pn.create("indexed-db-unavailable");const{projectId:he,apiKey:Se,appId:Ke}=B.options;if(!he)throw Pn.create("registration-project-id");if(!Se)throw Pn.create("registration-api-key");if(!Ke)throw Pn.create("registration-app-id");const yt=new md(Ke,B.name,O=O||"firebase"),Mt=new Xc(yt),kt=new ce.Yd(Bi);kt.logLevel=ce.in.ERROR;const ft=new yr(ne,pe.SDK_VERSION,O,he,Se,Ke),Kn=new Ea(ft,yt),Yn=new pd(Kn,yt,Mt,kt),Mo=new Jc(B,Yn,Mt,yt,kt);return function fn(I){const A=(0,le.m9)(I);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Mo),Mo},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Bi,"0.3.11"),(0,pe.registerVersion)(Bi,"0.3.11","esm2017")}();const nl="/firebase-messaging-sw.js",vr="/firebase-cloud-messaging-push-scope",Ci="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mo="google.c.a.c_id",rl="google.c.a.c_l",il="google.c.a.ts",Ia="google.c.a.e";var _o=(()=>{return(I=_o||(_o={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",_o;var I})();function Sr(I){const A=new Uint8Array(I);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sl(I){const O=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(O),ne=new Uint8Array(B.length);for(let he=0;he<B.length;++he)ne[he]=B.charCodeAt(he);return ne}const Pr="fcm_token_details_db",Qr="fcm_token_object_Store";function ac(I){return $s.apply(this,arguments)}function $s(){return $s=(0,U.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(Pr))return null;let A=null;return(yield(0,de.X3)(Pr,5,{upgrade:(B=(0,U.Z)(function*(ne,he,Se,Ke){var yt;if(he<2||!ne.objectStoreNames.contains(Qr))return;const Mt=Ke.objectStore(Qr),kt=yield Mt.index("fcmSenderId").get(I);if(yield Mt.clear(),kt)if(2===he){const ft=kt;if(!ft.auth||!ft.p256dh||!ft.endpoint)return;A={token:ft.fcmToken,createTime:null!==(yt=ft.createTime)&&void 0!==yt?yt:Date.now(),subscriptionOptions:{auth:ft.auth,p256dh:ft.p256dh,endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:"string"==typeof ft.vapidKey?ft.vapidKey:Sr(ft.vapidKey)}}}else if(3===he){const ft=kt;A={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:Sr(ft.auth),p256dh:Sr(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:Sr(ft.vapidKey)}}}else if(4===he){const ft=kt;A={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:Sr(ft.auth),p256dh:Sr(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:Sr(ft.vapidKey)}}}}),function(he,Se,Ke,yt){return B.apply(this,arguments)})})).close(),yield(0,de.Lj)(Pr),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),cc(A)?A:null;var B}),$s.apply(this,arguments)}function cc(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:A}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const bi="firebase-messaging-store";let ol=null;function rn(){return ol||(ol=(0,de.X3)("firebase-messaging-database",1,{upgrade:(I,A)=>{0===A&&I.createObjectStore(bi)}})),ol}function $o(I){return qs.apply(this,arguments)}function qs(){return(qs=(0,U.Z)(function*(I){const A=sr(I),B=yield(yield rn()).transaction(bi).objectStore(bi).get(A);if(B)return B;{const ne=yield ac(I.appConfig.senderId);if(ne)return yield sn(I,ne),ne}})).apply(this,arguments)}function sn(I,A){return qo.apply(this,arguments)}function qo(){return(qo=(0,U.Z)(function*(I,A){const O=sr(I),ne=(yield rn()).transaction(bi,"readwrite");return yield ne.objectStore(bi).put(A,O),yield ne.done,A})).apply(this,arguments)}function Da(I){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,U.Z)(function*(I){const A=sr(I),B=(yield rn()).transaction(bi,"readwrite");yield B.objectStore(bi).delete(A),yield B.done})).apply(this,arguments)}function sr({appConfig:I}){return I.appId}const wn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xr(I,A){return zn.apply(this,arguments)}function zn(){return(zn=(0,U.Z)(function*(I,A){var O;const B=yield wo(I),ne=bs(A),he={method:"POST",headers:B,body:JSON.stringify(ne)};let Se;try{Se=yield(yield fetch($i(I.appConfig),he)).json()}catch(Ke){throw wn.create("token-subscribe-failed",{errorInfo:null===(O=Ke)||void 0===O?void 0:O.toString()})}if(Se.error)throw wn.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw wn.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function ei(I,A){return es.apply(this,arguments)}function es(){return(es=(0,U.Z)(function*(I,A){var O;const B=yield wo(I),ne=bs(A.subscriptionOptions),he={method:"PATCH",headers:B,body:JSON.stringify(ne)};let Se;try{Se=yield(yield fetch(`${$i(I.appConfig)}/${A.token}`,he)).json()}catch(Ke){throw wn.create("token-update-failed",{errorInfo:null===(O=Ke)||void 0===O?void 0:O.toString()})}if(Se.error)throw wn.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw wn.create("token-update-no-token");return Se.token})).apply(this,arguments)}function Go(I,A){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,U.Z)(function*(I,A){var O;const ne={method:"DELETE",headers:yield wo(I)};try{const Se=yield(yield fetch(`${$i(I.appConfig)}/${A}`,ne)).json();if(Se.error)throw wn.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(he){throw wn.create("token-unsubscribe-failed",{errorInfo:null===(O=he)||void 0===O?void 0:O.toString()})}})).apply(this,arguments)}function $i({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function wo(I){return It.apply(this,arguments)}function It(){return(It=(0,U.Z)(function*({appConfig:I,installations:A}){const O=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function bs({p256dh:I,auth:A,endpoint:O,vapidKey:B}){const ne={web:{endpoint:O,auth:A,p256dh:I}};return B!==Ci&&(ne.web.applicationPubKey=B),ne}const dc=6048e5;function Zo(I){return zo.apply(this,arguments)}function zo(){return(zo=(0,U.Z)(function*(I){const A=yield Es(I.swRegistration,I.vapidKey),O={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:A.endpoint,auth:Sr(A.getKey("auth")),p256dh:Sr(A.getKey("p256dh"))},B=yield $o(I.firebaseDependencies);if(B){if(Ko(B.subscriptionOptions,O))return Date.now()>=B.createTime+dc?hc(I,{token:B.token,createTime:Date.now(),subscriptionOptions:O}):B.token;try{yield Go(I.firebaseDependencies,B.token)}catch(ne){console.warn(ne)}return Oe(I.firebaseDependencies,O)}return Oe(I.firebaseDependencies,O)})).apply(this,arguments)}function Wo(I){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,U.Z)(function*(I){const A=yield $o(I.firebaseDependencies);A&&(yield Go(I.firebaseDependencies,A.token),yield Da(I.firebaseDependencies));const O=yield I.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function hc(I,A){return Co.apply(this,arguments)}function Co(){return(Co=(0,U.Z)(function*(I,A){try{const O=yield ei(I.firebaseDependencies,A),B=Object.assign(Object.assign({},A),{token:O,createTime:Date.now()});return yield sn(I.firebaseDependencies,B),O}catch(O){throw yield Wo(I),O}})).apply(this,arguments)}function Oe(I,A){return qt.apply(this,arguments)}function qt(){return(qt=(0,U.Z)(function*(I,A){const B={token:yield Xr(I,A),createTime:Date.now(),subscriptionOptions:A};return yield sn(I,B),B.token})).apply(this,arguments)}function Es(I,A){return mn.apply(this,arguments)}function mn(){return(mn=(0,U.Z)(function*(I,A){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sl(A)})})).apply(this,arguments)}function Ko(I,A){return A.vapidKey===I.vapidKey&&A.endpoint===I.endpoint&&A.auth===I.auth&&A.p256dh===I.p256dh}function ts(I){const A={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function ti(I,A){if(!A.notification)return;I.notification={};const O=A.notification.title;O&&(I.notification.title=O);const B=A.notification.body;B&&(I.notification.body=B);const ne=A.notification.image;ne&&(I.notification.image=ne)}(A,I),function fc(I,A){!A.data||(I.data=A.data)}(A,I),function pc(I,A){var O,B,ne,he,Se;if(!A.fcmOptions&&!(null===(O=A.notification)||void 0===O?void 0:O.click_action))return;I.fcmOptions={};const Ke=null!==(ne=null===(B=A.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==ne?ne:null===(he=A.notification)||void 0===he?void 0:he.click_action;Ke&&(I.fcmOptions.link=Ke);const yt=null===(Se=A.fcmOptions)||void 0===Se?void 0:Se.analytics_label;yt&&(I.fcmOptions.analyticsLabel=yt)}(A,I),A}function bo(I){return"object"==typeof I&&!!I&&mo in I}function al(I,A){const O=[];for(let B=0;B<I.length;B++)O.push(I.charAt(B)),B<A.length&&O.push(A.charAt(B));return O.join("")}function ns(I){return wn.create("missing-app-config-values",{valueName:I})}al("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),al("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class wr{constructor(A,O,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function _d(I){if(!I||!I.options)throw ns("App Configuration Object");if(!I.name)throw ns("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:O}=I;for(const B of A)if(!O[B])throw ns(B);return{appName:I.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ne,installations:O,analyticsProvider:B}}_delete(){return Promise.resolve()}}function qr(I){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,U.Z)(function*(I){var A;try{I.swRegistration=yield navigator.serviceWorker.register(nl,{scope:vr}),I.swRegistration.update().catch(()=>{})}catch(O){throw wn.create("failed-service-worker-registration",{browserErrorMessage:null===(A=O)||void 0===A?void 0:A.message})}})).apply(this,arguments)}function Is(I,A){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,U.Z)(function*(I,A){if(!A&&!I.swRegistration&&(yield qr(I)),A||!I.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw wn.create("invalid-sw-registration");I.swRegistration=A}})).apply(this,arguments)}function gc(I,A){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,U.Z)(function*(I,A){A?I.vapidKey=A:I.vapidKey||(I.vapidKey=Ci)})).apply(this,arguments)}function mc(){return(mc=(0,U.Z)(function*(I,A){if(!navigator)throw wn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wn.create("permission-blocked");return yield gc(I,null==A?void 0:A.vapidKey),yield Is(I,null==A?void 0:A.serviceWorkerRegistration),Zo(I)})).apply(this,arguments)}function Qo(I,A,O){return xa.apply(this,arguments)}function xa(){return(xa=(0,U.Z)(function*(I,A,O){const B=Xo(A);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:O[mo],message_name:O[rl],message_time:O[il],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xo(I){switch(I){case _o.NOTIFICATION_CLICKED:return"notification_open";case _o.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function cl(){return(cl=(0,U.Z)(function*(I,A){const O=A.data;if(!O.isFirebaseMessaging)return;I.onMessageHandler&&O.messageType===_o.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(ts(O)):I.onMessageHandler.next(ts(O)));const B=O.data;bo(B)&&"1"===B[Ia]&&(yield Qo(I,O.messageType,B))})).apply(this,arguments)}const Sa="@firebase/messaging",ll=I=>{const A=new wr(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Ma(I,A){return cl.apply(this,arguments)}(A,O)),A},Zs=I=>{const A=I.getProvider("messaging").getImmediate();return{getToken:B=>function Jo(I,A){return mc.apply(this,arguments)}(A,B)}};function Pa(){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,U.Z)(function*(){try{yield(0,le.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ul(){(0,pe._registerComponent)(new ye.wA("messaging",ll,"PUBLIC")),(0,pe._registerComponent)(new ye.wA("messaging-internal",Zs,"PRIVATE")),(0,pe.registerVersion)(Sa,"0.9.16"),(0,pe.registerVersion)(Sa,"0.9.16","esm2017")}();const dl="analytics",hu="firebase_id",rs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ds="https://www.googletagmanager.com/gtag/js",jn=new ce.Yd("@firebase/analytics");function hl(I){return Promise.all(I.map(A=>A.catch(O=>O)))}function vd(I,A){const O=document.createElement("script");O.src=`${Ds}?l=${I}&id=${A}`,O.async=!0,document.head.appendChild(O)}function Di(I,A,O,B,ne,he){return ka.apply(this,arguments)}function ka(){return(ka=(0,U.Z)(function*(I,A,O,B,ne,he){const Se=B[ne];try{if(Se)yield A[Se];else{const yt=(yield hl(O)).find(Mt=>Mt.measurementId===ne);yt&&(yield A[yt.appId])}}catch(Ke){jn.error(Ke)}I("config",ne,he)})).apply(this,arguments)}function wd(I,A,O,B,ne){return is.apply(this,arguments)}function is(){return(is=(0,U.Z)(function*(I,A,O,B,ne){try{let he=[];if(ne&&ne.send_to){let Se=ne.send_to;Array.isArray(Se)||(Se=[Se]);const Ke=yield hl(O);for(const yt of Se){const Mt=Ke.find(ft=>ft.measurementId===yt),kt=Mt&&A[Mt.appId];if(!kt){he=[];break}he.push(kt)}}0===he.length&&(he=Object.values(A)),yield Promise.all(he),I("event",B,ne||{})}catch(he){jn.error(he)}})).apply(this,arguments)}function pn(){const I=window.document.getElementsByTagName("script");for(const A of Object.values(I))if(A.src&&A.src.includes(Ds))return A;return null}const at=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),j=new class P{constructor(A={},O=1e3){this.throttleMetadata=A,this.intervalMillis=O}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,O){this.throttleMetadata[A]=O}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Ee(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function et(I){return cn.apply(this,arguments)}function cn(){return(cn=(0,U.Z)(function*(I){var A;const{appId:O,apiKey:B}=I,ne={method:"GET",headers:Ee(B)},he=rs.replace("{app-id}",O),Se=yield fetch(he,ne);if(200!==Se.status&&304!==Se.status){let Ke="";try{const yt=yield Se.json();(null===(A=yt.error)||void 0===A?void 0:A.message)&&(Ke=yt.error.message)}catch(yt){}throw at.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Ke})}return Se.json()})).apply(this,arguments)}function on(I){return En.apply(this,arguments)}function En(){return(En=(0,U.Z)(function*(I,A=j,O){const{appId:B,apiKey:ne,measurementId:he}=I.options;if(!B)throw at.create("no-app-id");if(!ne){if(he)return{measurementId:he,appId:B};throw at.create("no-api-key")}const Se=A.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new fu;return setTimeout((0,U.Z)(function*(){Ke.abort()}),void 0!==O?O:6e4),Cr({appId:B,apiKey:ne,measurementId:he},Se,Ke,A)})).apply(this,arguments)}function Cr(I,A,O){return vt.apply(this,arguments)}function vt(){return(vt=(0,U.Z)(function*(I,{throttleEndTimeMillis:A,backoffCount:O},B,ne=j){var he,Se;const{appId:Ke,measurementId:yt}=I;try{yield bd(B,A)}catch(Mt){if(yt)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yt} provided in the "measurementId" field in the local Firebase config. [${null===(he=Mt)||void 0===he?void 0:he.message}]`),{appId:Ke,measurementId:yt};throw Mt}try{const Mt=yield et(I);return ne.deleteThrottleMetadata(Ke),Mt}catch(Mt){const kt=Mt;if(!Ed(kt)){if(ne.deleteThrottleMetadata(Ke),yt)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${yt} provided in the "measurementId" field in the local Firebase config. [${null==kt?void 0:kt.message}]`),{appId:Ke,measurementId:yt};throw Mt}const ft=503===Number(null===(Se=null==kt?void 0:kt.customData)||void 0===Se?void 0:Se.httpStatus)?(0,le.$s)(O,ne.intervalMillis,30):(0,le.$s)(O,ne.intervalMillis),Kn={throttleEndTimeMillis:Date.now()+ft,backoffCount:O+1};return ne.setThrottleMetadata(Ke,Kn),jn.debug(`Calling attemptFetch again in ${ft} millis`),Cr(I,Kn,B,ne)}})).apply(this,arguments)}function bd(I,A){return new Promise((O,B)=>{const ne=Math.max(A-Date.now(),0),he=setTimeout(O,ne);I.addEventListener(()=>{clearTimeout(he),B(at.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function Ed(I){if(!(I instanceof le.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}class fu{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let yc,Fa;function Ts(){return(Ts=(0,U.Z)(function*(I,A,O,B,ne){if(ne&&ne.global)I("event",O,B);else{const he=yield A;I("event",O,Object.assign(Object.assign({},B),{send_to:he}))}})).apply(this,arguments)}function wc(I){Fa=I}function Cc(I){yc=I}function bc(){return qi.apply(this,arguments)}function qi(){return(qi=(0,U.Z)(function*(){var I;if(!(0,le.hl)())return jn.warn(at.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(A){return jn.warn(at.create("indexeddb-unavailable",{errorInfo:null===(I=A)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function ar(){return(ar=(0,U.Z)(function*(I,A,O,B,ne,he,Se){var Ke;const yt=on(I);yt.then(Yn=>{O[Yn.measurementId]=Yn.appId,I.options.measurementId&&Yn.measurementId!==I.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Yn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yn=>jn.error(Yn)),A.push(yt);const Mt=bc().then(Yn=>{if(Yn)return B.getId()}),[kt,ft]=yield Promise.all([yt,Mt]);pn()||vd(he,kt.measurementId),Fa&&(ne("consent","default",Fa),wc(void 0)),ne("js",new Date);const Kn=null!==(Ke=null==Se?void 0:Se.config)&&void 0!==Ke?Ke:{};return Kn.origin="firebase",Kn.update=!0,null!=ft&&(Kn[hu]=ft),ne("config",kt.measurementId,Kn),yc&&(ne("set",yc),Cc(void 0)),kt.measurementId})).apply(this,arguments)}class pu{constructor(A){this.app=A}_delete(){return delete ni[this.app.options.appId],Promise.resolve()}}let ni={},Ln=[];const La={};let ss,Tn,As="dataLayer",ri=!1;function Id(I,A,O){!function os(){const I=[];if((0,le.ru)()&&I.push("This is a browser extension environment."),(0,le.zI)()||I.push("Cookies are not available."),I.length>0){const A=I.map((B,ne)=>`(${ne+1}) ${B}`).join(" "),O=at.create("invalid-analytics-context",{errorInfo:A});jn.warn(O.message)}}();const B=I.options.appId;if(!B)throw at.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw at.create("no-api-key");jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ni[B])throw at.create("already-exists",{id:B});if(!ri){!function or(I){let A=[];Array.isArray(window[I])?A=window[I]:window[I]=A}(As);const{wrappedGtag:he,gtagCore:Se}=function Cd(I,A,O,B,ne){let he=function(...Se){window[B].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(he=window[ne]),window[ne]=function Ra(I,A,O,B){function he(){return(he=(0,U.Z)(function*(Se,Ke,yt){try{"event"===Se?yield wd(I,A,O,Ke,yt):"config"===Se?yield Di(I,A,O,B,Ke,yt):"consent"===Se?I("consent","update",yt):I("set",Ke)}catch(Mt){jn.error(Mt)}})).apply(this,arguments)}return function ne(Se,Ke,yt){return he.apply(this,arguments)}}(he,I,A,O),{gtagCore:he,wrappedGtag:window[ne]}}(ni,Ln,La,As,"gtag");Tn=he,ss=Se,ri=!0}return ni[B]=function ia(I,A,O,B,ne,he,Se){return ar.apply(this,arguments)}(I,Ln,La,A,ss,As,O),new pu(I)}function Dd(){return Td.apply(this,arguments)}function Td(){return(Td=(0,U.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(I){return!1}})).apply(this,arguments)}const Hn="@firebase/analytics";!function Ic(){(0,pe._registerComponent)(new ye.wA(dl,(A,{options:O})=>Id(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,pe._registerComponent)(new ye.wA("analytics-internal",function I(A){try{const O=A.getProvider(dl).getImmediate();return{logEvent:(B,ne,he)=>function Ks(I,A,O,B){I=(0,le.m9)(I),function Or(I,A,O,B,ne){return Ts.apply(this,arguments)}(Tn,ni[I.app.options.appId],A,O,B).catch(ne=>jn.error(ne))}(O,B,ne,he)}}catch(O){throw at.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,pe.registerVersion)(Hn,"0.8.0"),(0,pe.registerVersion)(Hn,"0.8.0","esm2017")}();var xd=F(4408),ii=F(7565);const Dc=new class si extends ii.v{}(class Jh extends xd.o{constructor(A,O){super(A,O),this.scheduler=A,this.work=O}schedule(A,O=0){return O>0?super.schedule(A,O):(this.delay=O,this.state=A,this.scheduler.flush(this),this)}execute(A,O){return O>0||this.closed?super.execute(A,O):this._execute(A,O)}requestAsyncId(A,O,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(A,O,B):A.flush(this)}});var oa=F(4986),Va=F(8505),To=F(5363),pl=F(9468);const Zt=new c.GfV("7.4.1"),Md="__angularfire_symbol__analyticsIsSupportedValue",Ys="__angularfire_symbol__analyticsIsSupported",cr="__angularfire_symbol__remoteConfigIsSupportedValue",Ao="__angularfire_symbol__remoteConfigIsSupported",xo="__angularfire_symbol__messagingIsSupportedValue",Sd="__angularfire_symbol__messagingIsSupported";function gl(I,A,O){if(A){if(1===A.length)return A[0];const he=A.filter(Se=>Se.app===O);if(1===he.length)return he[0]}return O.container.getProvider(I).getImmediate({optional:!0})}globalThis[Ys]||(globalThis[Ys]=Dd().then(I=>globalThis[Md]=I).catch(()=>globalThis[Md]=!1)),globalThis[Sd]||(globalThis[Sd]=Pa().then(I=>globalThis[xo]=I).catch(()=>globalThis[xo]=!1)),globalThis[Ao]||(globalThis[Ao]=Hs().then(I=>globalThis[cr]=I).catch(()=>globalThis[cr]=!1));const Pd=(I,A)=>{const O=A?[A]:(0,L.C6)(),B=[];return O.forEach(ne=>{ne.container.getProvider(I).instances.forEach(Se=>{B.includes(Se)||B.push(Se)})}),B};function An(){}class Er{constructor(A,O=Dc){this.zone=A,this.delegate=O}now(){return this.delegate.now()}schedule(A,O,B){const ne=this.zone;return this.delegate.schedule(function(Se){ne.runGuarded(()=>{A.apply(this,[Se])})},O,B)}}class ml{constructor(A){this.zone=A,this.task=null}call(A,O){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",An,{},An,An)),O.pipe((0,Va.b)({next:B,complete:B,error:B})).subscribe(A).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Jp=(()=>{class I{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Er(Zone.current)),this.insideAngular=O.run(()=>new Er(Zone.current,oa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(O){return new(O||I)(c.LFG(c.R0b))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function oi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Od(I){return I.pipe((0,To.Q)(oi().outsideAngular))}function _l(I){return oi(),function yl(I){return function(O){return(O=O.lift(new ml(I.ngZone))).pipe((0,pl.R)(I.outsideAngular),(0,To.Q)(I.insideAngular))}}(oi())(I)}},2090:(rt,oe,F)=>{"use strict";F.d(oe,{$s:()=>mr,BH:()=>ze,G6:()=>qe,L:()=>de,LL:()=>fe,Mn:()=>Ae,Sg:()=>xe,UG:()=>me,US:()=>ye,ZB:()=>Y,ZR:()=>we,b$:()=>Qe,d:()=>Pe,eu:()=>Ce,hl:()=>G,jU:()=>Ie,m9:()=>ps,ne:()=>it,pd:()=>Un,r3:()=>bn,ru:()=>Ne,tV:()=>ve,uI:()=>Ve,vZ:()=>Vr,w1:()=>be,xO:()=>Nn,xb:()=>At,z$:()=>Ue,zI:()=>ee,zd:()=>gr});const pe=function(Z){const Q=[];let $=0;for(let K=0;K<Z.length;K++){let W=Z.charCodeAt(K);W<128?Q[$++]=W:W<2048?(Q[$++]=W>>6|192,Q[$++]=63&W|128):55296==(64512&W)&&K+1<Z.length&&56320==(64512&Z.charCodeAt(K+1))?(W=65536+((1023&W)<<10)+(1023&Z.charCodeAt(++K)),Q[$++]=W>>18|240,Q[$++]=W>>12&63|128,Q[$++]=W>>6&63|128,Q[$++]=63&W|128):(Q[$++]=W>>12|224,Q[$++]=W>>6&63|128,Q[$++]=63&W|128)}return Q},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,Q){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let W=0;W<Z.length;W+=3){const ke=Z[W],Ge=W+1<Z.length,mt=Ge?Z[W+1]:0,ln=W+2<Z.length,Wt=ln?Z[W+2]:0;let Kr=(15&mt)<<2|Wt>>6,Vi=63&Wt;ln||(Vi=64,Ge||(Kr=64)),K.push($[ke>>2],$[(3&ke)<<4|mt>>4],$[Kr],$[Vi])}return K.join("")},encodeString(Z,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(Z):this.encodeByteArray(pe(Z),Q)},decodeString(Z,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(Z):function(Z){const Q=[];let $=0,K=0;for(;$<Z.length;){const W=Z[$++];if(W<128)Q[K++]=String.fromCharCode(W);else if(W>191&&W<224){const ke=Z[$++];Q[K++]=String.fromCharCode((31&W)<<6|63&ke)}else if(W>239&&W<365){const ln=((7&W)<<18|(63&Z[$++])<<12|(63&Z[$++])<<6|63&Z[$++])-65536;Q[K++]=String.fromCharCode(55296+(ln>>10)),Q[K++]=String.fromCharCode(56320+(1023&ln))}else{const ke=Z[$++],Ge=Z[$++];Q[K++]=String.fromCharCode((15&W)<<12|(63&ke)<<6|63&Ge)}}return Q.join("")}(this.decodeStringToByteArray(Z,Q))},decodeStringToByteArray(Z,Q){this.init_();const $=Q?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let W=0;W<Z.length;){const ke=$[Z.charAt(W++)],mt=W<Z.length?$[Z.charAt(W)]:0;++W;const Wt=W<Z.length?$[Z.charAt(W)]:64;++W;const Bt=W<Z.length?$[Z.charAt(W)]:64;if(++W,null==ke||null==mt||null==Wt||null==Bt)throw Error();K.push(ke<<2|mt>>4),64!==Wt&&(K.push(mt<<4&240|Wt>>2),64!==Bt&&K.push(Wt<<6&192|Bt))}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},de=function(Z){return function(Z){const Q=pe(Z);return ye.encodeByteArray(Q,!0)}(Z).replace(/\./g,"")},ve=function(Z){try{return ye.decodeString(Z,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function Y(Z,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return Q}for(const $ in Q)!Q.hasOwnProperty($)||!se($)||(Z[$]=Y(Z[$],Q[$]));return Z}function se(Z){return"__proto__"!==Z}class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,$)=>{this.resolve=Q,this.reject=$})}wrapCallback(Q){return($,K)=>{$?this.reject($):this.resolve(K),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q($):Q($,K))}}}function xe(Z,Q){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const K=Q||"demo-project",W=Z.iat||0,ke=Z.sub||Z.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${K}`,aud:K,iat:W,exp:W+3600,auth_time:W,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Ge)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function Ie(){return"object"==typeof self&&self.self===self}function Ne(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){return Ue().indexOf("Electron/")>=0}function be(){const Z=Ue();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Ae(){return Ue().indexOf("MSAppHost/")>=0}function qe(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G(){return"object"==typeof indexedDB}function Ce(){return new Promise((Z,Q)=>{try{let $=!0;const K="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(K);W.onsuccess=()=>{W.result.close(),$||self.indexedDB.deleteDatabase(K),Z(!0)},W.onupgradeneeded=()=>{$=!1},W.onerror=()=>{var ke;Q((null===(ke=W.error)||void 0===ke?void 0:ke.message)||"")}}catch($){Q($)}})}function ee(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class we extends Error{constructor(Q,$,K){super($),this.code=Q,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}}class fe{constructor(Q,$,K){this.service=Q,this.serviceName=$,this.errors=K}create(Q,...$){const K=$[0]||{},W=`${this.service}/${Q}`,ke=this.errors[Q],Ge=ke?function Be(Z,Q){return Z.replace(pt,($,K)=>{const W=Q[K];return null!=W?String(W):`<${K}?>`})}(ke,K):"Error";return new we(W,`${this.serviceName}: ${Ge} (${W}).`,K)}}const pt=/\{\$([^}]+)}/g;function bn(Z,Q){return Object.prototype.hasOwnProperty.call(Z,Q)}function At(Z){for(const Q in Z)if(Object.prototype.hasOwnProperty.call(Z,Q))return!1;return!0}function Vr(Z,Q){if(Z===Q)return!0;const $=Object.keys(Z),K=Object.keys(Q);for(const W of $){if(!K.includes(W))return!1;const ke=Z[W],Ge=Q[W];if(rr(ke)&&rr(Ge)){if(!Vr(ke,Ge))return!1}else if(ke!==Ge)return!1}for(const W of K)if(!$.includes(W))return!1;return!0}function rr(Z){return null!==Z&&"object"==typeof Z}function Nn(Z){const Q=[];for(const[$,K]of Object.entries(Z))Array.isArray(K)?K.forEach(W=>{Q.push(encodeURIComponent($)+"="+encodeURIComponent(W))}):Q.push(encodeURIComponent($)+"="+encodeURIComponent(K));return Q.length?"&"+Q.join("&"):""}function gr(Z){const Q={};return Z.replace(/^\?/,"").split("&").forEach(K=>{if(K){const[W,ke]=K.split("=");Q[decodeURIComponent(W)]=decodeURIComponent(ke)}}),Q}function Un(Z){const Q=Z.indexOf("?");if(!Q)return"";const $=Z.indexOf("#",Q);return Z.substring(Q,$>0?$:void 0)}function it(Z,Q){const $=new Tr(Z,Q);return $.subscribe.bind($)}class Tr{constructor(Q,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{Q(this)}).catch(K=>{this.error(K)})}next(Q){this.forEachObserver($=>{$.next(Q)})}error(Q){this.forEachObserver($=>{$.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,$,K){let W;if(void 0===Q&&void 0===$&&void 0===K)throw new Error("Missing Observer.");W=function en(Z,Q){if("object"!=typeof Z||null===Z)return!1;for(const $ of Q)if($ in Z&&"function"==typeof Z[$])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:$,complete:K},void 0===W.next&&(W.next=Li),void 0===W.error&&(W.error=Li),void 0===W.complete&&(W.complete=Li);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch(Ge){}}),this.observers.push(W),ke}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,Q)}sendOne(Q,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{$(this.observers[Q])}catch(K){"undefined"!=typeof console&&console.error&&console.error(K)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Li(){}function mr(Z,Q=1e3,$=2){const K=Q*Math.pow($,Z),W=Math.round(.5*K*(Math.random()-.5)*2);return Math.min(144e5,K+W)}function ps(Z){return Z&&Z._delegate?Z._delegate:Z}},6086:(rt,oe,F)=>{"use strict";var c=F(5e3);let L=null;function U(){return L}const ce=new c.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ve(){return(0,c.LFG)(Y)}()},providedIn:"platform"}),n})();const z=new c.OlP("Location Initialized");let Y=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(t){const r=U().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=U().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,s){se()?this._history.pushState(t,r,s):this.location.hash=s}replaceState(t,r,s){se()?this._history.replaceState(t,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ze(){return new Y((0,c.LFG)(ce))}()},providedIn:"platform"}),n})();function se(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ue(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ie(n){const e=(0,c.LFG)(ce).location;return new Qe((0,c.LFG)(de),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ne=new c.OlP("appBaseHref");let Qe=(()=>{class n extends me{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,l){const d=this.prepareExternalUrl(s+Ve(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,l){const d=this.prepareExternalUrl(s+Ve(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(Ne,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,l){let d=this.prepareExternalUrl(s+Ve(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,l){let d=this.prepareExternalUrl(s+Ve(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(Ne,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),be=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const s=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ue(qe(s)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ve(r))}normalize(t){return n.stripTrailingSlash(function Ze(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._platformStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),s)}replaceState(t,r="",s=null){this._platformStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformStrategy).historyGo)||void 0===s||s.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=xe,n.stripTrailingSlash=Ue,n.\u0275fac=function(t){return new(t||n)(c.LFG(me),c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ae(){return new be((0,c.LFG)(me),(0,c.LFG)(de))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}var ae=(()=>((ae=ae||{})[ae.Format=0]="Format",ae[ae.Standalone=1]="Standalone",ae))(),re=(()=>((re=re||{})[re.Narrow=0]="Narrow",re[re.Abbreviated=1]="Abbreviated",re[re.Wide=2]="Wide",re[re.Short=3]="Short",re))(),we=(()=>((we=we||{})[we.Short=0]="Short",we[we.Medium=1]="Medium",we[we.Long=2]="Long",we[we.Full=3]="Full",we))(),fe=(()=>((fe=fe||{})[fe.Decimal=0]="Decimal",fe[fe.Group=1]="Group",fe[fe.List=2]="List",fe[fe.PercentSign=3]="PercentSign",fe[fe.PlusSign=4]="PlusSign",fe[fe.MinusSign=5]="MinusSign",fe[fe.Exponential=6]="Exponential",fe[fe.SuperscriptingExponent=7]="SuperscriptingExponent",fe[fe.PerMille=8]="PerMille",fe[fe.Infinity=9]="Infinity",fe[fe.NaN=10]="NaN",fe[fe.TimeSeparator=11]="TimeSeparator",fe[fe.CurrencyDecimal=12]="CurrencyDecimal",fe[fe.CurrencyGroup=13]="CurrencyGroup",fe))();function Lt(n,e){return yn((0,c.cg1)(n)[c.wAp.DateFormat],e)}function bn(n,e){return yn((0,c.cg1)(n)[c.wAp.TimeFormat],e)}function Xt(n,e){return yn((0,c.cg1)(n)[c.wAp.DateTimeFormat],e)}function At(n,e){const t=(0,c.cg1)(n),r=t[c.wAp.NumberSymbols][e];if(void 0===r){if(e===fe.CurrencyDecimal)return t[c.wAp.NumberSymbols][fe.Decimal];if(e===fe.CurrencyGroup)return t[c.wAp.NumberSymbols][fe.Group]}return r}function Un(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function en(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Dn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mi={},lo=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var nt=(()=>((nt=nt||{})[nt.Short=0]="Short",nt[nt.ShortGMT=1]="ShortGMT",nt[nt.Long=2]="Long",nt[nt.Extended=3]="Extended",nt))(),ht=(()=>((ht=ht||{})[ht.FullYear=0]="FullYear",ht[ht.Month=1]="Month",ht[ht.Date=2]="Date",ht[ht.Hours=3]="Hours",ht[ht.Minutes=4]="Minutes",ht[ht.Seconds=5]="Seconds",ht[ht.FractionalSeconds=6]="FractionalSeconds",ht[ht.Day=7]="Day",ht))(),xt=(()=>((xt=xt||{})[xt.DayPeriods=0]="DayPeriods",xt[xt.Days=1]="Days",xt[xt.Months=2]="Months",xt[xt.Eras=3]="Eras",xt))();function ir(n,e,t,r){let s=function uo(n){if(Vn(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[s,l=1,d=1]=n.split("-").map(m=>+m);return Wr(s,l-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Dn))return function Uo(n){const e=new Date(0);let t=0,r=0;const s=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),s.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,m=Number(n[5]||0)-r,v=Number(n[6]||0),T=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,d,m,v,T),e}(r)}const e=new Date(n);if(!Vn(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Gt(t,e)||e;let m,d=[];for(;e;){if(m=lo.exec(e),!m){d.push(e);break}{d=d.concat(m.slice(1));const S=d.pop();if(!S)break;e=S}}let v=s.getTimezoneOffset();r&&(v=Bt(r,v),s=function Vi(n,e,t){const r=t?-1:1,s=n.getTimezoneOffset();return function Kr(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Bt(e,s)-s))}(s,r,!0));let T="";return d.forEach(S=>{const R=function Zn(n){if(Wt[n])return Wt[n];let e;switch(n){case"G":case"GG":case"GGG":e=Z(xt.Eras,re.Abbreviated);break;case"GGGG":e=Z(xt.Eras,re.Wide);break;case"GGGGG":e=Z(xt.Eras,re.Narrow);break;case"y":e=_t(ht.FullYear,1,0,!1,!0);break;case"yy":e=_t(ht.FullYear,2,0,!0,!0);break;case"yyy":e=_t(ht.FullYear,3,0,!1,!0);break;case"yyyy":e=_t(ht.FullYear,4,0,!1,!0);break;case"Y":e=ln(1);break;case"YY":e=ln(2,!0);break;case"YYY":e=ln(3);break;case"YYYY":e=ln(4);break;case"M":case"L":e=_t(ht.Month,1,1);break;case"MM":case"LL":e=_t(ht.Month,2,1);break;case"MMM":e=Z(xt.Months,re.Abbreviated);break;case"MMMM":e=Z(xt.Months,re.Wide);break;case"MMMMM":e=Z(xt.Months,re.Narrow);break;case"LLL":e=Z(xt.Months,re.Abbreviated,ae.Standalone);break;case"LLLL":e=Z(xt.Months,re.Wide,ae.Standalone);break;case"LLLLL":e=Z(xt.Months,re.Narrow,ae.Standalone);break;case"w":e=mt(1);break;case"ww":e=mt(2);break;case"W":e=mt(1,!0);break;case"d":e=_t(ht.Date,1);break;case"dd":e=_t(ht.Date,2);break;case"c":case"cc":e=_t(ht.Day,1);break;case"ccc":e=Z(xt.Days,re.Abbreviated,ae.Standalone);break;case"cccc":e=Z(xt.Days,re.Wide,ae.Standalone);break;case"ccccc":e=Z(xt.Days,re.Narrow,ae.Standalone);break;case"cccccc":e=Z(xt.Days,re.Short,ae.Standalone);break;case"E":case"EE":case"EEE":e=Z(xt.Days,re.Abbreviated);break;case"EEEE":e=Z(xt.Days,re.Wide);break;case"EEEEE":e=Z(xt.Days,re.Narrow);break;case"EEEEEE":e=Z(xt.Days,re.Short);break;case"a":case"aa":case"aaa":e=Z(xt.DayPeriods,re.Abbreviated);break;case"aaaa":e=Z(xt.DayPeriods,re.Wide);break;case"aaaaa":e=Z(xt.DayPeriods,re.Narrow);break;case"b":case"bb":case"bbb":e=Z(xt.DayPeriods,re.Abbreviated,ae.Standalone,!0);break;case"bbbb":e=Z(xt.DayPeriods,re.Wide,ae.Standalone,!0);break;case"bbbbb":e=Z(xt.DayPeriods,re.Narrow,ae.Standalone,!0);break;case"B":case"BB":case"BBB":e=Z(xt.DayPeriods,re.Abbreviated,ae.Format,!0);break;case"BBBB":e=Z(xt.DayPeriods,re.Wide,ae.Format,!0);break;case"BBBBB":e=Z(xt.DayPeriods,re.Narrow,ae.Format,!0);break;case"h":e=_t(ht.Hours,1,-12);break;case"hh":e=_t(ht.Hours,2,-12);break;case"H":e=_t(ht.Hours,1);break;case"HH":e=_t(ht.Hours,2);break;case"m":e=_t(ht.Minutes,1);break;case"mm":e=_t(ht.Minutes,2);break;case"s":e=_t(ht.Seconds,1);break;case"ss":e=_t(ht.Seconds,2);break;case"S":e=_t(ht.FractionalSeconds,1);break;case"SS":e=_t(ht.FractionalSeconds,2);break;case"SSS":e=_t(ht.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=$(nt.Short);break;case"ZZZZZ":e=$(nt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$(nt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=$(nt.Long);break;default:return null}return Wt[n]=e,e}(S);T+=R?R(s,t,v):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),T}function Wr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Gt(n,e){const t=function pt(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(mi[t]=mi[t]||{},mi[t][e])return mi[t][e];let r="";switch(e){case"shortDate":r=Lt(n,we.Short);break;case"mediumDate":r=Lt(n,we.Medium);break;case"longDate":r=Lt(n,we.Long);break;case"fullDate":r=Lt(n,we.Full);break;case"shortTime":r=bn(n,we.Short);break;case"mediumTime":r=bn(n,we.Medium);break;case"longTime":r=bn(n,we.Long);break;case"fullTime":r=bn(n,we.Full);break;case"short":const s=Gt(n,"shortTime"),l=Gt(n,"shortDate");r=Ar(Xt(n,we.Short),[s,l]);break;case"medium":const d=Gt(n,"mediumTime"),m=Gt(n,"mediumDate");r=Ar(Xt(n,we.Medium),[d,m]);break;case"long":const v=Gt(n,"longTime"),T=Gt(n,"longDate");r=Ar(Xt(n,we.Long),[v,T]);break;case"full":const S=Gt(n,"fullTime"),R=Gt(n,"fullDate");r=Ar(Xt(n,we.Full),[S,R])}return r&&(mi[t][e]=r),r}function Ar(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function mr(n,e,t="-",r,s){let l="";(n<0||s&&n<=0)&&(s?n=1-n:(n=-n,l=t));let d=String(n);for(;d.length<e;)d="0"+d;return r&&(d=d.substr(d.length-e)),l+d}function _t(n,e,t=0,r=!1,s=!1){return function(l,d){let m=function ps(n,e){switch(n){case ht.FullYear:return e.getFullYear();case ht.Month:return e.getMonth();case ht.Date:return e.getDate();case ht.Hours:return e.getHours();case ht.Minutes:return e.getMinutes();case ht.Seconds:return e.getSeconds();case ht.FractionalSeconds:return e.getMilliseconds();case ht.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||m>-t)&&(m+=t),n===ht.Hours)0===m&&-12===t&&(m=12);else if(n===ht.FractionalSeconds)return function xr(n,e){return mr(n,3).substr(0,e)}(m,e);const v=At(d,fe.MinusSign);return mr(m,e,v,r,s)}}function Z(n,e,t=ae.Format,r=!1){return function(s,l){return function Q(n,e,t,r,s,l){switch(t){case xt.Months:return function Je(n,e,t){const r=(0,c.cg1)(n),l=yn([r[c.wAp.MonthsFormat],r[c.wAp.MonthsStandalone]],e);return yn(l,t)}(e,s,r)[n.getMonth()];case xt.Days:return function Ht(n,e,t){const r=(0,c.cg1)(n),l=yn([r[c.wAp.DaysFormat],r[c.wAp.DaysStandalone]],e);return yn(l,t)}(e,s,r)[n.getDay()];case xt.DayPeriods:const d=n.getHours(),m=n.getMinutes();if(l){const T=function hn(n){const e=(0,c.cg1)(n);return Un(e),(e[c.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?en(r):[en(r[0]),en(r[1])])}(e),S=function it(n,e,t){const r=(0,c.cg1)(n);Un(r);const l=yn([r[c.wAp.ExtraData][0],r[c.wAp.ExtraData][1]],e)||[];return yn(l,t)||[]}(e,s,r),R=T.findIndex(H=>{if(Array.isArray(H)){const[q,te]=H,Me=d>=q.hours&&m>=q.minutes,Le=d<te.hours||d===te.hours&&m<te.minutes;if(q.hours<te.hours){if(Me&&Le)return!0}else if(Me||Le)return!0}else if(H.hours===d&&H.minutes===m)return!0;return!1});if(-1!==R)return S[R]}return function Kt(n,e,t){const r=(0,c.cg1)(n),l=yn([r[c.wAp.DayPeriodsFormat],r[c.wAp.DayPeriodsStandalone]],e);return yn(l,t)}(e,s,r)[d<12?0:1];case xt.Eras:return function Jt(n,e){return yn((0,c.cg1)(n)[c.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(s,l,n,e,t,r)}}function $(n){return function(e,t,r){const s=-1*r,l=At(t,fe.MinusSign),d=s>0?Math.floor(s/60):Math.ceil(s/60);switch(n){case nt.Short:return(s>=0?"+":"")+mr(d,2,l)+mr(Math.abs(s%60),2,l);case nt.ShortGMT:return"GMT"+(s>=0?"+":"")+mr(d,1,l);case nt.Long:return"GMT"+(s>=0?"+":"")+mr(d,2,l)+":"+mr(Math.abs(s%60),2,l);case nt.Extended:return 0===r?"Z":(s>=0?"+":"")+mr(d,2,l)+":"+mr(Math.abs(s%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ge(n){return Wr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function mt(n,e=!1){return function(t,r){let s;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();s=1+Math.floor((d+l)/7)}else{const l=Ge(t),d=function ke(n){const e=Wr(n,0,1).getDay();return Wr(n,0,1+(e<=4?4:11)-e)}(l.getFullYear()),m=l.getTime()-d.getTime();s=1+Math.round(m/6048e5)}return mr(s,n,At(r,fe.MinusSign))}}function ln(n,e=!1){return function(t,r){return mr(Ge(t).getFullYear(),n,At(r,fe.MinusSign),e)}}const Wt={};function Bt(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Vn(n){return n instanceof Date&&!isNaN(n.valueOf())}function po(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(l)}return null}let Yr=(()=>{class n{constructor(t,r,s,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=s,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class gs{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let On=(()=>{class n{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,l,d)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new gs(s.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const m=r.get(l);r.move(m,d),ms(m,s)}});for(let s=0,l=r.length;s<l;s++){const m=r.get(s).context;m.index=s,m.count=l,m.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{ms(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ms(n,e){n.context.$implicit=e.item}let vn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new fn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Vo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Vo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class fn{constructor(){this.$implicit=null,this.ngIf=null}}function Vo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}const Qc=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let lu=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",s,l){var d;if(null==t||""===t||t!=t)return null;try{return ir(t,r,l||this.locale,null!==(d=null!=s?s:this.defaultTimezone)&&void 0!==d?d:void 0)}catch(m){throw function yr(n,e){return new c.vHH(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(Qc,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0}),n})(),Ia=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function yo(n){return"server"===n}let cc=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new vo((0,c.LFG)(ce),window)}),n})();class vo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function bi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const l=s.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],s-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=lc(this.window.history)||lc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function lc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class rn{}class qs extends class $o extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(n){L||(L=n)}(new qs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function qo(){return sn=sn||document.querySelector("base"),sn?sn.getAttribute("href"):null}();return null==t?null:function Cs(n){Da=Da||document.createElement("a"),Da.setAttribute("href",n);const e=Da.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){sn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return po(document.cookie,e)}}let Da,sn=null;const sr=new c.OlP("TRANSITION_ID"),wn=[{provide:c.ip1,useFactory:function uc(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=U(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<s.length;l++)r.remove(s[l])})}},deps:[sr,ce,c.zs3],multi:!0}];class Xr{static init(){(0,c.VLi)(new Xr)}addToWindow(e){c.dqk.getAngularTestability=(r,s=!0)=>{const l=e.findTestabilityInTree(r,s);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const s=c.dqk.getAllAngularTestabilities();let l=s.length,d=!1;const m=function(v){d=d||v,l--,0==l&&r(d)};s.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:r?U().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let zn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ei=new c.OlP("EventManagerPlugins");let es=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let l=0;l<s.length;l++){const d=s[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ei),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Go{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=U().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let Ei=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),$i=(()=>{class n extends Ei{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,s.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(wo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(wo))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function wo(n){U().remove(n)}const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bs=/%COMP%/g;function Co(n,e,t){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?Co(n,s,t):(s=s.replace(bs,n),t.push(s))}return t}function Oe(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Es=(()=>{class n{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new mn(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new ti(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case c.ifc.ShadowDom:return new fc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=Co(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(es),c.LFG($i),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class mn{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(It[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const l=It[s];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=It[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,s&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Oe(r)):this.eventManager.addEventListener(e,t,Oe(r))}}class ti extends mn{constructor(e,t,r,s){super(e),this.component=r;const l=Co(s+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Ta(n){return"_ngcontent-%COMP%".replace(bs,n)}(s+"-"+r.id),this.hostAttr=function hc(n){return"_nghost-%COMP%".replace(bs,n)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class fc extends mn{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Co(s.id,s.styles,[]);for(let d=0;d<l.length;d++){const m=document.createElement("style");m.textContent=l[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let pc=(()=>{class n extends Go{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const bo=["alt","control","meta","shift"],_d={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ns={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qr=(()=>{class n extends Go{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const l=n._normalizeKey(r.pop());let d="";if(bo.forEach(v=>{const T=r.indexOf(v);T>-1&&(r.splice(T,1),d+=v+".")}),d+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=s,m.fullKey=d,m}static getEventFullKey(t){let r="",s=function Aa(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ns.hasOwnProperty(e)&&(e=ns[e]))}return _d[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),bo.forEach(l=>{l!=s&&wr[l](t)&&(r+=l+".")}),r+=s,r}static eventCallback(t,r,s){return l=>{n.getEventFullKey(l)===t&&s.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Jo=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Is(){qs.makeCurrent(),Xr.init()},multi:!0},{provide:ce,useFactory:function gc(){return(0,c.RDi)(document),document},deps:[]}]),mc=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Ii(){return new c.qLn},deps:[]},{provide:ei,useClass:pc,multi:!0,deps:[ce,c.R0b,c.Lbi]},{provide:ei,useClass:qr,multi:!0,deps:[ce]},{provide:Es,useClass:Es,deps:[es,$i,c.AFp]},{provide:c.FYo,useExisting:Es},{provide:Ei,useExisting:$i},{provide:$i,useClass:$i,deps:[ce]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:es,useClass:es,deps:[ei,c.R0b]},{provide:rn,useClass:zn,deps:[]}];let Qo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:sr,useExisting:c.AFp},wn]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:mc,imports:[Ia,c.hGG]}),n})();"undefined"!=typeof window&&window;var pn=F(8996),ta=F(7669);function at(...n){const e=(0,ta.yG)(n);return(0,pn.D)(n,e)}var b=F(7579);class E extends b.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var P=F(8306);const{isArray:j}=Array,{getPrototypeOf:Ee,prototype:et,keys:cn}=Object;function on(n){if(1===n.length){const e=n[0];if(j(e))return{args:e,keys:null};if(function En(n){return n&&"object"==typeof n&&Ee(n)===et}(e)){const t=cn(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Cr=F(4671),vt=F(4004);const{isArray:bd}=Array;function fu(n){return(0,vt.U)(e=>function Ed(n,e){return bd(e)?n(...e):n(e)}(n,e))}function yc(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var Or=F(5403),Ts=F(9672);function Eo(n,e,t){n?(0,Ts.f)(t,n,e):e()}var Io=F(576);function Na(n,e){const t=(0,Io.m)(n)?n:()=>n,r=s=>s.error(t());return new P.y(e?s=>e.schedule(r,0,s):r)}const na=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ra=F(8189);function wc(...n){return function Fa(){return(0,ra.J)(1)}()((0,pn.D)(n,(0,ta.yG)(n)))}var Cc=F(8421);function bc(n){return new P.y(e=>{(0,Cc.Xf)(n()).subscribe(e)})}var qi=F(515),ia=F(727),ar=F(4482);function pu(){return(0,ar.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Or.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,l=t;t=null,s&&(!l||s===l)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ni extends P.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ar.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ia.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Or.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ia.w0.EMPTY)}return e}refCount(){return pu()(this)}}function Ln(n,e){return(0,ar.e)((t,r)=>{let s=null,l=0,d=!1;const m=()=>d&&!s&&r.complete();t.subscribe((0,Or.x)(r,v=>{null==s||s.unsubscribe();let T=0;const S=l++;(0,Cc.Xf)(n(v,S)).subscribe(s=(0,Or.x)(r,R=>r.next(e?e(v,R,S,T++):R),()=>{s=null,m()}))},()=>{d=!0,m()}))})}function La(n){return n<=0?()=>qi.E:(0,ar.e)((e,t)=>{let r=0;e.subscribe((0,Or.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function As(...n){const e=(0,ta.yG)(n);return(0,ar.e)((t,r)=>{(e?wc(n,t,e):wc(n,t)).subscribe(r)})}function Do(n,e,t,r,s){return(l,d)=>{let m=t,v=e,T=0;l.subscribe((0,Or.x)(d,S=>{const R=T++;v=m?n(v,S,R):(m=!0,S),r&&d.next(v)},s&&(()=>{m&&d.next(v),d.complete()})))}}function ss(n,e){return(0,ar.e)(Do(n,e,arguments.length>=2,!0))}function Tn(n,e){return(0,ar.e)((t,r)=>{let s=0;t.subscribe((0,Or.x)(r,l=>n.call(e,l,s++)&&r.next(l)))})}function ri(n){return(0,ar.e)((e,t)=>{let l,r=null,s=!1;r=e.subscribe((0,Or.x)(t,void 0,void 0,d=>{l=(0,Cc.Xf)(n(d,ri(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,l.subscribe(t))})}var br=F(5577);function os(n,e){return(0,Io.m)(e)?(0,br.z)(n,e,1):(0,br.z)(n,1)}function Id(n){return n<=0?()=>qi.E:(0,ar.e)((e,t)=>{let r=[];e.subscribe((0,Or.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function gu(n=kn){return(0,ar.e)((e,t)=>{let r=!1;e.subscribe((0,Or.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function kn(){return new na}function Dd(n){return(0,ar.e)((e,t)=>{let r=!1;e.subscribe((0,Or.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function Ec(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Tn((s,l)=>n(s,l,r)):Cr.y,La(1),t?Dd(e):gu(()=>new na))}var as=F(8505);function Kh(n){return(0,ar.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class sa{constructor(e,t){this.id=e,this.url=t}}class Yh extends sa{constructor(e,t,r="imperative",s=null){super(e,t),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ks extends sa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ad extends sa{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hn extends sa{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ua extends sa{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ic extends sa{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xd extends sa{constructor(e,t,r,s,l){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jh extends sa{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ii extends sa{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class si{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dc{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mu{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oa{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Va{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Zt="primary";class Md{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ys(n){return new Md(n)}const cr="ngNavigationCancelingError";function Ao(n){const e=Error("NavigationCancelingError: "+n);return e[cr]=!0,e}function Sd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let l=0;l<r.length;l++){const d=r[l],m=n[l];if(d.startsWith(":"))s[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Js(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let l=0;l<t.length;l++)if(s=t[l],!_u(n[s],e[s]))return!1;return!0}function _u(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,l)=>r[l]===s)}return n===e}function Qh(n){return Array.prototype.concat.apply([],n)}function gl(n){return n.length>0?n[n.length-1]:null}function An(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Er(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,pn.D)(Promise.resolve(n)):at(n)}const Jp={exact:function Od(n,e,t){if(!B(n.segments,e.segments)||!vl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Od(n.children[r],e.children[r],t))return!1;return!0},subset:_l},oi={exact:function Gi(n,e){return Js(n,e)},subset:function kd(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>_u(n[t],e[t]))},ignored:()=>!0};function ja(n,e,t){return Jp[t.paths](n.root,e.root,t.matrixParams)&&oi[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function _l(n,e,t){return yl(n,e,e.segments,t)}function yl(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!B(s,t)||e.hasChildren()||!vl(s,t,r))}if(n.segments.length===t.length){if(!B(n.segments,t)||!vl(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!_l(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(B(n.segments,s)&&vl(n.segments,s,r)&&n.children[Zt])&&yl(n.children[Zt],e,l,r)}}function vl(n,e,t){return e.every((r,s)=>oi[t](n[s].parameters,r.parameters))}class xs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ys(this.queryParams)),this._queryParamMap}toString(){return Ke.serialize(this)}}class I{constructor(e,t){this.segments=e,this.children=t,this.parent=null,An(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yt(this)}}class A{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ys(this.parameters)),this._parameterMap}toString(){return Ms(this)}}function B(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class he{}class Se{parse(e){const t=new Qp(e);return new xs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Mt(e.root,!0)}`,r=function Tc(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${ft(t)}=${ft(s)}`).join("&"):`${ft(t)}=${ft(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Kn(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ke=new Se;function yt(n){return n.segments.map(e=>Ms(e)).join("/")}function Mt(n,e){if(!n.hasChildren())return yt(n);if(e){const t=n.children[Zt]?Mt(n.children[Zt],!1):"",r=[];return An(n.children,(s,l)=>{l!==Zt&&r.push(`${l}:${Mt(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ne(n,e){let t=[];return An(n.children,(r,s)=>{s===Zt&&(t=t.concat(e(r,s)))}),An(n.children,(r,s)=>{s!==Zt&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===Zt?[Mt(n.children[Zt],!1)]:[`${s}:${Mt(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zt]?`${yt(n)}/${t[0]}`:`${yt(n)}/(${t.join("//")})`}}function kt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ft(n){return kt(n).replace(/%3B/gi,";")}function Yn(n){return kt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mo(n){return decodeURIComponent(n)}function So(n){return Mo(n.replace(/\+/g,"%20"))}function Ms(n){return`${Yn(n.path)}${function wl(n){return Object.keys(n).map(e=>`;${Yn(e)}=${Yn(n[e])}`).join("")}(n.parameters)}`}const aa=/^[^\/()?;=#]+/;function Ss(n){const e=n.match(aa);return e?e[0]:""}const cs=/^[^=?&#]+/,Xh=/^[^&#]+/;class Qp{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new I([],{}):new I([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Zt]=new I(e,t)),r}parseSegment(){const e=Ss(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new A(Mo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ss(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=Ss(this.remaining);s&&(r=s,this.capture(r))}e[Mo(t)]=Mo(r)}parseQueryParam(e){const t=function Ha(n){const e=n.match(cs);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function bw(n){const e=n.match(Xh);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const s=So(t),l=So(r);if(e.hasOwnProperty(s)){let d=e[s];Array.isArray(d)||(d=[d],e[s]=d),d.push(l)}else e[s]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ss(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Zt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Zt]:new I([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ef{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Xp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Xp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Cl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Cl(e,this._root).map(t=>t.value)}}function Xp(n,e){if(n===e.value)return e;for(const t of e.children){const r=Xp(n,t);if(r)return r}return null}function Cl(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Cl(n,t);if(r.length)return r.unshift(e),r}return[]}class ca{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function bl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class yu extends ef{constructor(e,t){super(e),this.snapshot=t,Fd(this,e)}toString(){return this.snapshot.toString()}}function Rd(n,e){const t=function El(n,e){const d=new ua([],{},{},"",{},Zt,e,null,n.root,-1,{});return new Nd("",new ca(d,[]))}(n,e),r=new E([new A("",{})]),s=new E({}),l=new E({}),d=new E({}),m=new E(""),v=new la(r,s,d,m,l,Zt,e,t.root);return v.snapshot=t.root,new yu(new ca(v,[]),t)}class la{constructor(e,t,r,s,l,d,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=l,this.outlet=d,this.component=m,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(e=>Ys(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(e=>Ys(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eg(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],l=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(l.component)break;r--}}return function Ew(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ua{constructor(e,t,r,s,l,d,m,v,T,S,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=l,this.outlet=d,this.component=m,this.routeConfig=v,this._urlSegment=T,this._lastPathIndex=S,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ys(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ys(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nd extends ef{constructor(e,t){super(t),this.url=e,Fd(this,t)}toString(){return tf(this._root)}}function Fd(n,e){e.value._routerState=n,e.children.forEach(t=>Fd(n,t))}function tf(n){const e=n.children.length>0?` { ${n.children.map(tf).join(", ")} } `:"";return`${n.value}${e}`}function Ld(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Js(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Js(e.params,t.params)||n.params.next(t.params),function Ba(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Js(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Js(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ud(n,e){const t=Js(n.params,e.params)&&function O(n,e){return B(n,e)&&n.every((t,r)=>Js(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ud(n.parent,e.parent))}function vu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function u_(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return vu(n,r,s);return vu(n,r)})}(n,e,t);return new ca(r,s)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>vu(n,m)),d}}const r=function d_(n){return new la(new E(n.url),new E(n.params),new E(n.queryParams),new E(n.fragment),new E(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(l=>vu(n,l));return new ca(r,s)}}function ls(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function da(n){return"object"==typeof n&&null!=n&&n.outlets}function wu(n,e,t,r,s){let l={};if(r&&An(r,(m,v)=>{l[v]=Array.isArray(m)?m.map(T=>`${T}`):`${m}`}),n===e)return new xs(t,l,s);const d=f_(n,e,t);return new xs(d,l,s)}function f_(n,e,t){const r={};return An(n.children,(s,l)=>{r[l]=s===e?t:f_(s,e,t)}),new I(n.segments,r)}class ng{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ls(r[0]))throw new Error("Root segment cannot have matrix parameters");const s=r.find(da);if(s&&s!==gl(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ig(n,e,t){if(n||(n=new I([],{})),0===n.segments.length&&n.hasChildren())return Bd(n,e,t);const r=function p_(n,e,t){let r=0,s=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return l;const d=n.segments[s],m=t[r];if(da(m))break;const v=`${m}`,T=r<t.length-1?t[r+1]:null;if(s>0&&void 0===v)break;if(v&&T&&"object"==typeof T&&void 0===T.outlets){if(!rf(v,T,d))return l;r+=2}else{if(!rf(v,{},d))return l;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new I(n.segments.slice(0,r.pathIndex),{});return l.children[Zt]=new I(n.segments.slice(r.pathIndex),n.children),Bd(l,0,s)}return r.match&&0===s.length?new I(n.segments,{}):r.match&&!n.hasChildren()?g_(n,e,t):r.match?Bd(n,0,s):g_(n,e,t)}function Bd(n,e,t){if(0===t.length)return new I(n.segments,{});{const r=function rg(n){return da(n[0])?n[0].outlets:{[Zt]:n}}(t),s={};return An(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(s[d]=ig(n.children[d],e,l))}),An(n.children,(l,d)=>{void 0===r[d]&&(s[d]=l)}),new I(n.segments,s)}}function g_(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const l=t[s];if(da(l)){const v=Ac(l.outlets);return new I(r,v)}if(0===s&&ls(t[0])){r.push(new A(n.segments[e].path,Cu(t[0]))),s++;continue}const d=da(l)?l.outlets[Zt]:`${l}`,m=s<t.length-1?t[s+1]:null;d&&m&&ls(m)?(r.push(new A(d,Cu(m))),s+=2):(r.push(new A(d,{})),s++)}return new I(r,{})}function Ac(n){const e={};return An(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=g_(new I([],{}),0,t))}),e}function Cu(n){const e={};return An(n,(t,r)=>e[r]=`${t}`),e}function rf(n,e,t){return n==t.path&&Js(e,t.parameters)}class bu{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ld(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=bl(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,s[d],r),delete s[d]}),An(s,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const s=e.value,l=t?t.value:null;if(s===l)if(s.component){const d=r.getContext(s.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,l=bl(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],s);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,l=bl(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=bl(t);e.children.forEach(l=>{this.activateRoutes(l,s[l.value.outlet],r),this.forwardEvent(new To(l.value.snapshot))}),e.children.length&&this.forwardEvent(new oa(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,l=t?t.value:null;if(Ld(s),s===l)if(s.component){const d=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const d=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Ld(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function jd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),v=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=s,d.resolver=v,d.outlet&&d.outlet.activateWith(s,v),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Hd{constructor(e,t){this.routes=e,this.module=t}}function ha(n){return"function"==typeof n}function Il(n){return n instanceof xs}const $d=Symbol("INITIAL_VALUE");function qd(){return Ln(n=>function fl(...n){const e=(0,ta.yG)(n),t=(0,ta.jO)(n),{args:r,keys:s}=on(n);if(0===r.length)return(0,pn.D)([],e);const l=new P.y(function Ws(n,e,t=Cr.y){return r=>{Eo(e,()=>{const{length:s}=n,l=new Array(s);let d=s,m=s;for(let v=0;v<s;v++)Eo(e,()=>{const T=(0,pn.D)(n[v],e);let S=!1;T.subscribe((0,Or.x)(r,R=>{l[v]=R,S||(S=!0,m--),m||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,s?d=>yc(s,d):Cr.y));return t?l.pipe(fu(t)):l}(n.map(e=>e.pipe(La(1),As($d)))).pipe(ss((e,t)=>{let r=!1;return t.reduce((s,l,d)=>s!==$d?s:(l===$d&&(r=!0),r||!1!==l&&d!==t.length-1&&!Il(l)?s:l),e)},$d),Tn(e=>e!==$d),(0,vt.U)(e=>Il(e)?e:!0===e),La(1)))}class og{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Dl,this.attachRef=null}}class Dl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new og,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Iu=(()=>{class n{constructor(t,r,s,l,d){this.parentContexts=t,this.location=r,this.resolver=s,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=l||Zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,v=new m_(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Dl),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class m_{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===la?this.route:e===Dl?this.childContexts:this.parent.get(e,t)}}let ag=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[Iu],encapsulation:2}),n})();function Du(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Tl(r,__(e,r))}}function Tl(n,e){n.children&&Du(n.children,e)}function __(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Tu(n){const e=n.children&&n.children.map(Tu),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Zt&&(t.component=ag),t}function Ti(n){return n.outlet||Zt}function Jn(n,e){const t=n.filter(r=>Ti(r)===e);return t.push(...n.filter(r=>Ti(r)!==e)),t}const cg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gd(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},cg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Sd)(t,n,e);if(!l)return Object.assign({},cg);const d={};An(l.posParams,(v,T)=>{d[T]=v.path});const m=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function xc(n,e,t,r,s="corrected"){if(t.length>0&&function v_(n,e,t){return t.some(r=>$a(n,e,r)&&Ti(r)!==Zt)}(n,t,r)){const d=new I(e,function y_(n,e,t,r){const s={};s[Zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Ti(l)!==Zt){const d=new I([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,s[Ti(l)]=d}return s}(n,e,r,new I(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function w_(n,e,t){return t.some(r=>$a(n,e,r))}(n,t,r)){const d=new I(n.segments,function lg(n,e,t,r,s,l){const d={};for(const m of r)if($a(n,t,m)&&!s[Ti(m)]){const v=new I([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[Ti(m)]=v}return Object.assign(Object.assign({},s),d)}(n,e,t,r,n.children,s));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new I(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function $a(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ug(n,e,t,r){return!!(Ti(n)===r||r!==Zt&&$a(e,t,n))&&("**"===n.path||Gd(e,n,t).matched)}function dg(n,e,t){return 0===e.length&&!n.children[t]}class cf{constructor(e){this.segmentGroup=e||null}}class Al{constructor(e){this.urlTree=e}}function Ir(n){return Na(new cf(n))}function Zd(n){return Na(new Al(n))}class xl{constructor(e,t,r,s,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=xc(this.urlTree.root,[],[],this.config).segmentGroup,t=new I(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Zt).pipe((0,vt.U)(l=>this.createUrlTree(Au(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ri(l=>{if(l instanceof Al)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof cf?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Zt).pipe((0,vt.U)(s=>this.createUrlTree(Au(s),e.queryParams,e.fragment))).pipe(ri(s=>{throw s instanceof cf?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const s=e.segments.length>0?new I([],{[Zt]:e}):e;return new xs(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,vt.U)(l=>new I([],l))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const l of Object.keys(r.children))"primary"===l?s.unshift(l):s.push(l);return(0,pn.D)(s).pipe(os(l=>{const d=r.children[l],m=Jn(t,l);return this.expandSegmentGroup(e,m,d,l).pipe((0,vt.U)(v=>({segment:v,outlet:l})))}),ss((l,d)=>(l[d.outlet]=d.segment,l),{}),function Td(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Tn((s,l)=>n(s,l,r)):Cr.y,Id(1),t?Dd(e):gu(()=>new na))}())}expandSegment(e,t,r,s,l,d){return(0,pn.D)(r).pipe(os(m=>this.expandSegmentAgainstRoute(e,t,r,m,s,l,d).pipe(ri(T=>{if(T instanceof cf)return at(null);throw T}))),Ec(m=>!!m),ri((m,v)=>{if(m instanceof na||"EmptyError"===m.name)return dg(t,s,l)?at(new I([],{})):Ir(t);throw m}))}expandSegmentAgainstRoute(e,t,r,s,l,d,m){return ug(s,t,l,d)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,l,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,l,d):Ir(t):Ir(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,l,d){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Zd(l):this.lineralizeSegments(r,l).pipe((0,br.z)(d=>{const m=new I(d,{});return this.expandSegment(e,m,t,d,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,l,d){const{matched:m,consumedSegments:v,remainingSegments:T,positionalParamSegments:S}=Gd(t,s,l);if(!m)return Ir(t);const R=this.applyRedirectCommands(v,s.redirectTo,S);return s.redirectTo.startsWith("/")?Zd(R):this.lineralizeSegments(s,R).pipe((0,br.z)(H=>this.expandSegment(e,t,r,H.concat(T),d,!1)))}matchSegmentAgainstRoute(e,t,r,s,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?at(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,vt.U)(R=>(r._loadedConfig=R,new I(s,{})))):at(new I(s,{}));const{matched:d,consumedSegments:m,remainingSegments:v}=Gd(t,r,s);return d?this.getChildConfig(e,r,s).pipe((0,br.z)(S=>{const R=S.module,H=S.routes,{segmentGroup:q,slicedSegments:te}=xc(t,m,v,H),Me=new I(q.segments,q.children);if(0===te.length&&Me.hasChildren())return this.expandChildren(R,H,Me).pipe((0,vt.U)(Et=>new I(m,Et)));if(0===H.length&&0===te.length)return at(new I(m,{}));const Le=Ti(r)===l;return this.expandSegment(R,Me,H,te,Le?Zt:l,!0).pipe((0,vt.U)(bt=>new I(m.concat(bt.segments),bt.children)))})):Ir(t)}getChildConfig(e,t,r){return t.children?at(new Hd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?at(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,br.z)(s=>s?this.configLoader.load(e.injector,t).pipe((0,vt.U)(l=>(t._loadedConfig=l,l))):function zd(n){return Na(Ao(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):at(new Hd([],e))}runCanLoadGuards(e,t,r){const s=t.canLoad;return s&&0!==s.length?at(s.map(d=>{const m=e.get(d);let v;if(function Tw(n){return n&&ha(n.canLoad)}(m))v=m.canLoad(t,r);else{if(!ha(m))throw new Error("Invalid CanLoad guard");v=m(t,r)}return Er(v)})).pipe(qd(),(0,as.b)(d=>{if(!Il(d))return;const m=Ao(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,vt.U)(d=>!0===d)):at(!0)}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return at(r);if(s.numberOfChildren>1||!s.children[Zt])return Na(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));s=s.children[Zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,s){const l=this.createSegmentGroup(e,t.root,r,s);return new xs(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return An(e,(s,l)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);r[l]=t[m]}else r[l]=s}),r}createSegmentGroup(e,t,r,s){const l=this.createSegments(e,t.segments,r,s);let d={};return An(t.children,(m,v)=>{d[v]=this.createSegmentGroup(e,m,r,s)}),new I(l,d)}createSegments(e,t,r,s){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,s):this.findOrReturn(l,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}function Au(n){const e={};for(const r of Object.keys(n.children)){const l=Au(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function uf(n){if(1===n.numberOfChildren&&n.children[Zt]){const e=n.children[Zt];return new I(n.segments.concat(e.segments),e.children)}return n}(new I(n.segments,e))}class Ai{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qa{constructor(e,t){this.component=e,this.route=t}}function df(n,e,t){const r=n._root;return xu(r,e?e._root:null,t,[r.value])}function Mc(n,e,t){const r=function hf(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function xu(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=bl(e);return n.children.forEach(d=>{(function Wd(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const v=function E_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!B(n.url,e.url);case"pathParamsOrQueryParamsChange":return!B(n.url,e.url)||!Js(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ud(n,e)||!Js(n.queryParams,e.queryParams);default:return!Ud(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);v?s.canActivateChecks.push(new Ai(r)):(l.data=d.data,l._resolvedData=d._resolvedData),xu(n,e,l.component?m?m.children:null:t,r,s),v&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new qa(m.outlet.component,d))}else d&&Os(e,m,s),s.canActivateChecks.push(new Ai(r)),xu(n,null,l.component?m?m.children:null:t,r,s)})(d,l[d.value.outlet],t,r.concat([d.value]),s),delete l[d.value.outlet]}),An(l,(d,m)=>Os(d,t.getContext(m),s)),s}function Os(n,e,t){const r=bl(n),s=n.value;An(r,(l,d)=>{Os(l,s.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new qa(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class T_{}function Qs(n){return new P.y(e=>e.error(n))}class fg{constructor(e,t,r,s,l,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const e=xc(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Zt);if(null===t)return null;const r=new ua([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new ca(r,t),l=new Nd(this.url,s);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=eg(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const d=t.children[l],m=Jn(e,l),v=this.processSegmentGroup(m,d,l);if(null===v)return null;r.push(...v)}const s=gg(r);return function pg(n){n.sort((e,t)=>e.value.outlet===Zt?-1:t.value.outlet===Zt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}processSegment(e,t,r,s){for(const l of e){const d=this.processSegmentAgainstRoute(l,t,r,s);if(null!==d)return d}return dg(t,r,s)?[]:null}processSegmentAgainstRoute(e,t,r,s){if(e.redirectTo||!ug(e,t,r,s))return null;let l,d=[],m=[];if("**"===e.path){const q=r.length>0?gl(r).parameters:{};l=new ua(r,q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_(e),Ti(e),e.component,e,mg(t),Sc(t)+r.length,f(e))}else{const q=Gd(t,e,r);if(!q.matched)return null;d=q.consumedSegments,m=q.remainingSegments,l=new ua(d,q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_(e),Ti(e),e.component,e,mg(t),Sc(t)+d.length,f(e))}const v=function A_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:T,slicedSegments:S}=xc(t,d,m,v.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);if(0===S.length&&T.hasChildren()){const q=this.processChildren(v,T);return null===q?null:[new ca(l,q)]}if(0===v.length&&0===S.length)return[new ca(l,[])];const R=Ti(e)===s,H=this.processSegment(v,T,S,R?Zt:s);return null===H?null:[new ca(l,H)]}}function gf(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function gg(n){const e=[],t=new Set;for(const r of n){if(!gf(r)){e.push(r);continue}const s=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=gg(r.children);e.push(new ca(r.value,s))}return e.filter(r=>!t.has(r))}function mg(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Sc(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function _(n){return n.data||{}}function f(n){return n.resolve||{}}function X(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function He(n){return Ln(e=>{const t=n(e);return t?(0,pn.D)(t).pipe((0,vt.U)(()=>e)):at(e)})}class wt extends class Ct{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const $n=new c.OlP("ROUTES");class zi{constructor(e,t,r,s){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=s}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe((0,vt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=l.create(e);return new Hd(Qh(d.injector.get($n,void 0,c.XFs.Self|c.XFs.Optional)).map(Tu),d)}),ri(l=>{throw t._loader$=void 0,l}));return t._loader$=new ni(s,()=>new b.x).pipe(pu()),t._loader$}loadModuleFactory(e){return Er(e()).pipe((0,br.z)(t=>t instanceof c.YKP?at(t):(0,pn.D)(this.compiler.compileModuleAsync(t))))}}class mf{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function _g(n){throw n}function Pc(n,e,t){return e.parse("/")}function Su(n,e){return at(null)}const Jd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rn=(()=>{class n{constructor(t,r,s,l,d,m,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=s,this.location=l,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new b.x,this.errorHandler=_g,this.malformedUriErrorHandler=Pc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Su,afterPreactivation:Su},this.urlHandlingStrategy=new mf,this.routeReuseStrategy=new wt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const R=d.get(c.R0b);this.isNgZoneEnabled=R instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function ml(){return new xs(new I([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zi(d,m,H=>this.triggerEvent(new si(H)),H=>this.triggerEvent(new Dc(H))),this.routerState=Rd(this.currentUrlTree,this.rootComponentType),this.transitions=new E({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Tn(s=>0!==s.id),(0,vt.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ln(s=>{let l=!1,d=!1;return at(s).pipe((0,as.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ln(m=>{const v=this.browserUrlTree.toString(),T=!this.navigated||m.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return yf(m.source)&&(this.browserUrlTree=m.extractedUrl),at(m).pipe(Ln(R=>{const H=this.transitions.getValue();return r.next(new Yh(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),H!==this.transitions.getValue()?qi.E:Promise.resolve(R)}),function C_(n,e,t,r){return Ln(s=>function kr(n,e,t,r,s){return new xl(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,vt.U)(l=>Object.assign(Object.assign({},s),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,as.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function p(n,e,t,r,s){return(0,br.z)(l=>function Mu(n,e,t,r,s="emptyOnly",l="legacy"){try{const d=new fg(n,e,t,r,s,l).recognize();return null===d?Qs(new T_):at(d)}catch(d){return Qs(d)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,s).pipe((0,vt.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,as.b)(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(q,R)}this.browserUrlTree=R.urlAfterRedirects}const H=new Ua(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(H)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:q,source:te,restoredState:Me,extras:Le}=m,ot=new Yh(H,this.serializeUrl(q),te,Me);r.next(ot);const bt=Rd(q,this.rootComponentType).snapshot;return at(Object.assign(Object.assign({},m),{targetSnapshot:bt,urlAfterRedirects:q,extras:Object.assign(Object.assign({},Le),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),qi.E}),He(m=>{const{targetSnapshot:v,id:T,extractedUrl:S,rawUrl:R,extras:{skipLocationChange:H,replaceUrl:q}}=m;return this.hooks.beforePreactivation(v,{navigationId:T,appliedUrlTree:S,rawUrlTree:R,skipLocationChange:!!H,replaceUrl:!!q})}),(0,as.b)(m=>{const v=new Ic(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),(0,vt.U)(m=>Object.assign(Object.assign({},m),{guards:df(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function Kd(n,e){return(0,br.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?at(Object.assign(Object.assign({},t),{guardsResult:!0})):function I_(n,e,t,r){return(0,pn.D)(n).pipe((0,br.z)(s=>function pf(n,e,t,r,s){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?at(l.map(m=>{const v=Mc(m,e,s);let T;if(function af(n){return n&&ha(n.canDeactivate)}(v))T=Er(v.canDeactivate(n,e,t,r));else{if(!ha(v))throw new Error("Invalid CanDeactivate guard");T=Er(v(n,e,t,r))}return T.pipe(Ec())})).pipe(qd()):at(!0)}(s.component,s.route,t,e,r)),Ec(s=>!0!==s,!0))}(d,r,s,n).pipe((0,br.z)(m=>m&&function sg(n){return"boolean"==typeof n}(m)?function D_(n,e,t,r){return(0,pn.D)(e).pipe(os(s=>wc(function hg(n,e){return null!==n&&e&&e(new mu(n)),at(!0)}(s.route.parent,r),function Yd(n,e){return null!==n&&e&&e(new Va(n)),at(!0)}(s.route,r),function ff(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function b_(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>bc(()=>at(d.guards.map(v=>{const T=Mc(v,d.node,t);let S;if(function sf(n){return n&&ha(n.canActivateChild)}(T))S=Er(T.canActivateChild(r,n));else{if(!ha(T))throw new Error("Invalid CanActivateChild guard");S=Er(T(r,n))}return S.pipe(Ec())})).pipe(qd())));return at(l).pipe(qd())}(n,s.path,t),function Zi(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return at(!0);const s=r.map(l=>bc(()=>{const d=Mc(l,e,t);let m;if(function Eu(n){return n&&ha(n.canActivate)}(d))m=Er(d.canActivate(e,n));else{if(!ha(d))throw new Error("Invalid CanActivate guard");m=Er(d(e,n))}return m.pipe(Ec())}));return at(s).pipe(qd())}(n,s.route,t))),Ec(s=>!0!==s,!0))}(r,l,n,e):at(m)),(0,vt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,as.b)(m=>{if(Il(m.guardsResult)){const T=Ao(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw T.url=m.guardsResult,T}const v=new xd(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(v)}),Tn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),He(m=>{if(m.guards.canActivateChecks.length)return at(m).pipe((0,as.b)(v=>{const T=new Jh(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(T)}),Ln(v=>{let T=!1;return at(v).pipe(function w(n,e){return(0,br.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return at(t);let l=0;return(0,pn.D)(s).pipe(os(d=>function x(n,e,t,r){return function N(n,e,t,r){const s=X(n);if(0===s.length)return at({});const l={};return(0,pn.D)(s).pipe((0,br.z)(d=>function ge(n,e,t,r){const s=Mc(n,e,r);return Er(s.resolve?s.resolve(e,t):s(e,t))}(n[d],e,t,r).pipe((0,as.b)(m=>{l[d]=m}))),Id(1),(0,br.z)(()=>X(l).length===s.length?at(l):qi.E))}(n._resolve,n,e,r).pipe((0,vt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),eg(n,t).resolve),null)))}(d.route,r,n,e)),(0,as.b)(()=>l++),Id(1),(0,br.z)(d=>l===s.length?at(t):qi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,as.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,as.b)(v=>{const T=new ii(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(T)}))}),He(m=>{const{targetSnapshot:v,id:T,extractedUrl:S,rawUrl:R,extras:{skipLocationChange:H,replaceUrl:q}}=m;return this.hooks.afterPreactivation(v,{navigationId:T,appliedUrlTree:S,rawUrlTree:R,skipLocationChange:!!H,replaceUrl:!!q})}),(0,vt.U)(m=>{const v=function tg(n,e,t){const r=vu(n,e._root,t?t._root:void 0);return new yu(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:v})}),(0,as.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,vt.U)(r=>(new bu(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,as.b)({next(){l=!0},complete(){l=!0}}),Kh(()=>{var m;l||d||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===s.id&&(this.currentNavigation=null)}),ri(m=>{if(d=!0,function xo(n){return n&&n[cr]}(m)){const v=Il(m.url);v||(this.navigated=!0,this.restoreHistory(s,!0));const T=new Ad(s.id,this.serializeUrl(s.extractedUrl),m.message);r.next(T),v?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),R={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yf(s.source)};this.scheduleNavigation(S,"imperative",null,R,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const v=new Hn(s.id,this.serializeUrl(s.extractedUrl),m);r.next(v);try{s.resolve(this.errorHandler(m))}catch(T){s.reject(T)}}return qi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var s;const l={replaceUrl:!0},d=(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null;if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(l.state=v)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Du(t),this.config=t.map(Tu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:l,fragment:d,queryParamsHandling:m,preserveFragment:v}=r,T=s||this.routerState.root,S=v?this.currentUrlTree.fragment:d;let R=null;switch(m){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=l||null}return null!==R&&(R=this.removeEmptyProps(R)),function h_(n,e,t,r,s){if(0===t.length)return wu(e.root,e.root,e.root,r,s);const l=function Iw(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ng(!0,0,n);let e=0,t=!1;const r=n.reduce((s,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return An(l.outlets,(v,T)=>{m[T]="string"==typeof v?v.split("/"):v}),[...s,{outlets:m}]}if(l.segmentPath)return[...s,l.segmentPath]}return"string"!=typeof l?[...s,l]:0===d?(l.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&s.push(m))}),s):[...s,l]},[]);return new ng(t,e,r)}(t);if(l.toRoot())return wu(e.root,e.root,new I([],{}),r,s);const d=function Dw(n,e,t){if(n.isAbsolute)return new Vd(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Vd(l,l===e.root,0)}const r=ls(n.commands[0])?0:1;return function nf(n,e,t){let r=n,s=e,l=t;for(;l>s;){if(l-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new Vd(r,!1,s-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=d.processChildren?Bd(d.segmentGroup,d.index,l.commands):ig(d.segmentGroup,d.index,l.commands);return wu(e.root,d.segmentGroup,m,r,s)}(T,this.currentUrlTree,t,R,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=Il(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function _f(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?Object.assign({},Jd):!1===r?Object.assign({},yg):r,Il(t))return ja(this.currentUrlTree,t,s);const l=this.parseUrl(t);return ja(this.currentUrlTree,l,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const l=t[s];return null!=l&&(r[s]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ks(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,s,l,d){var m,v;if(this.disposed)return Promise.resolve(!1);let T,S,R;d?(T=d.resolve,S=d.reject,R=d.promise):R=new Promise((te,Me)=>{T=te,S=Me});const H=++this.navigationId;let q;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),q=s&&s.\u0275routerPageId?s.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):q=0,this.setTransition({id:H,targetPageId:q,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:T,reject:S,promise:R,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),R.catch(te=>Promise.reject(te))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",l):this.location.go(s,"",l)}restoreHistory(t,r=!1){var s,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const s=new Ad(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function yf(n){return"imperative"!==n}class vg{}class wg{preload(e,t){return at(null)}}let Sw=(()=>{class n{constructor(t,r,s,l){this.router=t,this.injector=s,this.preloadingStrategy=l,this.loader=new zi(s,r,v=>t.triggerEvent(new si(v)),v=>t.triggerEvent(new Dc(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(Tn(t=>t instanceof Ks),os(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;s.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?s.push(this.preloadConfig(t,l)):l.children&&s.push(this.processRoutes(t,l.children));return(0,pn.D)(s).pipe((0,ra.J)(),(0,vt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?at(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,br.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Rn),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(vg))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),x_=(()=>{class n{constructor(t,r,s={}){this.router=t,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ks&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new pl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Pl=new c.OlP("ROUTER_CONFIGURATION"),Ol=new c.OlP("ROUTER_FORROOT_GUARD"),Pw=[be,{provide:he,useClass:Se},{provide:Rn,useFactory:function Nw(n,e,t,r,s,l,d={},m,v){const T=new Rn(null,n,e,t,r,s,Qh(l));return m&&(T.urlHandlingStrategy=m),v&&(T.routeReuseStrategy=v),function S_(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,T),d.enableTracing&&T.events.subscribe(S=>{var R,H;null===(R=console.group)||void 0===R||R.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(H=console.groupEnd)||void 0===H||H.call(console)}),T},deps:[he,Dl,be,c.zs3,c.Sil,$n,Pl,[class Ml{},new c.FiY],[class st{},new c.FiY]]},Dl,{provide:la,useFactory:function Fw(n){return n.routerState.root},deps:[Rn]},Sw,wg,class Mw{preload(e,t){return t().pipe(ri(()=>at(null)))}},{provide:Pl,useValue:{enableTracing:!1}}];function Ow(){return new c.PXZ("Router",Rn)}let kw=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Pw,M_(t),{provide:Ol,useFactory:Rw,deps:[[Rn,new c.FiY,new c.tp0]]},{provide:Pl,useValue:r||{}},{provide:me,useFactory:kE,deps:[de,[new c.tBr(Ne),new c.FiY],Pl]},{provide:x_,useFactory:Cg,deps:[Rn,cc,Pl]},{provide:vg,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:wg},{provide:c.PXZ,multi:!0,useFactory:Ow},[Qd,{provide:c.ip1,multi:!0,useFactory:bg,deps:[Qd]},{provide:Eg,useFactory:Lw,deps:[Qd]},{provide:c.tb,multi:!0,useExisting:Eg}]]}}static forChild(t){return{ngModule:n,providers:[M_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ol,8),c.LFG(Rn,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Cg(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new x_(n,e,t)}function kE(n,e,t={}){return t.useHash?new Pe(n,e):new Qe(n,e)}function Rw(n){return"guarded"}function M_(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:$n,multi:!0,useValue:n}]}let Qd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new b.x}appInitializer(){return this.injector.get(z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const s=new Promise(m=>r=m),l=this.injector.get(Rn),d=this.injector.get(Pl);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?at(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),s})}bootstrapListener(t){const r=this.injector.get(Pl),s=this.injector.get(Sw),l=this.injector.get(x_),d=this.injector.get(Rn),m=this.injector.get(c.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),s.setUpPreloading(),l.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function bg(n){return n.appInitializer.bind(n)}function Lw(n){return n.bootstrapListener.bind(n)}const Eg=new c.OlP("Router Initializer");var Xd=F(4986),Qn=F(5813),us=F(2011),Bw=F(3942),De=F(5861),Xs=F(9681),Rt=F(2090),wf=F(4859);const P_="firebasestorage.googleapis.com",jw="storageBucket";class lr extends Rt.ZR{constructor(e,t){super(eo(e),`Firebase Storage: ${t} (${eo(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lr.prototype)}_codeEquals(e){return eo(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function eo(n){return"storage/"+n}function O_(){return new lr("unknown","An unknown error occurred, please check the error payload for server response.")}function Gw(){return new lr("canceled","User canceled the upload/download.")}function k_(){return new lr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Oc(n){return new lr("invalid-argument",n)}function Po(){return new lr("app-deleted","The Firebase app was deleted.")}function R_(n){return new lr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cf(n,e){return new lr("invalid-format","String does not match format '"+n+"': "+e)}function Ou(n){throw new lr("internal-error","Internal error: "+n)}class qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=qn.makeFromUrl(e,t)}catch(s){return new qn(e,"")}if(""===r.path)return r;throw function jE(n){return new lr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+s+"(/(.*))?$","i");function T(dt){dt.path_=decodeURIComponent(dt.path)}const R=t.replace(/[.]/g,"\\."),Et=[{regex:m,indices:{bucket:1,path:3},postModify:function l(dt){"/"===dt.path.charAt(dt.path.length-1)&&(dt.path_=dt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${t===P_?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let dt=0;dt<Et.length;dt++){const Ot=Et[dt],$t=Ot.regex.exec(e);if($t){let zc=$t[Ot.indices.path];zc||(zc=""),r=new qn($t[Ot.indices.bucket],zc),Ot.postModify(r);break}}if(null==r)throw function BE(n){return new lr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class N_{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ku(n){return"string"==typeof n||n instanceof String}function bf(n){return Ef()&&n instanceof Blob}function Ef(){return"undefined"!=typeof Blob}function If(n,e,t,r){if(r<e)throw Oc(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Oc(`Invalid value for '${n}'. Expected ${t} or less.`)}function fa(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function HE(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var kl=(()=>{return(n=kl||(kl={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",kl;var n})();class $E{constructor(e,t,r,s,l,d,m,v,T,S,R){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=v,this.timeout_=T,this.progressCallback_=S,this.connectionFactory_=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,q)=>{this.resolve_=H,this.reject_=q,this.start_()})}start_(){const t=(r,s)=>{const l=this.resolve_,d=this.reject_,m=s.connection;if(s.wasSuccessCode)try{const v=this.callback_(m,m.getResponse());!function bx(n){return void 0!==n}(v)?l():l(v)}catch(v){d(v)}else if(null!==m){const v=O_();v.serverResponse=m.getErrorText(),d(this.errorCallback_?this.errorCallback_(m,v):v)}else d(s.canceled?this.appDelete_?Po():Gw():function qw(){return new lr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new Ig(!1,null,!0)):this.backoffId_=function Ww(n,e,t){let r=1,s=null,l=null,d=!1,m=0;function v(){return 2===m}let T=!1;function S(...Le){T||(T=!0,e.apply(null,Le))}function R(Le){s=setTimeout(()=>{s=null,n(q,v())},Le)}function H(){l&&clearTimeout(l)}function q(Le,...ot){if(T)return void H();if(Le)return H(),void S.call(null,Le,...ot);if(v()||d)return H(),void S.call(null,Le,...ot);let Et;r<64&&(r*=2),1===m?(m=2,Et=0):Et=1e3*(r+Math.random()),R(Et)}let te=!1;function Me(Le){te||(te=!0,H(),!T&&(null!==s?(Le||(m=2),clearTimeout(s),R(0)):Le||(m=1)))}return R(0),l=setTimeout(()=>{d=!0,Me(!0)},t),Me}((r,s)=>{if(s)return void r(!1,new Ig(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const d=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(d),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(d),this.pendingConnection_=null;const m=l.getErrorCode()===kl.NO_ERROR,v=l.getStatus();if(!m||this.isRetryStatusCode_(v)){const S=l.getErrorCode()===kl.ABORT;return void r(!1,new Ig(!1,null,S))}const T=-1!==this.successCodes_.indexOf(v);r(!0,new Ig(T,l))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function F_(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,s=-1!==[408,429].indexOf(e),l=-1!==this.additionalRetryCodes_.indexOf(e);return t||s||l}}class Ig{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Qw(...n){const e=function Jw(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(Ef())return new Blob(n);throw new lr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Oo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xw{constructor(e,t){this.data=e,this.contentType=t||null}}function e0(n,e){switch(n){case Oo.RAW:return new Xw(zE(e));case Oo.BASE64:case Oo.BASE64URL:return new Xw(WE(n,e));case Oo.DATA_URL:return new Xw(function Ax(n){const e=new KE(n);return e.base64?WE(Oo.BASE64,e.rest):function Tx(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Cf(Oo.DATA_URL,"Malformed data URL.")}return zE(e)}(e.rest)}(e),function xx(n){return new KE(n).contentType}(e))}throw O_()}function zE(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function WE(n,e){switch(n){case Oo.BASE64:{const s=-1!==e.indexOf("-"),l=-1!==e.indexOf("_");if(s||l)throw Cf(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Oo.BASE64URL:{const s=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(s||l)throw Cf(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function L_(n){return atob(n)}(e)}catch(s){throw Cf(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class KE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Cf(Oo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function Mx(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class xi{constructor(e,t){let r=0,s="";bf(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(bf(this.data_)){const s=function ZE(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===s?null:new xi(s)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new xi(r,!0)}}static getBlob(...e){if(Ef()){const t=e.map(r=>r instanceof xi?r.data_:r);return new xi(Qw.apply(null,t))}{const t=e.map(d=>ku(d)?e0(Oo.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const s=new Uint8Array(r);let l=0;return t.forEach(d=>{for(let m=0;m<d.length;m++)s[l++]=d[m]}),new xi(s,!0)}}uploadData(){return this.data_}}function Df(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function Ex(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Dg(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function n0(n,e){return e}class Mi{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||n0}}let Tg=null;function eh(){if(Tg)return Tg;const n=[];n.push(new Mi("bucket")),n.push(new Mi("generation")),n.push(new Mi("metageneration")),n.push(new Mi("name","fullPath",!0));const t=new Mi("name");t.xform=function e(l,d){return function Rl(n){return!ku(n)||n.length<2?n:Dg(n)}(d)},n.push(t);const s=new Mi("size");return s.xform=function r(l,d){return void 0!==d?Number(d):d},n.push(s),n.push(new Mi("timeCreated")),n.push(new Mi("updated")),n.push(new Mi("md5Hash",null,!0)),n.push(new Mi("cacheControl",null,!0)),n.push(new Mi("contentDisposition",null,!0)),n.push(new Mi("contentEncoding",null,!0)),n.push(new Mi("contentLanguage",null,!0)),n.push(new Mi("contentType",null,!0)),n.push(new Mi("metadata","customMetadata",!0)),Tg=n,Tg}function r0(n,e,t){const r=Df(e);return null===r?null:function U_(n,e,t){const r={type:"file"},s=t.length;for(let l=0;l<s;l++){const d=t[l];r[d.local]=d.xform(r,e[d.server])}return function JE(n,e){Object.defineProperty(n,"ref",{get:function t(){const l=new qn(n.bucket,n.fullPath);return e._makeStorageReference(l)}})}(r,n),r}(n,r,t)}function V_(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const l=e[s];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}const o0="prefixes";class ds{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ks(n){if(!n)throw O_()}function kc(n,e){return function t(r,s){const l=r0(n,s,e);return ks(null!==l),l}}function Ru(n){return function e(t,r){let s;return s=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function UE(){return new lr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function LE(){return new lr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function FE(n){return new lr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function VE(n){return new lr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,s.serverResponse=r.serverResponse,s}}function Nu(n){const e=Ru(n);return function t(r,s){let l=e(r,s);return 404===r.getStatus()&&(l=function $w(n){return new lr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=s.serverResponse,l}}function Ag(n,e,t){const s=fa(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,m=new ds(s,"GET",kc(n,t),d);return m.errorHandler=Nu(e),m}function c0(n,e,t,r,s){const l={};l.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(l.delimiter=t),r&&(l.pageToken=r),s&&(l.maxResults=s);const m=fa(e.bucketOnlyServerUrl(),n.host,n._protocol),T=n.maxOperationRetryTime,S=new ds(m,"GET",function QE(n,e){return function t(r,s){const l=function B_(n,e,t){const r=Df(t);return null===r?null:function nh(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[o0])for(const s of t[o0]){const l=s.replace(/\/$/,""),d=n._makeStorageReference(new qn(e,l));r.prefixes.push(d)}if(t.items)for(const s of t.items){const l=n._makeStorageReference(new qn(e,s.name));r.items.push(l)}return r}(n,e,r)}(n,e,s);return ks(null!==l),l}}(n,e.bucket),T);return S.urlParams=l,S.errorHandler=Ru(e),S}function j_(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function u0(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class Af{constructor(e,t,r,s){this.current=e,this.total=t,this.finalized=!!r,this.metadata=s||null}}function H_(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(s){ks(!1)}return ks(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Px={STATE_CHANGED:"state_changed"},Rs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function xg(n){switch(n){case"running":case"pausing":case"canceling":return Rs.RUNNING;case"paused":return Rs.PAUSED;case"success":return Rs.SUCCESS;case"canceled":return Rs.CANCELED;default:return Rs.ERROR}}class Ox{constructor(e,t,r){if(function Kw(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function rh(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class nI extends class f0{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=kl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=kl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw Ou("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const l in s)s.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,s[l].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ou("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ou("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Ou("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ou("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function pa(){return new nI}class m0{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=eh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{this._request=void 0,this._chunkMultiplier=1,s._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=s,this._transition("error"))},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals("canceled")?this.completeTransitions_():(this._error=s,this._transition("error"))},this._promise=new Promise((s,l)=>{this._resolve=s,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function eI(n,e,t,r,s){const l=e.bucketOnlyServerUrl(),d=j_(e,r,s),m={name:d.fullPath},v=fa(l,n.host,n._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},R=V_(d,t),te=new ds(v,"POST",function q(Me){let Le;H_(Me);try{Le=Me.getResponseHeader("X-Goog-Upload-URL")}catch(ot){ks(!1)}return ks(ku(Le)),Le},n.maxUploadRetryTime);return te.urlParams=m,te.headers=S,te.body=R,te.errorHandler=Ru(e),te}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,pa,e,t);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const s=function to(n,e,t,r){const v=new ds(t,"POST",function l(T){const S=H_(T,["active","final"]);let R=null;try{R=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch(q){ks(!1)}R||ks(!1);const H=Number(R);return ks(!isNaN(H)),new Af(H,r.size(),"final"===S)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=Ru(e),v}(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(s,pa,t,r);this._request=l,l.getPromise().then(d=>{this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Af(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,l)=>{let d;try{d=function tI(n,e,t,r,s,l,d,m){const v=new Af(0,0);if(d?(v.current=d.current,v.total=d.total):(v.current=0,v.total=r.size()),r.size()!==v.total)throw function Zw(){return new lr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const T=v.total-v.current;let S=T;s>0&&(S=Math.min(S,s));const R=v.current,te={"X-Goog-Upload-Command":S===T?"upload, finalize":"upload","X-Goog-Upload-Offset":`${v.current}`},Me=r.slice(R,R+S);if(null===Me)throw k_();const Et=new ds(t,"POST",function Le(dt,Ot){const $t=H_(dt,["active","final"]),Dr=v.current+S,zc=r.size();let Cx;return Cx="final"===$t?kc(e,l)(dt,Ot):null,new Af(Dr,zc,"final"===$t,Cx)},e.maxUploadRetryTime);return Et.headers=te,Et.body=Me.uploadData(),Et.progressCallback=m||null,Et.errorHandler=Ru(n),Et}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const m=this._ref.storage._makeRequest(d,pa,s,l);this._request=m,m.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=Ag(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,pa,e,t);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function d0(n,e,t,r,s){const l=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},v=function m(){let Et="";for(let dt=0;dt<2;dt++)Et+=Math.random().toString().slice(2);return Et}();d["Content-Type"]="multipart/related; boundary="+v;const T=j_(e,r,s),S=V_(T,t),q=xi.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+v+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",r,"\r\n--"+v+"--");if(null===q)throw k_();const te={name:T.fullPath},Me=fa(l,n.host,n._protocol),ot=n.maxUploadRetryTime,bt=new ds(Me,"POST",kc(n,t),ot);return bt.urlParams=te,bt.headers=d,bt.body=q.uploadData(),bt.errorHandler=Ru(e),bt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,pa,e,t);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Gw(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=xg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,s){const l=new Ox(t||void 0,r||void 0,s||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(xg(this._state)){case Rs.SUCCESS:rh(this._resolve.bind(null,this.snapshot))();break;case Rs.CANCELED:case Rs.ERROR:rh(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(xg(this._state)){case Rs.RUNNING:case Rs.PAUSED:e.next&&rh(e.next.bind(e,this.snapshot))();break;case Rs.SUCCESS:e.complete&&rh(e.complete.bind(e))();break;default:e.error&&rh(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Fu{constructor(e,t){this._service=e,this._location=t instanceof qn?t:qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Fu(e,t)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Dg(this._location.path)}get storage(){return this._service}get parent(){const e=function YE(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new qn(this._location.bucket,e);return new Fu(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw R_(e)}}function w0(n,e,t){return C0.apply(this,arguments)}function C0(){return(C0=(0,De.Z)(function*(n,e,t){const s=yield q_(n,{pageToken:t});e.prefixes.push(...s.prefixes),e.items.push(...s.items),null!=s.nextPageToken&&(yield w0(n,e,s.nextPageToken))})).apply(this,arguments)}function q_(n,e){null!=e&&"number"==typeof e.maxResults&&If("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=c0(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,pa)}function cI(n){n._throwIfRoot("getDownloadURL");const e=function XE(n,e,t){const s=fa(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,m=new ds(s,"GET",function a0(n,e){return function t(r,s){const l=r0(n,s,e);return ks(null!==l),function s0(n,e,t,r){const s=Df(e);if(null===s||!ku(s.downloadTokens))return null;const l=s.downloadTokens;if(0===l.length)return null;const d=encodeURIComponent;return l.split(",").map(T=>{const R=n.fullPath;return fa("/b/"+d(n.bucket)+"/o/"+d(R),t,r)+HE({alt:"media",token:T})})[0]}(l,s,n.host,n._protocol)}}(n,t),d);return m.errorHandler=Nu(e),m}(n.storage,n._location,eh());return n.storage.makeRequestWithTokens(e,pa).then(t=>{if(null===t)throw function zw(){return new lr("no-download-url","The given file does not have any download URLs.")}();return t})}function b0(n,e){const t=function t0(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new qn(n._location.bucket,t);return new Fu(n.storage,r)}function Pg(n,e){if(n instanceof kg){const t=n;if(null==t._bucket)throw function jt(){return new lr("no-default-bucket","No default bucket found. Did you set the '"+jw+"' property when initializing the app?")}();const r=new Fu(t,t._bucket);return null!=e?Pg(r,e):r}return void 0!==e?b0(n,e):n}function uI(n,e){if(e&&function lI(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof kg)return function Sg(n,e){return new Fu(n,e)}(n,e);throw Oc("To use ref(service, url), the first argument must be a Storage instance.")}return Pg(n,e)}function Og(n,e){const t=null==e?void 0:e[jw];return null==t?null:qn.makeFromBucketSpec(t,n)}class kg{constructor(e,t,r,s,l){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=l,this._bucket=null,this._host=P_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?qn.makeFromBucketSpec(s,this._host):Og(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?qn.makeFromBucketSpec(this._url,e):Og(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){If("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){If("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,De.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,De.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fu(this,e)}_makeRequest(e,t,r,s){if(this._deleted)return new N_(Po());{const l=function Dx(n,e,t,r,s,l){const d=HE(n.urlParams),m=n.url+d,v=Object.assign({},n.headers);return function Ix(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function qE(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function Yw(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(v,l),function GE(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new $E(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s)}(e,this._appId,r,s,t,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,De.Z)(function*(){const[s,l]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,s,l).getPromise()})()}}const dI="@firebase/storage";function A0(n,e){return uI(n=(0,Rt.m9)(n),e)}function gI(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new kg(t,r,s,e,Xs.SDK_VERSION)}!function z_(){(0,Xs._registerComponent)(new wf.wA("storage",gI,"PUBLIC").setMultipleInstances(!0)),(0,Xs.registerVersion)(dI,"0.9.9",""),(0,Xs.registerVersion)(dI,"0.9.9","esm2017")}();class xf{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class W_{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new xf(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new xf(r,this,this._ref))},t)}on(e,t,r,s){let l;return t&&(l="function"==typeof t?d=>t(new xf(d,this,this._ref)):{next:t.next?d=>t.next(new xf(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,l,r||void 0,s||void 0)}}class K_{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Nc(e,this._service))}get items(){return this._delegate.items.map(e=>new Nc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Nc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Rx(n,e){return b0(n,e)}(this._delegate,e);return new Nc(t,this.storage)}get root(){return new Nc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Nc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new W_(function E0(n,e,t){return function Ga(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new m0(n,new xi(e),t)}(n=(0,Rt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Oo.RAW,r){this._throwIfRoot("putString");const s=e0(t,e),l=Object.assign({},r);return null==l.contentType&&null!=s.contentType&&(l.contentType=s.contentType),new W_(new m0(this._delegate,new xi(s.data,!0),l),this)}listAll(){return function Rc(n){return function sI(n){const e={prefixes:[],items:[]};return w0(n,e).then(()=>e)}(n=(0,Rt.m9)(n))}(this._delegate).then(e=>new K_(e,this.storage))}list(e){return function T0(n,e){return q_(n=(0,Rt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new K_(t,this.storage))}getMetadata(){return function I0(n){return function oI(n){n._throwIfRoot("getMetadata");const e=Ag(n.storage,n._location,eh());return n.storage.makeRequestWithTokens(e,pa)}(n=(0,Rt.m9)(n))}(this._delegate)}updateMetadata(e){return function D0(n,e){return function aI(n,e){n._throwIfRoot("updateMetadata");const t=function l0(n,e,t,r){const l=fa(e.fullServerUrl(),n.host,n._protocol),m=V_(t,r),T=n.maxOperationRetryTime,S=new ds(l,"PATCH",kc(n,r),T);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=m,S.errorHandler=Nu(e),S}(n.storage,n._location,e,eh());return n.storage.makeRequestWithTokens(t,pa)}(n=(0,Rt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function Ng(n){return cI(n=(0,Rt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function pI(n){return function G_(n){n._throwIfRoot("deleteObject");const e=function Sx(n,e){const r=fa(e.fullServerUrl(),n.host,n._protocol),m=new ds(r,"DELETE",function d(v,T){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=Nu(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,pa)}(n=(0,Rt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw R_(e)}}class Lg{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(P0(e))throw Oc("ref() expected a child path but got a URL, use refFromURL instead.");return new Nc(A0(this._delegate,e),this)}refFromURL(e){if(!P0(e))throw Oc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{qn.makeFromUrl(e,this._delegate.host)}catch(t){throw Oc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Nc(A0(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function M0(n,e,t,r={}){!function Z_(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken="string"==typeof s?s:(0,Rt.Sg)(s,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function P0(n){return/^[A-Za-z]+:\/\//.test(n)}function k0(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new Lg(t,r)}!function _I(n){const e={TaskState:Rs,TaskEvent:Px,StringFormat:Oo,Storage:Lg,Reference:Nc};n.INTERNAL.registerComponent(new wf.wA("storage-compat",k0,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(Bw.Z),F(5867);var Uc=F(1877);const U0=new Map,EI={activated:!1,tokenObservers:[]},Bx={initialized:!1,enabled:!1};function Si(n){return U0.get(n)||EI}function no(n,e){U0.set(n,e)}function Ug(){return Bx}class B0{constructor(e,t,r,s,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=s,s>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,De.Z)(function*(){t.stop();try{t.pending=new Rt.BH,yield function j0(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Rt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const hs=new Rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Q_(n){if(!Si(n).activated)throw hs.create("use-before-activation",{appName:n.name})}function Sf(n,e){return X_.apply(this,arguments)}function X_(){return(X_=(0,De.Z)(function*({url:n,body:e},t){var r,s;const l={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const q=yield d.getHeartbeatsHeader();q&&(l["X-Firebase-Client"]=q)}const m={method:"POST",body:JSON.stringify(e),headers:l};let v,T;try{v=yield fetch(n,m)}catch(q){throw hs.create("fetch-network-error",{originalErrorMessage:null===(r=q)||void 0===r?void 0:r.message})}if(200!==v.status)throw hs.create("fetch-status-error",{httpStatus:v.status});try{T=yield v.json()}catch(q){throw hs.create("fetch-parse-error",{originalErrorMessage:null===(s=q)||void 0===s?void 0:s.message})}const S=T.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw hs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${T.ttl}`});const R=1e3*Number(S[1]),H=Date.now();return{token:T.token,expireTimeMillis:H+R,issuedAtTimeMillis:H}})).apply(this,arguments)}function AI(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const Nl="firebase-app-check-store";let jg=null;function sh(){return jg||(jg=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=s=>{n(s.target.result)},r.onerror=s=>{var l;e(hs.create("storage-open",{originalErrorMessage:null===(l=s.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(Nl,{keyPath:"compositeKey"})}}catch(r){e(hs.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),jg)}function ai(){return(ai=(0,De.Z)(function*(n,e){const r=(yield sh()).transaction(Nl,"readwrite"),l=r.objectStore(Nl).put({compositeKey:n,value:e});return new Promise((d,m)=>{l.onsuccess=v=>{d()},r.onerror=v=>{var T;m(hs.create("storage-set",{originalErrorMessage:null===(T=v.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const Uu=new Uc.Yd("@firebase/app-check");function Vu(n,e){return(0,Rt.hl)()?function PI(n,e){return function oh(n,e){return ai.apply(this,arguments)}(function ro(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Uu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Bu(){return Ug().enabled}function ju(){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,De.Z)(function*(){const n=Ug();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $0={error:"UNKNOWN_ERROR"};function q0(n){return Rt.US.encodeString(JSON.stringify(n),!1)}function Pf(n){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,De.Z)(function*(n,e=!1){const t=n.app;Q_(t);const r=Si(t);let l,s=r.token;if(!s){const v=yield r.cachedTokenPromise;v&&Gg(v)&&(s=v)}if(!e&&s&&Gg(s))return{token:s.token};let m,d=!1;if(Bu()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Sf(AI(t,yield ju()),n.heartbeatServiceProvider).then(T=>(r.exchangeTokenPromise=void 0,T)),d=!0);const v=yield r.exchangeTokenPromise;return yield Vu(t,v),no(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),d=!0),s=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Uu.warn(v.message):Uu.error(v),l=v}return s?(m={token:s.token},no(t,Object.assign(Object.assign({},r),{token:s})),yield Vu(t,s)):m=Z0(l),d&&ny(t,m),m})).apply(this,arguments)}function qg(n,e){const t=Si(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),no(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function ty(n){const{app:e}=n,t=Si(e);let r=t.tokenRefresher;r||(r=function G0(n){const{app:e}=n;return new B0((0,De.Z)(function*(){let r;if(r=Si(e).token?yield Pf(n,!0):yield Pf(n),r.error)throw r.error}),()=>!0,()=>{const t=Si(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),no(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ny(n,e){const t=Si(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(s){}}function Gg(n){return n.expireTimeMillis-Date.now()>0}function Z0(n){return{token:q0($0),error:n}}class OI{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Si(this.app);for(const t of e)qg(this.app,t.next);return Promise.resolve()}}const Q0="app-check-internal";!function X0(){(0,Xs._registerComponent)(new wf.wA("app-check",n=>function kI(n,e){return new OI(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Q0).initialize()})),(0,Xs._registerComponent)(new wf.wA(Q0,n=>function z0(n){return{getToken:e=>Pf(n,e),addTokenListener:e=>function $g(n,e,t,r){const{app:s}=n,l=Si(s),d={next:t,error:r,type:e};if(no(s,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&Gg(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),ty(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>ty(n))}(n,"INTERNAL",e),removeTokenListener:e=>qg(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xs.registerVersion)("@firebase/app-check","0.5.12")}();class Wg{constructor(){return(0,Qn.vb)("app-check")}}"undefined"!=typeof window&&window;var YI=F(127);function kf(n){const e=function Yg(n){return new P.y(e=>{const t=d=>e.next(d);t(n.snapshot);const l=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){l()}}).pipe(function RE(n,e=Xd.z){return(0,ar.e)((t,r)=>{let s=null,l=null,d=null;const m=()=>{if(s){s.unsubscribe(),s=null;const T=l;l=null,r.next(T)}};function v(){const T=d+n,S=e.now();if(S<T)return s=this.schedule(void 0,T-S),void r.add(s);m()}t.subscribe((0,Or.x)(r,T=>{l=T,d=e.now(),s||(s=e.schedule(v,n),r.add(s))},()=>{m(),r.complete()},void 0,()=>{l=s=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,vt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function hh(n){return{getDownloadURL:()=>at(void 0).pipe(Qn.fc,Ln(()=>n.getDownloadURL()),Qn.iC),getMetadata:()=>at(void 0).pipe(Qn.fc,Ln(()=>n.getMetadata()),Qn.iC),delete:()=>(0,pn.D)(n.delete()),child:e=>hh(n.child(e)),updateMetadata:e=>(0,pn.D)(n.updateMetadata(e)),put:(e,t)=>kf(n.put(e,t)),putString:(e,t,r)=>kf(n.putString(e,t,r)),list:e=>(0,pn.D)(n.list(e)),listAll:()=>(0,pn.D)(n.listAll())}}const zx=new c.OlP("angularfire2.storageBucket"),JI=new c.OlP("angularfire2.storage.maxUploadRetryTime"),ly=new c.OlP("angularfire2.storage.maxOperationRetryTime"),uy=new c.OlP("angularfire2.storage.use-emulator");let sC=(()=>{class n{constructor(t,r,s,l,d,m,v,T,S,R){const H=(0,us.on)(t,d,r);this.storage=(0,us.cc)(`${H.name}.storage.${s}`,"AngularFireStorage",H.name,()=>{const q=d.runOutsideAngular(()=>H.storage(s||void 0)),te=S;return te&&q.useEmulator(...te),v&&q.setMaxUploadRetryTime(v),T&&q.setMaxOperationRetryTime(T),q},[v,T])}ref(t){return hh(this.storage.ref(t))}refFromURL(t){return hh(this.storage.refFromURL(t))}upload(t,r,s){return hh(this.storage.ref(t)).put(r,s)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(us.Dh),c.LFG(us.xv,8),c.LFG(zx,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Qn.HU),c.LFG(JI,8),c.LFG(ly,8),c.LFG(uy,8),c.LFG(Wg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Jg(){return(0,ar.e)((n,e)=>{let t,r=!1;n.subscribe((0,Or.x)(e,s=>{const l=t;t=s,r&&e.next([l,s]),r=!0}))})}function aC(n,e){return n===e}F(1451);var ct,cC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},za={},Qg=Qg||{},Vt=cC||self;function Xg(){}function hy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var em="closure_uid_"+(1e9*Math.random()>>>0),lC=0;function uC(n,e,t){return n.call.apply(n.bind,arguments)}function dC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function ci(n,e,t){return(ci=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uC:dC).apply(null,arguments)}function Rf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function li(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,s,l){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[s].apply(r,d)}}function Vc(){this.s=this.s,this.o=this.o}var eD={};Vc.prototype.s=!1,Vc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function fy(n){return Object.prototype.hasOwnProperty.call(n,em)&&n[em]||(n[em]=++lC)}(this);delete eD[n]}},Vc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},py=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,s="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in s&&e.call(t,s[l],l,n)};function Rr(n){return Array.prototype.concat.apply([],arguments)}function tm(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function nm(n){return/^[\s\xa0]*$/.test(n)}var Ki,fC=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Wi(n,e){return-1!=n.indexOf(e)}function gy(n,e){return n<e?-1:n>e?1:0}e:{var my=Vt.navigator;if(my){var Hu=my.userAgent;if(Hu){Ki=Hu;break e}}Ki=""}function _y(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function pC(n){const e={};for(const t in n)e[t]=n[t];return e}var yy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gC(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let l=0;l<yy.length;l++)t=yy[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function rm(n){return rm[" "](n),n}rm[" "]=Xg;var Ns,n,mC=Wi(Ki,"Opera"),Bl=Wi(Ki,"Trident")||Wi(Ki,"MSIE"),ma=Wi(Ki,"Edge"),vy=ma||Bl,_C=Wi(Ki,"Gecko")&&!(Wi(Ki.toLowerCase(),"webkit")&&!Wi(Ki,"Edge"))&&!(Wi(Ki,"Trident")||Wi(Ki,"MSIE"))&&!Wi(Ki,"Edge"),Wa=Wi(Ki.toLowerCase(),"webkit")&&!Wi(Ki,"Edge");function ko(){var n=Vt.document;return n?n.documentMode:void 0}e:{var im="",sm=(n=Ki,_C?/rv:([^\);]+)(\)|;)/.exec(n):ma?/Edge\/([\d\.]+)/.exec(n):Bl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Wa?/WebKit\/(\S+)/.exec(n):mC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sm&&(im=sm?sm[1]:""),Bl){var wy=ko();if(null!=wy&&wy>parseFloat(im)){Ns=String(wy);break e}}Ns=im}var nD={};var Nf=Vt.document&&Bl&&(ko()||parseInt(Ns,10))||void 0,iD=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",Xg,e),Vt.removeEventListener("test",Xg,e)}catch(t){}return n}();function Pi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ff(n,e){if(Pi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_C){e:{try{rm(e.nodeName);var s=!0;break e}catch(l){}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:yC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ff.Z.h.call(this)}}Pi.prototype.h=function(){this.defaultPrevented=!0},li(Ff,Pi);var yC={2:"touch",3:"pen",4:"mouse"};Ff.prototype.h=function(){Ff.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ph="closure_listenable_"+(1e6*Math.random()|0),am=0;function sD(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=s,this.key=++am,this.ca=this.fa=!1}function Lf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Uf(n){this.src=n,this.g={},this.h=0}function Vf(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],s=hC(r,e);(l=0<=s)&&Array.prototype.splice.call(r,s,1),l&&(Lf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function gh(n,e,t,r){for(var s=0;s<n.length;++s){var l=n[s];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return s}return-1}Uf.prototype.add=function(n,e,t,r,s){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=gh(n,e,r,s);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new sD(e,this.src,l,!!r,s)).fa=t,n.push(e)),e};var cm="closure_lm_"+(1e6*Math.random()|0),lm={};function by(n,e,t,r,s){if(r&&r.once)return Iy(n,e,t,r,s);if(Array.isArray(e)){for(var l=0;l<e.length;l++)by(n,e[l],t,r,s);return null}return t=xy(t),n&&n[ph]?n.N(e,t,fh(r)?!!r.capture:!!r,s):Ey(n,e,t,!1,r,s)}function Ey(n,e,t,r,s,l){if(!e)throw Error("Invalid event type");var d=fh(s)?!!s.capture:!!s,m=Ty(n);if(m||(n[cm]=m=new Uf(n)),(t=m.add(e,t,r,d,l)).proxy)return t;if(r=function vC(){var e=oD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)iD||(s=d),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(wC(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Iy(n,e,t,r,s){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Iy(n,e[l],t,r,s);return null}return t=xy(t),n&&n[ph]?n.O(e,t,fh(r)?!!r.capture:!!r,s):Ey(n,e,t,!0,r,s)}function Dy(n,e,t,r,s){if(Array.isArray(e))for(var l=0;l<e.length;l++)Dy(n,e[l],t,r,s);else r=fh(r)?!!r.capture:!!r,t=xy(t),n&&n[ph]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=gh(l=n.g[e],t,r,s))&&(Lf(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Ty(n))&&(e=n.g[e.toString()],n=-1,e&&(n=gh(e,t,r,s)),(t=-1<n?e[n]:null)&&um(t))}function um(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ph])Vf(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(wC(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ty(e))?(Vf(t,n),0==t.h&&(t.src=null,e[cm]=null)):Lf(n)}}}function wC(n){return n in lm?lm[n]:lm[n]="on"+n}function oD(n,e){if(n.ca)n=!0;else{e=new Ff(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&um(n),n=t.call(r,e)}return n}function Ty(n){return(n=n[cm])instanceof Uf?n:null}var Ay="__closure_events_fn_"+(1e9*Math.random()>>>0);function xy(n){return"function"==typeof n?n:(n[Ay]||(n[Ay]=function(e){return n.handleEvent(e)}),n[Ay])}function ui(){Vc.call(this),this.i=new Uf(this),this.P=this,this.I=null}function Oi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Pi(e,n);else if(e instanceof Pi)e.target=e.target||n;else{var s=e;gC(e=new Pi(r,n),s)}if(s=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];s=dm(d,r,!0,e)&&s}if(s=dm(d=e.g=n,r,!0,e)&&s,s=dm(d,r,!1,e)&&s,t)for(l=0;l<t.length;l++)s=dm(d=e.g=t[l],r,!1,e)&&s}function dm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var m=d.listener,v=d.ia||d.src;d.fa&&Vf(n.i,d),s=!1!==m.call(v,r)&&s}}return s&&!r.defaultPrevented}li(ui,Vc),ui.prototype[ph]=!0,ui.prototype.removeEventListener=function(n,e,t,r){Dy(this,n,e,t,r)},ui.prototype.M=function(){if(ui.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Lf(t[r]);delete n.g[e],n.h--}}this.I=null},ui.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ui.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var My=Vt.JSON.stringify;function aD(){var n=ky;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Py,CC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new lD,n=>n.reset());class lD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function uD(n){Vt.setTimeout(()=>{throw n},0)}function Sy(n,e){Py||function dD(){var n=Vt.Promise.resolve(void 0);Py=function(){n.then(bC)}}(),Oy||(Py(),Oy=!0),ky.add(n,e)}var Oy=!1,ky=new class cD{constructor(){this.h=this.g=null}add(e,t){const r=CC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function bC(){for(var n;n=aD();){try{n.h.call(n.g)}catch(t){uD(t)}var e=CC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Oy=!1}function Bf(n,e){ui.call(this),this.h=n||1,this.g=e||Vt,this.j=ci(this.kb,this),this.l=Date.now()}function hm(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function fm(n,e,t){if("function"==typeof n)t&&(n=ci(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ci(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function Ry(n){n.g=fm(()=>{n.g=null,n.i&&(n.i=!1,Ry(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}li(Bf,ui),(ct=Bf.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Oi(this,"tick"),this.da&&(hm(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){Bf.Z.M.call(this),hm(this),delete this.g};class EC extends Vc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ry(this)}M(){super.M(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mh(n){Vc.call(this),this.h=n,this.g={}}li(mh,Vc);var Ny=[];function Fy(n,e,t,r){Array.isArray(t)||(t&&(Ny[0]=t.toString()),t=Ny);for(var s=0;s<t.length;s++){var l=by(e,t[s],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Ly(n){_y(n.g,function(e,t){this.g.hasOwnProperty(t)&&um(e)},n),n.g={}}function Ka(){this.g=!0}function _a(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Uy(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var l=s[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<s.length;d++)s[d]=""}}}return My(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}mh.prototype.M=function(){mh.Z.M.call(this),Ly(this)},mh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ka.prototype.Aa=function(){this.g=!1},Ka.prototype.info=function(){};var _h={},Vy=null;function jf(){return Vy=Vy||new ui}function pD(n){Pi.call(this,_h.Ma,n)}function Dt(n){const e=jf();Oi(e,new pD(e,n))}function IC(n,e){Pi.call(this,_h.STAT_EVENT,n),this.stat=e}function fs(n){const e=jf();Oi(e,new IC(e,n))}function DC(n,e){Pi.call(this,_h.Na,n),this.size=e}function jl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}_h.Ma="serverreachability",li(pD,Pi),_h.STAT_EVENT="statevent",li(IC,Pi),_h.Na="timingevent",li(DC,Pi);var pm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Hf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yh(){}function gD(){}yh.prototype.h=null;var gm,vh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function By(){Pi.call(this,"d")}function jy(){Pi.call(this,"c")}function $f(){}function wh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new mh(this),this.P=mD,this.W=new Bf(n=vy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Hy}function Hy(){this.i=null,this.g="",this.h=!1}li(By,Pi),li(jy,Pi),li($f,yh),$f.prototype.g=function(){return new XMLHttpRequest},$f.prototype.i=function(){return{}},gm=new $f;var mD=45e3,$y={},mm={};function $u(n,e,t){n.K=1,n.v=Zf(Bc(e)),n.s=t,n.U=!0,TC(n,null)}function TC(n,e){n.F=Date.now(),Ch(n),n.A=Bc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),PC(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Hy,n.g=ov(n.l,t?e:null,!n.s),0<n.O&&(n.L=new EC(ci(n.Ia,n,n.g),n.O)),Fy(n.V,n.g,"readystatechange",n.gb),e=n.H?pC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Dt(1),function hD(n,e,t,r,s,l){n.info(function(){if(n.g)if(l)for(var d="",m=l.split("&"),v=0;v<m.length;v++){var T=m[v].split("=");if(1<T.length){var S=T[0];T=T[1];var R=S.split("_");d=2<=R.length&&"type"==R[1]?d+(S+"=")+T+"&":d+(S+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function AC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function xC(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=_m(n,t),s==mm){4==e&&(n.o=4,fs(14),r=!1),_a(n.j,n.m,null,"[Incomplete Response]");break}if(s==$y){n.o=4,fs(15),_a(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}_a(n.j,n.m,s,null),qu(n,s)}AC(n)&&s!=mm&&s!=$y&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),iv(e),e.L=!0,fs(11))):(_a(n.j,n.m,t,"[Invalid Chunked Response]"),ya(n),Gf(n))}function _m(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?mm:(t=Number(e.substring(t,r)),isNaN(t)?$y:(r+=1)+t>e.length?mm:(e=e.substr(r,t),n.C=r+t,e))}function Ch(n){n.Y=Date.now()+n.P,qy(n,n.P)}function qy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=jl(ci(n.eb,n),e)}function qf(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Gf(n){0==n.l.G||n.I||ZC(n.l,n)}function ya(n){qf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,hm(n.W),Ly(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function qu(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Ky(t.i,n)))if(t.I=n.N,!n.J&&Ky(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0])e:if(t.u)t.ta=s[1],0<t.ta-t.U&&37500>s[2]&&t.N&&0==t.A&&!t.v&&(t.v=jl(ci(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;ep(t),Am(t)}Ku(t),fs(18)}if(1>=Cm(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else Yu(t,11)}else if((n.J||t.g==n)&&ep(t),!nm(e))for(s=t.Ca.g.parse(e),e=0;e<s.length;e++){let T=s[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const S=T[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const R=T[4];null!=R&&(t.za=R,t.h.info("SVER="+t.za));const H=T[5];null!=H&&"number"==typeof H&&0<H&&(t.K=r=1.5*H,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const q=n.g;if(q){const te=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(te){var l=r.i;!l.g&&(Wi(te,"spdy")||Wi(te,"quic")||Wi(te,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(bm(l,l.h),l.h=null))}if(r.D){const Me=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(r.sa=Me,er(r.F,r.D,Me))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=sv(r,r.H?r.la:null,r.W),d.J){Yy(r.i,d);var m=d,v=r.K;v&&m.setTimeout(v),m.B&&(qf(m),Ch(m)),r.g=d}else Wu(r);0<t.l.length&&Xf(t)}else"stop"!=T[0]&&"close"!=T[0]||Yu(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Yu(t,7):Tm(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}Dt(4)}catch(T){}}function Gy(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(hy(n)||"string"==typeof n)py(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(hy(n)||"string"==typeof n){t=[];for(var r=n.length,s=0;s<r;s++)t.push(s)}else for(s in t=[],r=0,n)t[r++]=s;r=function _D(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(hy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length;for(var l=0;l<s;l++)e.call(void 0,r[l],t&&t[l],n)}}function bh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof bh)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function ym(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Hl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var s={};for(t=e=0;e<n.g.length;)Hl(s,r=n.g[e])||(n.g[t++]=r,s[r]=1),e++;n.g.length=t}}function Hl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ct=wh.prototype).setTimeout=function(n){this.P=n},ct.gb=function(n){n=n.target;const e=this.L;e&&3==Ya(n)?e.l():this.Ia(n)},ct.Ia=function(n){try{if(n==this.g)e:{const S=Ya(this.g);var e=this.g.Da();const R=this.g.ba();if(!(3>S)&&(3!=S||vy||this.g&&(this.h.h||this.g.ga()||Dm(this.g)))){this.I||4!=S||7==e||Dt(8==e||0>=R?3:2),qf(this);var t=this.g.ba();this.N=t;t:if(AC(this)){var r=Dm(this.g);n="";var s=r.length,l=4==Ya(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ya(this),Gf(this);var d="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function fD(n,e,t,r,s,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nm(m)){var T=m;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,fs(12),ya(this),Gf(this);break e}_a(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qu(this,t)}this.U?(xC(this,S,d),vy&&this.i&&3==S&&(Fy(this.V,this.W,"tick",this.fb),this.W.start())):(_a(this.j,this.m,d,null),qu(this,d)),4==S&&ya(this),this.i&&!this.I&&(4==S?ZC(this.l,this):(this.i=!1,Ch(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,fs(12)):(this.o=0,fs(13)),ya(this),Gf(this)}}}catch(S){}},ct.fb=function(){if(this.g){var n=Ya(this.g),e=this.g.ga();this.C<e.length&&(qf(this),xC(this,n,e),this.i&&4!=n&&Ch(this))}},ct.cancel=function(){this.I=!0,ya(this)},ct.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Jx(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Dt(3),fs(17)),ya(this),this.o=2,Gf(this)):qy(this,this.Y-n)},(ct=bh.prototype).R=function(){ym(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ct.T=function(){return ym(this),this.g.concat()},ct.get=function(n,e){return Hl(this.h,n)?this.h[n]:e},ct.set=function(n,e){Hl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ct.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var s=t[r],l=this.get(s);n.call(e,l,s,this)}};var Zy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $l(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof $l){this.g=void 0!==e?e:n.g,vm(this,n.j),this.s=n.s,zy(this,n.i),Wy(this,n.m),this.l=n.l,e=n.h;var t=new Ih;t.i=e.i,e.g&&(t.g=new bh(e.g),t.h=e.h),vD(this,t),this.o=n.o}else n&&(t=String(n).match(Zy))?(this.g=!!e,vm(this,t[1]||"",!0),this.s=zf(t[2]||""),zy(this,t[3]||"",!0),Wy(this,t[4]),this.l=zf(t[5]||"",!0),vD(this,t[6]||"",!0),this.o=zf(t[7]||"")):(this.g=!!e,this.h=new Ih(null,this.g))}function Bc(n){return new $l(n)}function vm(n,e,t){n.j=t?zf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function zy(n,e,t){n.i=t?zf(e,!0):e}function Wy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function vD(n,e,t){e instanceof Ih?(n.h=e,function DD(n,e){e&&!n.j&&(ql(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(SC(this,r),PC(this,s,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Eh(e,ED)),n.h=new Ih(e,n.g))}function er(n,e,t){n.h.set(e,t)}function Zf(n){return er(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function zf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Eh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Wf),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Wf(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$l.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Eh(e,MC,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Eh(e,MC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Eh(t,"/"==t.charAt(0)?bD:CD,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Eh(t,ID)),n.join("")};var MC=/[#\/\?@]/g,CD=/[#\?:]/g,bD=/[#\?]/g,ED=/[#\?@]/g,ID=/#/g;function Ih(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ql(n){n.g||(n.g=new bh,n.h=0,n.i&&function yD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var l=n[t].substring(0,r);s=n[t].substring(r+1)}else l=n[t];e(l,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function SC(n,e){ql(n),e=Zu(n,e),Hl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Hl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&ym(n)))}function Gu(n,e){return ql(n),e=Zu(n,e),Hl(n.g.h,e)}function PC(n,e,t){SC(n,e),0<t.length&&(n.i=null,n.g.set(Zu(n,e),tm(t)),n.h+=t.length)}function Zu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function kC(n){this.l=n||RC,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ea&&Vt.g.Ea()&&Vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=Ih.prototype).add=function(n,e){ql(this),this.i=null,n=Zu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){ql(this),this.g.forEach(function(t,r){py(t,function(s){n.call(e,s,r,this)},this)},this)},ct.T=function(){ql(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var s=n[r],l=0;l<s.length;l++)t.push(e[r]);return t},ct.R=function(n){ql(this);var e=[];if("string"==typeof n)Gu(this,n)&&(e=Rr(e,this.g.get(Zu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Rr(e,n[t])}return e},ct.set=function(n,e){return ql(this),this.i=null,Gu(this,n=Zu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],s=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var d=s;""!==r[l]&&(d+="="+encodeURIComponent(String(r[l]))),n.push(d)}}return this.i=n.join("&")};var RC=10;function NC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Cm(n){return n.h?1:n.g?n.g.size:0}function Ky(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function bm(n,e){n.g?n.g.add(e):n.h=e}function Yy(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function FC(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return tm(n.i)}function Jy(){}function TD(){this.g=new Jy}function Qy(n,e,t){const r=t||"";try{Gy(n,function(s,l){let d=s;fh(s)&&(d=My(s)),e.push(r+l+"="+encodeURIComponent(d))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Kf(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch(l){}}function Yf(n){this.l=n.$b||null,this.j=n.ib||!1}function Em(n,e){ui.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Xy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kC.prototype.cancel=function(){if(this.i=FC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Jy.prototype.stringify=function(n){return Vt.JSON.stringify(n,void 0)},Jy.prototype.parse=function(n){return Vt.JSON.parse(n,void 0)},li(Yf,yh),Yf.prototype.g=function(){return new Em(this.l,this.j)},Yf.prototype.i=function(n){return function(){return n}}({}),li(Em,ui);var Xy=0;function LC(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Jf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Qf(n)}function Qf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=Em.prototype).open=function(n,e){if(this.readyState!=Xy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Qf(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jf(this)),this.readyState=Xy},ct.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Qf(this)),this.g&&(this.readyState=3,Qf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LC(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Jf(this):Qf(this),3==this.readyState&&LC(this)}},ct.Ua=function(n){this.g&&(this.response=this.responseText=n,Jf(this))},ct.Ta=function(n){this.g&&(this.response=n,Jf(this))},ct.ha=function(){this.g&&Jf(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Em.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var xD=Vt.JSON.parse;function Nr(n){ui.call(this),this.headers=new bh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ev,this.K=this.L=!1}li(Nr,ui);var ev="",UC=/^https?$/i,MD=["POST","PUT"];function VC(n){return"content-type"==n.toLowerCase()}function BC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,jC(n),Dh(n)}function jC(n){n.D||(n.D=!0,Oi(n,"complete"),Oi(n,"error"))}function HC(n){if(n.h&&void 0!==Qg&&(!n.C[1]||4!=Ya(n)||2!=n.ba()))if(n.v&&4==Ya(n))fm(n.Fa,0,n);else if(Oi(n,"readystatechange"),4==Ya(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var s=String(n.H).match(Zy)[1]||null;if(!s&&Vt.self&&Vt.self.location){var l=Vt.self.location.protocol;s=l.substr(0,l.length-1)}r=!UC.test(s?s.toLowerCase():"")}t=r}if(t)Oi(n,"complete"),Oi(n,"success");else{n.m=6;try{var d=2<Ya(n)?n.g.statusText:""}catch(v){d=""}n.j=d+" ["+n.ba()+"]",jC(n)}}finally{Dh(n)}}}function Dh(n,e){if(n.g){Im(n);const t=n.g,r=n.C[0]?Xg:null;n.g=null,n.C=null,e||Oi(n,"ready");try{t.onreadystatechange=r}catch(s){}}}function Im(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function Ya(n){return n.g?n.g.readyState:0}function Dm(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ev:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function PD(n){let e="";return _y(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):er(n,e,t))}function zu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function $C(n){this.za=0,this.l=[],this.h=new Ka,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zu("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zu("baseRetryDelayMs",5e3,n),this.$a=zu("retryDelaySeedMs",1e4,n),this.Ya=zu("forwardChannelMaxRetries",2,n),this.ra=zu("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new kC(n&&n.concurrentRequestLimit),this.Ca=new TD,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Tm(n){if(nv(n),3==n.G){var e=n.V++,t=Bc(n.F);er(t,"SID",n.J),er(t,"RID",e),er(t,"TYPE","terminate"),Gl(n,t),(e=new wh(n,n.h,e,void 0)).K=2,e.v=Zf(Bc(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(t=Vt.navigator.sendBeacon(e.v.toString(),"")),!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ov(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ch(e)}WC(n)}function Am(n){n.g&&(iv(n),n.g.cancel(),n.g=null)}function nv(n){Am(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),ep(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function rv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Xf(n)}function Xf(n){NC(n.i)||n.m||(n.m=!0,Sy(n.Ha,n),n.C=0)}function qC(n,e){var t;t=e?e.m:n.V++;const r=Bc(n.F);er(r,"SID",n.J),er(r,"RID",t),er(r,"AID",n.U),Gl(n,r),n.o&&n.s&&tv(r,n.o,n.s),t=new wh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=GC(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),bm(n.i,t),$u(t,r,e)}function Gl(n,e){n.j&&Gy({},function(t,r){er(e,r,t)})}function GC(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ci(n.j.Oa,n.j,n):null;e:{var s=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=s[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let m=!0;for(let v=0;v<t;v++){let T=s[v].h;const S=s[v].g;if(T-=l,0>T)l=Math.max(0,s[v].h-100),m=!1;else try{Qy(S,d,"req"+T+"_")}catch(R){r&&r(S)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Wu(n){n.g||n.u||(n.Y=1,Sy(n.Ga,n),n.A=0)}function Ku(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=jl(ci(n.Ga,n),zC(n,n.A)),n.A++,0))}function iv(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function OD(n){n.g=new wh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Bc(n.oa);er(e,"RID","rpc"),er(e,"SID",n.J),er(e,"CI",n.N?"0":"1"),er(e,"AID",n.U),Gl(n,e),er(e,"TYPE","xmlhttp"),n.o&&n.s&&tv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Zf(Bc(e)),t.s=null,t.U=!0,TC(t,n)}function ep(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function ZC(n,e){var t=null;if(n.g==e){ep(n),iv(n),n.g=null;var r=2}else{if(!Ky(n.i,e))return;t=e.D,Yy(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;Oi(r=jf(),new DC(r,t,e,s)),Xf(n)}else Wu(n);else if(3==(s=e.o)||0==s&&0<n.I||!(1==r&&function Qx(n,e){return!(Cm(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=jl(ci(n.Ha,n,e),zC(n,n.C)),n.C++,0)))}(n,e)||2==r&&Ku(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Yu(n,5);break;case 4:Yu(n,10);break;case 3:Yu(n,6);break;default:Yu(n,2)}}function zC(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Yu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ci(n.jb,n);t||(t=new $l("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||vm(t,"https"),Zf(t)),function AD(n,e){const t=new Ka;if(Vt.Image){const r=new Image;r.onload=Rf(Kf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Rf(Kf,t,r,"TestLoadImage: error",!1,e),r.onabort=Rf(Kf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Rf(Kf,t,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else fs(2);n.G=0,n.j&&n.j.va(e),WC(n),nv(n)}function WC(n){n.G=0,n.I=-1,n.j&&((0!=FC(n.i).length||0!=n.l.length)&&(n.i.i.length=0,tm(n.l),n.l.length=0),n.j.ua())}function sv(n,e,t){let r=function wm(n){return n instanceof $l?Bc(n):new $l(n,void 0)}(t);if(""!=r.i)e&&zy(r,e+"."+r.i),Wy(r,r.m);else{const s=Vt.location;r=function wD(n,e,t,r){var s=new $l(null,void 0);return n&&vm(s,n),e&&zy(s,e),t&&Wy(s,t),r&&(s.l=r),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,t)}return n.aa&&_y(n.aa,function(s,l){er(r,l,s)}),t=n.sa,(e=n.D)&&t&&er(r,e,t),er(r,"VER",n.ma),Gl(n,r),r}function ov(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nr(t&&n.Ba&&!n.qa?new Yf({ib:!0}):n.qa)).L=n.H,e}function xm(){}function Ju(){if(Bl&&!(10<=Number(Nf)))throw Error("Environmental error: no available transport.")}function ki(n,e){ui.call(this),this.g=new $C(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!nm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Qu(this)}function KC(n){By.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function av(){jy.call(this),this.status=1}function Qu(n){this.g=n}(ct=Nr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gm.g(),this.C=function Xn(n){return n.h||(n.h=n.i())}(this.u?this.u:gm),this.g.onreadystatechange=ci(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void BC(this,l)}n=t||"";const s=new bh(this.headers);r&&Gy(r,function(l,d){s.set(d,l)}),r=function tD(n){e:{var e=VC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<t;s++)if(s in r&&e.call(void 0,r[s],s,n)){e=s;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(s.T()),t=Vt.FormData&&n instanceof Vt.FormData,!(0<=hC(MD,e))||r||t||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Im(this),0<this.B&&((this.K=function SD(n){return Bl&&function rD(){return function Yx(n){var e=nD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=fC(String(Ns)).split("."),t=fC("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var s=e[d]||"",l=t[d]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==s[0].length&&0==l[0].length)break;n=gy(0==s[1].length?0:parseInt(s[1],10),0==l[1].length?0:parseInt(l[1],10))||gy(0==s[2].length,0==l[2].length)||gy(s[2],l[2]),s=s[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ci(this.pa,this)):this.A=fm(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){BC(this,l)}},ct.pa=function(){void 0!==Qg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oi(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Oi(this,"complete"),Oi(this,"abort"),Dh(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dh(this,!0)),Nr.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?HC(this):this.cb())},ct.cb=function(){HC(this)},ct.ba=function(){try{return 2<Ya(this)?this.g.status:-1}catch(n){return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ct.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),xD(e)}},ct.Da=function(){return this.m},ct.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=$C.prototype).ma=8,ct.G=1,ct.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ct.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const s=new wh(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=pC(l),gC(l,this.P)):l=this.P),null===this.o&&(s.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=GC(this,s,e),er(t=Bc(this.F),"RID",n),er(t,"CVER",22),this.D&&er(t,"X-HTTP-Session-Id",this.D),Gl(this,t),this.o&&l&&tv(t,this.o,l),bm(this.i,s),this.Ra&&er(t,"TYPE","init"),this.ja?(er(t,"$req",e),er(t,"SID","null"),s.$=!0,$u(s,t,null)):$u(s,t,e),this.G=2}}else 3==this.G&&(n?qC(this,n):0==this.l.length||NC(this.i)||qC(this))},ct.Ga=function(){if(this.u=null,OD(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=jl(ci(this.bb,this),n)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fs(10),Am(this),OD(this))},ct.ab=function(){null!=this.v&&(this.v=null,Am(this),Ku(this),fs(19))},ct.jb=function(n){n?(this.h.info("Successfully pinged google.com"),fs(2)):(this.h.info("Failed to ping google.com"),fs(1))},(ct=xm.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},Ju.prototype.g=function(n,e){return new ki(n,e)},li(ki,ui),ki.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Sy(ci(n.hb,n,e))),fs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=sv(n,null,n.W),Xf(n)},ki.prototype.close=function(){Tm(this.g)},ki.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,rv(this.g,e)}else this.v?((e={}).__data__=My(n),rv(this.g,e)):rv(this.g,n)},ki.prototype.M=function(){this.g.j=null,delete this.j,Tm(this.g),delete this.g,ki.Z.M.call(this)},li(KC,By),li(av,jy),li(Qu,xm),Qu.prototype.xa=function(){Oi(this.g,"a")},Qu.prototype.wa=function(n){Oi(this.g,new KC(n))},Qu.prototype.va=function(n){Oi(this.g,new av(n))},Qu.prototype.ua=function(){Oi(this.g,"b")},Ju.prototype.createWebChannel=Ju.prototype.g,ki.prototype.send=ki.prototype.u,ki.prototype.open=ki.prototype.m,ki.prototype.close=ki.prototype.close,pm.NO_ERROR=0,pm.TIMEOUT=8,pm.HTTP_ERROR=6,Hf.COMPLETE="complete",gD.EventType=vh,vh.OPEN="a",vh.CLOSE="b",vh.ERROR="c",vh.MESSAGE="d",ui.prototype.listen=ui.prototype.N,Nr.prototype.listenOnce=Nr.prototype.O,Nr.prototype.getLastError=Nr.prototype.La,Nr.prototype.getLastErrorCode=Nr.prototype.Da,Nr.prototype.getStatus=Nr.prototype.ba,Nr.prototype.getResponseJson=Nr.prototype.Qa,Nr.prototype.getResponseText=Nr.prototype.ga,Nr.prototype.send=Nr.prototype.ea;var kD=za.createWebChannelTransport=function(){return new Ju},RD=za.getStatEventTarget=function(){return jf()},tp=za.ErrorCode=pm,ND=za.EventType=Hf,Xx=za.Event=_h,YC=za.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},FD=za.FetchXmlHttpFactory=Yf,jc=za.WebChannel=gD,JC=za.XhrIo=Nr;const Xu="@firebase/firestore";class Ri{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ri.UNAUTHENTICATED=new Ri(null),Ri.GOOGLE_CREDENTIALS=new Ri("google-credentials-uid"),Ri.FIRST_PARTY=new Ri("first-party-uid"),Ri.MOCK_USER=new Ri("mock-user");let ed="9.9.2";const Zl=new Uc.Yd("@firebase/firestore");function QC(){return Zl.logLevel}function je(n,...e){if(Zl.logLevel<=Uc.in.DEBUG){const t=e.map(cv);Zl.debug(`Firestore (${ed}): ${n}`,...t)}}function ur(n,...e){if(Zl.logLevel<=Uc.in.ERROR){const t=e.map(cv);Zl.error(`Firestore (${ed}): ${n}`,...t)}}function Hc(n,...e){if(Zl.logLevel<=Uc.in.WARN){const t=e.map(cv);Zl.warn(`Firestore (${ed}): ${n}`,...t)}}function cv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function lt(n="Unexpected state"){const e=`FIRESTORE (${ed}) INTERNAL ASSERTION FAILED: `+n;throw ur(e),new Error(e)}function Nt(n,e){n||lt()}function tt(n,e){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Rt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class eb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ri.UNAUTHENTICATED))}shutdown(){}}class np{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tb{constructor(e){this.t=e,this.currentUser=Ri.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const l=T=>this.i!==s?(s=this.i,t(T)):Promise.resolve();let d=new di;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new di,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const T=d;e.enqueueRetryable((0,De.Z)(function*(){yield T.promise,yield l(r.currentUser)}))},v=T=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(T=>v(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?v(T):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new di)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt("string"==typeof r.accessToken),new eb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new Ri(e)}}class nb{constructor(e,t,r){this.type="FirstParty",this.user=Ri.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class rb{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new nb(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ri.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ib{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,je("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const s=l=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?s(l):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt("string"==typeof t.token),this.p=t.token,new lv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function BD(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class sb{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=BD(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<t&&(r+=e.charAt(s[l]%e.length))}return r}}function Ut(n,e){return n<e?-1:n>e?1:0}function Th(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function ob(n){return n+"\0"}class Gn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Gn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new Gn(0,0))}static max(){return new St(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rp{constructor(e,t,r){void 0===t?t=0:t>e.length&&lt(),void 0===r?r=e.length-t:r>e.length-t&&lt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===rp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const l=e.get(s),d=t.get(s);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends rp{construct(e,t,r){return new tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const Ja=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends rp{construct(e,t,r){return new dr(e,t,r)}static isValidIdentifier(e){return Ja.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const l=()=>{if(0===r.length)throw new Fe(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new Fe(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[s+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Fe(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,s+=2}else"`"===m?(d=!d,s++):"."!==m||d?(r+=m,s++):(l(),s++)}if(l(),d)throw new Fe(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(t)}static emptyPath(){return new dr([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(tn.fromString(e))}static fromName(e){return new We(tn.fromString(e).popFirst(5))}static empty(){return new We(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new tn(e.slice()))}}class zl{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function uv(n){return n.fields.find(e=>2===e.kind)}function td(n){return n.fields.filter(e=>2!==e.kind)}zl.UNKNOWN_ID=-1;class nd{constructor(e,t){this.fieldPath=e,this.kind=t}}class ip{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ip(0,Fs.min())}}function ab(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=St.fromTimestamp(1e9===r?new Gn(t+1,0):new Gn(t,r));return new Fs(s,We.empty(),e)}function dv(n){return new Fs(n.readTime,n.key,-1)}class Fs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fs(St.min(),We.empty(),-1)}static max(){return new Fs(St.max(),We.empty(),-1)}}function sp(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=We.comparator(n.documentKey,e.documentKey),0!==t?t:Ut(n.largestBatchId,e.largestBatchId))}const hv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Wl(n){return lb.apply(this,arguments)}function lb(){return lb=(0,De.Z)(function*(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==hv)throw n;je("LocalStore","Unexpectedly lost primary lease")}),lb.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,r)=>{t(e)})}static reject(e){return new ue((t,r)=>{r(e)})}static waitFor(e){return new ue((t,r)=>{let s=0,l=0,d=!1;e.forEach(m=>{++s,m.next(()=>{++l,d&&l===s&&t()},v=>r(v))}),d=!0,l===s&&t()})}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next(s=>s?ue.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,l)=>{r.push(t.call(this,s,l))}),this.waitFor(r)}static mapArray(e,t){return new ue((r,s)=>{const l=e.length,d=new Array(l);let m=0;for(let v=0;v<l;v++){const T=v;t(e[T]).next(S=>{d[T]=S,++m,m===l&&r(d)},S=>s(S))}})}static doWhile(e,t){return new ue((r,s)=>{const l=()=>{!0===e()?t().next(()=>{l()},s):r()};l()})}}class Ah{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new di,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new rd(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const s=Sm(r.target.error);this.T.reject(new rd(e,s))}}static open(e,t,r,s){try{return new Ah(t,e.transaction(s,r))}catch(l){throw new rd(t,l)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new HD(t)}}class Ro{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===Ro.v((0,Rt.z$)())&&ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),id(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Rt.hl)())return!1;if(Ro.S())return!0;const e=(0,Rt.z$)(),t=Ro.v(e),r=0<t&&t<10,s=Ro.D(e),l=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,De.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{s(new rd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const m=d.target.error;s("VersionError"===m.name?new Fe(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Fe(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new rd(e,m))},l.onupgradeneeded=d=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.P.M(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.O&&(t.db.onversionchange=r=>t.O(r)),t.db})()}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var l=this;return(0,De.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.k(e);const v=Ah.open(l.db,e,d?"readonly":"readwrite",r),T=s(v).next(S=>(v.R(),S)).catch(S=>(v.abort(S),ue.reject(S))).toPromise();return T.catch(()=>{}),yield v.A,T}catch(v){const T=v,S="FirebaseError"!==T.name&&m<3;if(je("SimpleDb","Transaction failed with error:",T.message,"Retrying:",S),l.close(),!S)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fv{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return id(this.$.delete())}}class rd extends Fe{constructor(e,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Kl(n){return"IndexedDbTransactionError"===n.name}class HD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),id(r)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),id(this.store.add(e))}get(e){return id(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),id(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),id(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),l=[];return this.G(s,(d,m)=>{l.push(m)}).next(()=>l)}{const s=this.store.getAll(r.range);return new ue((l,d)=>{s.onerror=m=>{d(m.target.error)},s.onsuccess=m=>{l(m.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ue((s,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}W(e,t){je("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const s=this.cursor(r);return this.G(s,(l,d,m)=>m.delete())}J(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.G(s,t)}Y(e){const t=this.cursor({});return new ue((r,s)=>{t.onerror=l=>{const d=Sm(l.target.error);s(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}G(e,t){const r=[];return new ue((s,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void s();const v=new fv(m),T=t(m.primaryKey,m.value,v);if(T instanceof ue){const S=T.catch(R=>(v.done(),ue.reject(R)));r.push(S)}v.isDone?s():null===v.U?m.continue():m.continue(v.U)}}).next(()=>ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function id(n){return new ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=Sm(r.target.error);t(s)}})}let ub=!1;function Sm(n){const e=Ro.v((0,Rt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ub||(ub=!0,setTimeout(()=>{throw r},0)),r}}return n}class pv{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,De.Z)(function*(){t.task=null;try{je("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){Kl(r)?je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Wl(r)}yield t.Z(1)}))}}class db{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,De.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let s=t,l=!0;return ue.doWhile(()=>!0===l&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return je("IndexBackiller",`Processing collection: ${d}`),this.nt(e,d,s).next(m=>{s-=m,r.add(d)});l=!1})).next(()=>t-s)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.st(s,l)).next(m=>(je("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}st(e,t){let r=e;return t.changes.forEach((s,l)=>{const d=dv(l);sp(d,r)>0&&(r=d)}),new Fs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ls{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function gv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Ls.ot=-1;class tr{constructor(e,t){this.comparator=e,this.root=t||Ni.EMPTY}insert(e,t){return new tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(e){return new tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new op(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new op(this.root,e,this.comparator,!1)}getReverseIterator(){return new op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new op(this.root,e,this.comparator,!0)}}class op{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ni{constructor(e,t,r,s,l){this.key=e,this.value=t,this.color=null!=r?r:Ni.RED,this.left=null!=s?s:Ni.EMPTY,this.right=null!=l?l:Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,l){return new Ni(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===l?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Ni.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1,Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Ni(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(e){this.comparator=e,this.data=new tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fb(this.data.getIterator())}getIteratorFrom(e){return new fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(s,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cn(this.comparator);return t.data=e,t}}class fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fr(n){return n.hasNext()?n.getNext():void 0}class hi{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new hi([])}unionWith(e){let t=new Cn(dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new hi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Th(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Zr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Zr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let l=0;l<r.length;++l)s+=String.fromCharCode(r[l]);return s}(e);return new Zr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zr.EMPTY_BYTE_STRING=new Zr("");const eM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(n){if(Nt(!!n),"string"==typeof n){let e=0;const t=eM.exec(n);if(Nt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hr(n.seconds),nanos:hr(n.nanos)}}function hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $c(n){return"string"==typeof n?Zr.fromBase64String(n):Zr.fromUint8Array(n)}function mv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _v(n){const e=n.mapValue.fields.__previous_value__;return mv(e)?_v(e):e}function ap(n){const e=No(n.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}class qD{constructor(e,t,r,s,l,d,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class va{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new va("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof va&&e.projectId===this.projectId&&e.database===this.database}}function xh(n){return null==n}function Mh(n){return 0===n&&1/n==-1/0}function cp(n){return"number"==typeof n&&Number.isInteger(n)&&!Mh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Qa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yv={nullValue:"NULL_VALUE"};function Jl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?mv(n)?4:Cv(n)?9007199254740991:10:lt()}function Xa(n,e){if(n===e)return!0;const t=Jl(n);if(t!==Jl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ap(n).isEqual(ap(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const l=No(r.timestampValue),d=No(s.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,$c(n.bytesValue).isEqual($c(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return hr(r.geoPointValue.latitude)===hr(s.geoPointValue.latitude)&&hr(r.geoPointValue.longitude)===hr(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return hr(r.integerValue)===hr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const l=hr(r.doubleValue),d=hr(s.doubleValue);return l===d?Mh(l)===Mh(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Th(n.arrayValue.values||[],e.arrayValue.values||[],Xa);case 10:return function(r,s){const l=r.mapValue.fields||{},d=s.mapValue.fields||{};if(gv(l)!==gv(d))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===d[m]||!Xa(l[m],d[m])))return!1;return!0}(n,e);default:return lt()}var s}function Sh(n,e){return void 0!==(n.values||[]).find(t=>Xa(t,e))}function wa(n,e){if(n===e)return 0;const t=Jl(n),r=Jl(e);if(t!==r)return Ut(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,e.booleanValue);case 2:return function(s,l){const d=hr(s.integerValue||s.doubleValue),m=hr(l.integerValue||l.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return vv(n.timestampValue,e.timestampValue);case 4:return vv(ap(n),ap(e));case 5:return Ut(n.stringValue,e.stringValue);case 6:return function(s,l){const d=$c(s),m=$c(l);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const d=s.split("/"),m=l.split("/");for(let v=0;v<d.length&&v<m.length;v++){const T=Ut(d[v],m[v]);if(0!==T)return T}return Ut(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const d=Ut(hr(s.latitude),hr(l.latitude));return 0!==d?d:Ut(hr(s.longitude),hr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,l){const d=s.values||[],m=l.values||[];for(let v=0;v<d.length&&v<m.length;++v){const T=wa(d[v],m[v]);if(T)return T}return Ut(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,l){if(s===Qa.mapValue&&l===Qa.mapValue)return 0;if(s===Qa.mapValue)return 1;if(l===Qa.mapValue)return-1;const d=s.fields||{},m=Object.keys(d),v=l.fields||{},T=Object.keys(v);m.sort(),T.sort();for(let S=0;S<m.length&&S<T.length;++S){const R=Ut(m[S],T[S]);if(0!==R)return R;const H=wa(d[m[S]],v[T[S]]);if(0!==H)return H}return Ut(m.length,T.length)}(n.mapValue,e.mapValue);default:throw lt()}}function vv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ut(n,e);const t=No(n),r=No(e),s=Ut(t.seconds,r.seconds);return 0!==s?s:Ut(t.nanos,r.nanos)}function Ph(n){return lp(n)}function lp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=No(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$c(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",l=!0;for(const d of r.values||[])l?l=!1:s+=",",s+=lp(d);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const m of s)d?d=!1:l+=",",l+=`${m}:${lp(r.fields[m])}`;return l+"}"}(n.mapValue):lt();var e}function qc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pb(n){return!!n&&"integerValue"in n}function up(n){return!!n&&"arrayValue"in n}function gb(n){return!!n&&"nullValue"in n}function wv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dp(n){return!!n&&"mapValue"in n}function hp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Yl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Cv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function mb(n){return"nullValue"in n?yv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?qc(va.empty(),We.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:lt()}function GD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?qc(va.empty(),We.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Qa:lt()}function _b(n,e){const t=wa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function bv(n,e){const t=wa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Fi{constructor(e){this.value=e}static empty(){return new Fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hp(t)}setAll(e){let t=dr.emptyPath(),r={},s=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,s),r={},s=[],t=m.popLast()}d?r[m.lastSegment()]=hp(d):s.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,s)}delete(e){const t=this.field(e.popLast());dp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];dp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Yl(t,(s,l)=>e[s]=l);for(const s of r)delete e[s]}clone(){return new Fi(hp(this.value))}}function Ev(n){const e=[];return Yl(n.fields,(t,r)=>{const s=new dr([t]);if(dp(r)){const l=Ev(r.mapValue).fields;if(0===l.length)e.push(s);else for(const d of l)e.push(s.child(d))}else e.push(s)}),new hi(e)}class xn{constructor(e,t,r,s,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.data=l,this.documentState=d}static newInvalidDocument(e){return new xn(e,0,St.min(),St.min(),Fi.empty(),0)}static newFoundDocument(e,t,r){return new xn(e,1,t,St.min(),r,0)}static newNoDocument(e,t){return new xn(e,2,t,St.min(),Fi.empty(),0)}static newUnknownDocument(e,t){return new xn(e,3,t,St.min(),Fi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yb{constructor(e,t=null,r=[],s=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=d,this.endAt=m,this.ut=null}}function Iv(n,e=null,t=[],r=[],s=null,l=null,d=null){return new yb(n,e,t,r,s,l,d)}function sd(n){const e=tt(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+Ph(s.value);var s}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ph(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ph(r)).join(",")),e.ut=t}return e.ut}function Pm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!sM(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((t=n.filters[s]).op!==(r=e.filters[s]).op||!t.field.isEqual(r.field)||!Xa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Av(n.startAt,e.startAt)&&Av(n.endAt,e.endAt)}function fp(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Dv(n,e){return n.filters.filter(t=>t instanceof Yi&&t.field.isEqual(e))}function zD(n,e,t){let r=yv,s=!0;for(const l of Dv(n,e)){let d=yv,m=!0;switch(l.op){case"<":case"<=":d=mb(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,m=!1;break;case"!=":case"not-in":d=yv}_b({value:r,inclusive:s},{value:d,inclusive:m})<0&&(r=d,s=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];_b({value:r,inclusive:s},{value:d,inclusive:t.inclusive})<0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}function WD(n,e,t){let r=Qa,s=!0;for(const l of Dv(n,e)){let d=Qa,m=!0;switch(l.op){case">=":case">":d=GD(l.value),m=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,m=!1;break;case"!=":case"not-in":d=Qa}bv({value:r,inclusive:s},{value:d,inclusive:m})>0&&(r=d,s=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];bv({value:r,inclusive:s},{value:d,inclusive:t.inclusive})>0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}class Yi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new tM(e,t,r):"array-contains"===t?new Om(e,r):"in"===t?new iM(e,r):"not-in"===t?new vb(e,r):"array-contains-any"===t?new Tv(e,r):new Yi(e,t,r)}static ct(e,t,r){return"in"===t?new nM(e,r):new rM(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(wa(t,this.value)):null!==t&&Jl(this.value)===Jl(t)&&this.at(wa(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class tM extends Yi{constructor(e,t,r){super(e,t,r),this.key=We.fromName(r.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.at(t)}}class nM extends Yi{constructor(e,t){super(e,"in",t),this.keys=KD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rM extends Yi{constructor(e,t){super(e,"not-in",t),this.keys=KD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function KD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>We.fromName(r.referenceValue))}class Om extends Yi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return up(t)&&Sh(t.arrayValue,this.value)}}class iM extends Yi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Sh(this.value.arrayValue,t)}}class vb extends Yi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Sh(this.value.arrayValue,t)}}class Tv extends Yi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!up(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Sh(this.value.arrayValue,r))}}class Gc{constructor(e,t){this.position=e,this.inclusive=t}}class od{constructor(e,t="asc"){this.field=e,this.dir=t}}function sM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function km(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const l=e[s],d=n.position[s];if(r=l.field.isKeyField()?We.comparator(We.fromName(d.referenceValue),t.key):wa(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Av(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xa(n.position[t],e.position[t]))return!1;return!0}class Zc{constructor(e,t=null,r=[],s=[],l=null,d="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=v,this.lt=null,this.ft=null}}function xv(n,e,t,r,s,l,d,m){return new Zc(n,e,t,r,s,l,d,m)}function pp(n){return new Zc(n)}function wb(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Mv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function gp(n){for(const e of n.filters)if(e.ht())return e.field;return null}function Sv(n){return null!==n.collectionGroup}function mp(n){const e=tt(n);if(null===e.lt){e.lt=[];const t=gp(e),r=Mv(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new od(t)),e.lt.push(new od(dr.keyField(),"asc"));else{let s=!1;for(const l of e.explicitOrderBy)e.lt.push(l),l.field.isKeyField()&&(s=!0);if(!s){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new od(dr.keyField(),l))}}}return e.lt}function io(n){const e=tt(n);if(!e.ft)if("F"===e.limitType)e.ft=Iv(e.path,e.collectionGroup,mp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of mp(e))t.push(new od(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Gc(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Gc(e.startAt.position,e.startAt.inclusive):null;e.ft=Iv(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e.ft}function Pv(n,e,t){return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _p(n,e){return Pm(io(n),io(e))&&n.limitType===e.limitType}function Cb(n){return`${sd(io(n))}|lt:${n.limitType}`}function Ov(n){return`Query(target=${function ZD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Ph(r.value)}`;var r}).join(", ")}]`),xh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ph(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ph(t)).join(",")),`Target(${e})`}(io(n))}; limitType=${n.limitType})`}function bb(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):We.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of t.explicitOrderBy)if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,l,d){const m=km(s,l,d);return s.inclusive?m<=0:m<0}(t.startAt,mp(t),r)||t.endAt&&!function(s,l,d){const m=km(s,l,d);return s.inclusive?m>=0:m>0}(t.endAt,mp(t),r)));var t,r}function Eb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Rm(n){return(e,t)=>{let r=!1;for(const s of mp(n)){const l=YD(s,e,t);if(0!==l)return l;r=r||s.field.isKeyField()}return 0}}function YD(n,e,t){const r=n.field.isKeyField()?We.comparator(e.key,t.key):function(s,l,d){const m=l.data.field(s),v=d.data.field(s);return null!==m&&null!==v?wa(m,v):lt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return lt()}}function Fo(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function Ib(n){return{integerValue:""+n}}function Nm(n,e){return cp(e)?Ib(e):Fo(n,e)}class Fm{constructor(){this._=void 0}}function JD(n,e,t){return n instanceof ad?function(r,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(l.fields.__previous_value__=s),{mapValue:l}}(t,e):n instanceof cd?Nv(n,e):n instanceof ld?Db(n,e):function(r,s){const l=Rv(r,s),d=Lm(l)+Lm(r._t);return pb(l)&&pb(r._t)?Ib(d):Fo(r.wt,d)}(n,e)}function kv(n,e,t){return n instanceof cd?Nv(n,e):n instanceof ld?Db(n,e):t}function Rv(n,e){return n instanceof Oh?pb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ad extends Fm{}class cd extends Fm{constructor(e){super(),this.elements=e}}function Nv(n,e){const t=Ql(e);for(const r of n.elements)t.some(s=>Xa(s,r))||t.push(r);return{arrayValue:{values:t}}}class ld extends Fm{constructor(e){super(),this.elements=e}}function Db(n,e){let t=Ql(e);for(const r of n.elements)t=t.filter(s=>!Xa(s,r));return{arrayValue:{values:t}}}class Oh extends Fm{constructor(e,t){super(),this.wt=e,this._t=t}}function Lm(n){return hr(n.integerValue||n.doubleValue)}function Ql(n){return up(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kh{constructor(e,t){this.field=e,this.transform=t}}class QD{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Um(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Vm{}function Ab(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new eu(n.key,fr.none()):new Xl(n.key,n.data,fr.none());{const t=n.data,r=Fi.empty();let s=new Cn(dr.comparator);for(let l of e.fields)if(!s.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),s=s.add(l)}return new ec(n.key,r,new hi(s.toArray()),fr.none())}}function xb(n,e,t){n instanceof Xl?function(r,s,l){const d=r.value.clone(),m=Sb(r.fieldTransforms,s,l.transformResults);d.setAll(m),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ec?function(r,s,l){if(!Um(r.precondition,s))return void s.convertToUnknownDocument(l.version);const d=Sb(r.fieldTransforms,s,l.transformResults),m=s.data;m.setAll(Mb(r)),m.setAll(d),s.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function yp(n,e,t,r){return n instanceof Xl?function(s,l,d,m){if(!Um(s.precondition,l))return d;const v=s.value.clone(),T=Fv(s.fieldTransforms,m,l);return v.setAll(T),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof ec?function(s,l,d,m){if(!Um(s.precondition,l))return d;const v=Fv(s.fieldTransforms,m,l),T=l.data;return T.setAll(Mb(s)),T.setAll(v),l.convertToFoundDocument(l.version,T).setHasLocalMutations(),null===d?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(S=>S.field))}(n,e,t,r):(d=t,Um(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function XD(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),l=Rv(r.transform,s||null);null!=l&&(null===t&&(t=Fi.empty()),t.set(r.field,l))}return t||null}function eT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Th(t,r,(s,l)=>function Tb(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof cd&&r instanceof cd||t instanceof ld&&r instanceof ld?Th(t.elements,r.elements,Xa):t instanceof Oh&&r instanceof Oh?Xa(t._t,r._t):t instanceof ad&&r instanceof ad);var t,r}(s,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Xl extends Vm{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ec extends Vm{constructor(e,t,r,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Mb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Sb(n,e,t){const r=new Map;Nt(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],d=l.transform,m=e.data.field(l.field);r.set(l.field,kv(d,m,t[s]))}return r}function Fv(n,e,t){const r=new Map;for(const s of n){const l=s.transform,d=t.data.field(s.field);r.set(s.field,JD(l,d,e))}return r}class eu extends Vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vp extends Vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pb{constructor(e){this.count=e}}var Lr,an;function Lv(n){switch(n){default:return lt();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function Ob(n){if(void 0===n)return ur("GRPC error has no .code"),_e.UNKNOWN;switch(n){case Lr.OK:return _e.OK;case Lr.CANCELLED:return _e.CANCELLED;case Lr.UNKNOWN:return _e.UNKNOWN;case Lr.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Lr.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Lr.INTERNAL:return _e.INTERNAL;case Lr.UNAVAILABLE:return _e.UNAVAILABLE;case Lr.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Lr.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Lr.NOT_FOUND:return _e.NOT_FOUND;case Lr.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Lr.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Lr.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Lr.ABORTED:return _e.ABORTED;case Lr.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Lr.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Lr.DATA_LOSS:return _e.DATA_LOSS;default:return lt()}}(an=Lr||(Lr={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";class tu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,l]of r)if(this.equalsFn(s,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Yl(this.inner,(t,r)=>{for(const[s,l]of r)e(s,l)})}isEmpty(){return hb(this.inner)}size(){return this.innerSize}}const oM=new tr(We.comparator);function so(){return oM}const Uv=new tr(We.comparator);function wp(...n){let e=Uv;for(const t of n)e=e.insert(t.key,t);return e}function kb(n){let e=Uv;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function tc(){return Bm()}function tT(){return Bm()}function Bm(){return new tu(n=>n.toString(),(n,e)=>n.isEqual(e))}const aM=new tr(We.comparator),cM=new Cn(We.comparator);function zt(...n){let e=cM;for(const t of n)e=e.add(t);return e}const nT=new Cn(Ut);function ud(){return nT}class Cp{constructor(e,t,r,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,bp.createSynthesizedTargetChangeForCurrentChange(e,t)),new Cp(St.min(),r,ud(),so(),zt())}}class bp{constructor(e,t,r,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new bp(Zr.EMPTY_BYTE_STRING,t,zt(),zt(),zt())}}class Ep{constructor(e,t,r,s){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=s}}class nu{constructor(e,t){this.targetId=e,this.It=t}}class Vv{constructor(e,t,r=Zr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class jm{constructor(){this.Tt=0,this.Et=Hm(),this.At=Zr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=zt(),t=zt(),r=zt();return this.Et.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:lt()}}),new bp(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=Hm()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class Bv{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=so(),this.Bt=Rb(),this.Lt=new Cn(Ut)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,s)=>{this.jt(s)&&t(s)})}zt(e){const t=e.targetId,r=e.It.count,s=this.Ht(t);if(s){const l=s.target;if(fp(l))if(0===r){const d=new We(l.path);this.Kt(t,d,xn.newNoDocument(d,St.min()))}else Nt(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((l,d)=>{const m=this.Ht(d);if(m){if(l.current&&fp(m.target)){const v=new We(m.target.path);null!==this.$t.get(v)||this.Xt(d,v)||this.Kt(d,v,xn.newNoDocument(v,e))}l.vt&&(t.set(d,l.St()),l.Dt())}});let r=zt();this.Bt.forEach((l,d)=>{let m=!0;d.forEachWhile(v=>{const T=this.Ht(v);return!T||2===T.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.$t.forEach((l,d)=>d.setReadTime(e));const s=new Cp(e,t,this.Lt,this.$t,r);return this.$t=so(),this.Bt=Rb(),this.Lt=new Cn(Ut),s}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const s=this.Qt(e);this.Xt(e,t)?s.Ct(t,1):s.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new jm,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Cn(Ut),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new jm),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function Rb(){return new tr(We.comparator)}function Hm(){return new tr(We.comparator)}const jv={asc:"ASCENDING",desc:"DESCENDING"},$m={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class lM{constructor(e,t){this.databaseId=e,this.dt=t}}function qm(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rT(n,e){return n.dt?e.toBase64():e.toUint8Array()}function uM(n,e){return qm(n,e.toTimestamp())}function zr(n){return Nt(!!n),St.fromTimestamp(function(e){const t=No(e);return new Gn(t.seconds,t.nanos)}(n))}function Hv(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Nb(n){const e=tn.fromString(n);return Nt(lT(e)),e}function Ip(n,e){return Hv(n.databaseId,e.path)}function nc(n,e){const t=Nb(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(Fb(t))}function Gm(n,e){return Hv(n.databaseId,e)}function $v(n){const e=Nb(n);return 4===e.length?tn.emptyPath():Fb(e)}function Rh(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Fb(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Lb(n,e,t){return{name:Ip(n,e),fields:t.value.mapValue.fields}}function qv(n,e,t){const r=nc(n,e.name),s=zr(e.updateTime),l=new Fi({mapValue:{fields:e.fields}}),d=xn.newFoundDocument(r,s,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Nh(n,e){let t;if(e instanceof Xl)t={update:Lb(n,e.key,e.value)};else if(e instanceof eu)t={delete:Ip(n,e.key)};else if(e instanceof ec)t={update:Lb(n,e.key,e.data),updateMask:gM(e.fieldMask)};else{if(!(e instanceof vp))return lt();t={verify:Ip(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const d=l.transform;if(d instanceof ad)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof cd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ld)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Oh)return{fieldPath:l.field.canonicalString(),increment:d._t};throw lt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:uM(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:lt()),t;var s}function Dp(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?fr.updateTime(zr(s.updateTime)):void 0!==s.exists?fr.exists(s.exists):fr.none():fr.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(l,d){let m=null;"setToServerValue"in d?(Nt("REQUEST_TIME"===d.setToServerValue),m=new ad):"appendMissingElements"in d?m=new cd(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new ld(d.removeAllFromArray.values||[]):"increment"in d?m=new Oh(l,d.increment):lt();const v=dr.fromServerFormat(d.fieldPath);return new kh(v,m)}(n,s)):[];var s;if(e.update){const s=nc(n,e.update.name),l=new Fi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new hi((e.updateMask.fieldPaths||[]).map(T=>dr.fromServerFormat(T)));return new ec(s,l,d,t,r)}return new Xl(s,l,t,r)}if(e.delete){const s=nc(n,e.delete);return new eu(s,t)}if(e.verify){const s=nc(n,e.verify);return new vp(s,t)}return lt()}function Ub(n,e){return{documents:[Gm(n,e.path)]}}function sT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Gm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Gm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(v){if(0===v.length)return;const T=v.map(S=>function(R){if("=="===R.op){if(wv(R.value))return{unaryFilter:{field:Tp(R.field),op:"IS_NAN"}};if(gb(R.value))return{unaryFilter:{field:Tp(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(wv(R.value))return{unaryFilter:{field:Tp(R.field),op:"IS_NOT_NAN"}};if(gb(R.value))return{unaryFilter:{field:Tp(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tp(R.field),op:fM(R.op),value:R.value}}}(S));return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}(e.filters);s&&(t.structuredQuery.where=s);const l=function(v){if(0!==v.length)return v.map(T=>{return{field:Tp((S=T).field),direction:hM(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(T=e.limit,n.dt||xh(T)?T:{value:T});var T,m,v;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function oT(n){let e=$v(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Nt(1===r);const S=t.from[0];S.allDescendants?s=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=Vb(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new od(Ap((R=S).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;t.limit&&(m=function(S){let R;return R="object"==typeof S?S.value:S,xh(R)?null:R}(t.limit));let v=null;var S;t.startAt&&(v=new Gc((S=t.startAt).values||[],!!S.before));let T=null;return t.endAt&&(T=function(S){return new Gc(S.values||[],!S.before)}(t.endAt)),xv(e,s,d,l,m,"F",v,T)}function Vb(n){return n?void 0!==n.unaryFilter?[cT(n)]:void 0!==n.fieldFilter?[pM(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Vb(e)).reduce((e,t)=>e.concat(t)):lt():[]}function hM(n){return jv[n]}function fM(n){return $m[n]}function Tp(n){return{fieldPath:n.canonicalString()}}function Ap(n){return dr.fromServerFormat(n.fieldPath)}function pM(n){return Yi.create(Ap(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(n.fieldFilter.op),n.fieldFilter.value)}function cT(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ap(n.unaryFilter.field);return Yi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ap(n.unaryFilter.field);return Yi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ap(n.unaryFilter.field);return Yi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ap(n.unaryFilter.field);return Yi.create(s,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}function gM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Us(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=i(e)),e=mM(n.get(t),e);return i(e)}function mM(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const l=n.charAt(s);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function i(n){return n+"\x01\x01"}function o(n){const e=n.length;if(Nt(e>=2),2===e)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,r=[];let s="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&lt(),n.charAt(d+1)){case"\x01":const m=n.substring(l,d);let v;0===s.length?v=m:(s+=m,v=s,s=""),r.push(v);break;case"\x10":s+=n.substring(l,d),s+="\0";break;case"\x11":s+=n.substring(l,d+1);break;default:lt()}l=d+2}return new tn(r)}const a=["userId","batchId"];function u(n,e){return[n,Us(e)]}function h(n,e,t){return[n,Us(e),t]}const g={},y=["prefixPath","collectionGroup","readTime","documentId"],C=["prefixPath","collectionGroup","documentId"],D=["collectionGroup","readTime","prefixPath","documentId"],M=["canonicalId","targetId"],k=["targetId","path"],V=["path","targetId"],J=["collectionId","parent"],ie=["indexId","uid"],Te=["uid","sequenceNumber"],$e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ye=["indexId","uid","orderedDocumentKey"],ut=["userId","collectionPath","documentId"],Re=["userId","collectionPath","largestBatchId"],Tt=["userId","collectionGroup","largestBatchId"],Yt=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_n=[...Yt,"documentOverlays"],Vs=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ru=Vs,Zv=[...ru,"indexConfiguration","indexState","indexEntries"];class xp extends cb{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Ur(n,e){const t=tt(n);return Ro.N(t.ee,e)}class Mp{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&xb(l,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=yp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=yp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=tT();return this.mutations.forEach(s=>{const l=e.get(s.key),d=l.overlayedDocument;let m=this.applyToLocalView(d,l.mutatedFields);m=t.has(s.key)?null:m;const v=Ab(d,m);null!==v&&r.set(s.key,v),d.isValidDocument()||d.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zt())}isEqual(e){return this.batchId===e.batchId&&Th(this.mutations,e.mutations,(t,r)=>eT(t,r))&&Th(this.baseMutations,e.baseMutations,(t,r)=>eT(t,r))}}class Sp{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Nt(e.mutations.length===r.length);let s=aM;const l=e.mutations;for(let d=0;d<l.length;d++)s=s.insert(l[d].key,r[d].version);return new Sp(e,t,r,s)}}class Pp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rc{constructor(e,t,r,s,l=St.min(),d=St.min(),m=Zr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new rc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new rc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new rc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Zm{constructor(e){this.ne=e}}function _M(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Bb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ip(s=n.ne,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:qm(s,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Op(e.version)};else{if(!e.isUnknownDocument())return lt();r.unknownDocument={path:t.path.toArray(),version:Op(e.version)}}var s,l;return r}function Bb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Op(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function kp(n){const e=new Gn(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function Rp(n,e){const t=(e.baseMutations||[]).map(l=>Dp(n.ne,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>Dp(n.ne,l)),s=Gn.fromMillis(e.localWriteTimeMs);return new Mp(e.batchId,s,t,r)}function Wv(n){const e=kp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?kp(n.lastLimboFreeSnapshotVersion):St.min();let r;var s;return void 0!==n.query.documents?(Nt(1===(s=n.query).documents.length),r=io(pp($v(s.documents[0])))):r=io(oT(n.query)),new rc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Zr.fromBase64String(n.resumeToken))}function yM(n,e){const t=Op(e.snapshotVersion),r=Op(e.lastLimboFreeSnapshotVersion);let s;s=fp(e.target)?Ub(n.ne,e.target):sT(n.ne,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:sd(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function uT(n){const e=oT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Pv(e,e.limit,"L"):e}function dT(n,e){return new Pp(e.largestBatchId,Dp(n.ne,e.overlayMutation))}function vM(n,e){const t=e.path.lastSegment();return[n,Us(e.path.popLast()),t]}function wM(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Op(r.readTime),documentKey:Us(r.documentKey.path),largestBatchId:r.largestBatchId}}class dO{getBundleMetadata(e,t){return CM(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:kp(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return CM(e).put({bundleId:(r=t).id,createTime:Op(zr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return bM(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:uT(s.bundledQuery),readTime:kp(s.readTime)};var s})}saveNamedQuery(e,t){return bM(e).put({name:(r=t).name,readTime:Op(zr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function CM(n){return Ur(n,"bundles")}function bM(n){return Ur(n,"namedQueries")}class jb{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new jb(e,t.uid||"")}getOverlay(e,t){return Kv(e).get(vM(this.userId,t)).next(r=>r?dT(this.wt,r):null)}getOverlays(e,t){const r=tc();return ue.forEach(t,s=>this.getOverlay(e,s).next(l=>{null!==l&&r.set(s,l)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((l,d)=>{const m=new Pp(t,d);s.push(this.ie(e,m))}),ue.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(d=>s.add(Us(d.getCollectionPath())));const l=[];return s.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(Kv(e).W("collectionPathOverlayIndex",m))}),ue.waitFor(l)}getOverlaysForCollection(e,t,r){const s=tc(),l=Us(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Kv(e).K("collectionPathOverlayIndex",d).next(m=>{for(const v of m){const T=dT(this.wt,v);s.set(T.getKey(),T)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const l=tc();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Kv(e).J({index:"collectionGroupOverlayIndex",range:m},(v,T,S)=>{const R=dT(this.wt,T);l.size()<s||R.largestBatchId===d?(l.set(R.getKey(),R),d=R.largestBatchId):S.done()}).next(()=>l)}ie(e,t){return Kv(e).put(function(r,s,l){const[d,m,v]=vM(s,l.mutation.key);return{userId:s,collectionPath:m,documentId:v,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Nh(r.ne,l.mutation)}}(this.wt,this.userId,t))}}function Kv(n){return Ur(n,"documentOverlays")}class Np{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(hr(e.integerValue));else if("doubleValue"in e){const r=hr(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),Mh(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de($c(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?Cv(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):lt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const s of Object.keys(r))this.le(s,t),this.oe(r[s],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const s of r)this.oe(s,t)}_e(e,t){this.ce(t,37),We.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function hO(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function EM(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const l=hO(255&t[s]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Np.ye=new Np;class fO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const s=t.codePointAt(0);this.Ie(240|s>>>18),this.Ie(128|63&s>>>12),this.Ie(128|63&s>>>6),this.Ie(128|63&s)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const s=t.codePointAt(0);this.Ae(240|s>>>18),this.Ae(128|63&s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s)}}this.Re()}ve(e){const t=this.Ve(e),r=EM(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}De(e){const t=this.Ve(e),r=EM(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class pO{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class gO{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class Yv{constructor(){this.Oe=new fO,this.Fe=new pO(this.Oe),this.$e=new gO(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class Fp{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fp(this.indexId,this.documentKey,this.arrayValue,r)}}function Lp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=IM(n.arrayValue,e.arrayValue),0!==t?t:(t=IM(n.directionalValue,e.directionalValue),0!==t?t:We.comparator(n.documentKey,e.documentKey)))}function IM(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class mO{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=uv(e);if(void 0!==t&&!this.Qe(t))return!1;const r=td(e);let s=0,l=0;for(;s<r.length&&this.Qe(r[s]);++s);if(s===r.length)return!0;if(void 0!==this.Ke){const d=r[s];if(!this.je(this.Ke,d)||!this.We(this.Ue[l++],d))return!1;++s}for(;s<r.length;++s){const d=r[s];if(l>=this.Ue.length||!this.We(this.Ue[l++],d))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class _O{constructor(){this.ze=new hT}addToCollectionParentIndex(e,t){return this.ze.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Fs.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class hT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Cn(tn.comparator),l=!s.has(r);return this.index[t]=s.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Cn(tn.comparator)).toArray()}}const Hb=new Uint8Array(0);class yO{constructor(e,t){this.user=e,this.databaseId=t,this.He=new hT,this.Je=new tu(r=>sd(r),(r,s)=>Pm(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const l={collectionId:r,parent:Us(s)};return DM(e).put(l)}return ue.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[ob(t),""],!1,!0);return DM(e).K(s).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(o(d.parent))}return r})}addFieldIndex(e,t){const r=$b(e),s={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete s.indexId;const l=r.add(s);if(t.indexState){const d=Qv(e);return l.next(m=>{d.put(wM(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=$b(e),s=Qv(e),l=Jv(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Jv(e);let s=!0;const l=new Map;return ue.forEach(this.Ye(t),d=>this.Xe(e,d).next(m=>{s&&(s=!!m),l.set(d,m)})).next(()=>{if(s){let d=zt();const m=[];return ue.forEach(l,(v,T)=>{var S;je("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Et=>`${Et.fieldPath}:${Et.kind}`).join(",")}`} to execute ${sd(t)}`);const R=function(Et,dt){const Ot=uv(dt);if(void 0===Ot)return null;for(const $t of Dv(Et,Ot.fieldPath))switch($t.op){case"array-contains-any":return $t.value.arrayValue.values||[];case"array-contains":return[$t.value]}return null}(T,v),H=function(Et,dt){const Ot=new Map;for(const $t of td(dt))for(const Dr of Dv(Et,$t.fieldPath))switch(Dr.op){case"==":case"in":Ot.set($t.fieldPath.canonicalString(),Dr.value);break;case"not-in":case"!=":return Ot.set($t.fieldPath.canonicalString(),Dr.value),Array.from(Ot.values())}return null}(T,v),q=function(Et,dt){const Ot=[];let $t=!0;for(const Dr of td(dt)){const zc=0===Dr.kind?zD(Et,Dr.fieldPath,Et.startAt):WD(Et,Dr.fieldPath,Et.startAt);Ot.push(zc.value),$t&&($t=zc.inclusive)}return new Gc(Ot,$t)}(T,v),te=function(Et,dt){const Ot=[];let $t=!0;for(const Dr of td(dt)){const zc=0===Dr.kind?WD(Et,Dr.fieldPath,Et.endAt):zD(Et,Dr.fieldPath,Et.endAt);Ot.push(zc.value),$t&&($t=zc.inclusive)}return new Gc(Ot,$t)}(T,v),Me=this.Ze(v,T,q),Le=this.Ze(v,T,te),ot=this.tn(v,T,H),bt=this.en(v.indexId,R,Me,q.inclusive,Le,te.inclusive,ot);return ue.forEach(bt,Et=>r.j(Et,t.limit).next(dt=>{dt.forEach(Ot=>{const $t=We.fromSegments(Ot.documentKey);d.has($t)||(d=d.add($t),m.push($t))})}))}).next(()=>m)}return ue.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,s,l,d,m){const v=(null!=t?t.length:1)*Math.max(r.length,l.length),T=v/(null!=t?t.length:1),S=[];for(let R=0;R<v;++R){const H=t?this.nn(t[R/T]):Hb,q=this.sn(e,H,r[R%T],s),te=this.rn(e,H,l[R%T],d),Me=m.map(Le=>this.sn(e,H,Le,!0));S.push(...this.createRange(q,te,Me))}return S}sn(e,t,r,s){const l=new Fp(e,We.empty(),t,r);return s?l:l.Le()}rn(e,t,r,s){const l=new Fp(e,We.empty(),t,r);return s?l.Le():l}Xe(e,t){const r=new mO(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(l=>{let d=null;for(const m of l)r.Ge(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;return ue.forEach(this.Ye(t),s=>this.Xe(e,s).next(l=>{l?0!==r&&l.fields.length<function(d){let m=new Cn(dr.comparator),v=!1;for(const T of d.filters){const S=T;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:m=m.add(S.field))}for(const T of d.orderBy)T.field.isKeyField()||(m=m.add(T.field));return m.size+(v?1:0)}(s)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new Yv;for(const s of td(e)){const l=t.data.field(s.fieldPath);if(null==l)return null;const d=r.Be(s.kind);Np.ye.re(l,d)}return r.Me()}nn(e){const t=new Yv;return Np.ye.re(e,t.Be(0)),t.Me()}un(e,t){const r=new Yv;return Np.ye.re(qc(this.databaseId,t),r.Be(function(s){const l=td(s);return 0===l.length?0:l[l.length-1].kind}(e))),r.Me()}tn(e,t,r){if(null===r)return[];let s=[];s.push(new Yv);let l=0;for(const d of td(e)){const m=r[l++];for(const v of s)if(this.cn(t,d.fieldPath)&&up(m))s=this.an(s,d,m);else{const T=v.Be(d.kind);Np.ye.re(m,T)}}return this.hn(s)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Me();return t}an(e,t,r){const s=[...e],l=[];for(const d of r.arrayValue.values||[])for(const m of s){const v=new Yv;v.seed(m.Me()),Np.ye.re(d,v.Be(t.kind)),l.push(v)}return l}cn(e,t){return!!e.filters.find(r=>r instanceof Yi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=$b(e),s=Qv(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(l=>{const d=[];return ue.forEach(l,m=>s.get([m.indexId,this.uid]).next(v=>{d.push(function(T,S){const R=S?new ip(S.sequenceNumber,new Fs(kp(S.readTime),new We(o(S.documentKey)),S.largestBatchId)):ip.empty(),H=T.fields.map(([q,te])=>new nd(dr.fromServerFormat(q),te));return new zl(T.indexId,T.collectionGroup,H,R)}(m,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const l=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==l?l:Ut(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=$b(e),l=Qv(e);return this.ln(e).next(d=>s.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ue.forEach(m,v=>l.put(wM(v.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ue.forEach(t,(s,l)=>{const d=r.get(s.collectionGroup);return(d?ue.resolve(d):this.getFieldIndexes(e,s.collectionGroup)).next(m=>(r.set(s.collectionGroup,m),ue.forEach(m,v=>this.fn(e,s,v).next(T=>{const S=this.dn(l,v);return T.isEqual(S)?ue.resolve():this._n(e,l,v,T,S)}))))})}wn(e,t,r,s){return Jv(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,s){return Jv(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const s=Jv(e);let l=new Cn(Lp);return s.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(d,m)=>{l=l.add(new Fp(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}dn(e,t){let r=new Cn(Lp);const s=this.on(t,e);if(null==s)return r;const l=uv(t);if(null!=l){const d=e.data.field(l.fieldPath);if(up(d))for(const m of d.arrayValue.values||[])r=r.add(new Fp(t.indexId,e.key,this.nn(m),s))}else r=r.add(new Fp(t.indexId,e.key,Hb,s));return r}_n(e,t,r,s,l){je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,v,T,S,R){const H=m.getIterator(),q=v.getIterator();let te=Fr(H),Me=Fr(q);for(;te||Me;){let Le=!1,ot=!1;if(te&&Me){const bt=T(te,Me);bt<0?ot=!0:bt>0&&(Le=!0)}else null!=te?ot=!0:Le=!0;Le?(S(Me),Me=Fr(q)):ot?(R(te),te=Fr(H)):(te=Fr(H),Me=Fr(q))}}(s,l,Lp,m=>{d.push(this.wn(e,t,r,m))},m=>{d.push(this.mn(e,t,r,m))}),ue.waitFor(d)}ln(e){let t=1;return Qv(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,l)=>{l.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Lp(d,m)).filter((d,m,v)=>!m||0!==Lp(d,v[m-1]));const s=[];s.push(e);for(const d of r){const m=Lp(d,e),v=Lp(d,t);if(0===m)s[0]=e.Le();else if(m>0&&v<0)s.push(d),s.push(d.Le());else if(v>0)break}s.push(t);const l=[];for(let d=0;d<s.length;d+=2)l.push(IDBKeyRange.bound([s[d].indexId,this.uid,s[d].arrayValue,s[d].directionalValue,Hb,[]],[s[d+1].indexId,this.uid,s[d+1].arrayValue,s[d+1].directionalValue,Hb,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(TM)}getMinOffset(e,t){return ue.mapArray(this.Ye(t),r=>this.Xe(e,r).next(s=>s||lt())).next(TM)}}function DM(n){return Ur(n,"collectionParents")}function Jv(n){return Ur(n,"indexEntries")}function $b(n){return Ur(n,"indexConfiguration")}function Qv(n){return Ur(n,"indexState")}function TM(n){Nt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;sp(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new Fs(e.readTime,e.documentKey,t)}const AM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Lo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Lo(e,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xM(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let m=0;const v=r.J({range:d},(S,R,H)=>(m++,H.delete()));l.push(v.next(()=>{Nt(1===m)}));const T=[];for(const S of t.mutations){const R=h(e,S.key.path,t.batchId);l.push(s.delete(R)),T.push(S.key)}return ue.waitFor(l).next(()=>T)}function qb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw lt();e=n.noDocument}return JSON.stringify(e).length}Lo.DEFAULT_COLLECTION_PERCENTILE=10,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lo.DEFAULT=new Lo(41943040,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lo.DISABLED=new Lo(-1,0,0);class Gb{constructor(e,t,r,s){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=s,this.gn={}}static se(e,t,r,s){Nt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Gb(l,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fh(e).J({index:"userMutationsIndex",range:r},(s,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const l=zm(e),d=Fh(e);return d.add({}).next(m=>{Nt("number"==typeof m);const v=new Mp(m,t,r,s),T=function(H,q,te){const Me=te.baseMutations.map(ot=>Nh(H.ne,ot)),Le=te.mutations.map(ot=>Nh(H.ne,ot));return{userId:q,batchId:te.batchId,localWriteTimeMs:te.localWriteTime.toMillis(),baseMutations:Me,mutations:Le}}(this.wt,this.userId,v),S=[];let R=new Cn((H,q)=>Ut(H.canonicalString(),q.canonicalString()));for(const H of s){const q=h(this.userId,H.key.path,m);R=R.add(H.key.path.popLast()),S.push(d.put(T)),S.push(l.put(q,g))}return R.forEach(H=>{S.push(this.indexManager.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.gn[m]=v.keys()}),ue.waitFor(S).next(()=>v)})}lookupMutationBatch(e,t){return Fh(e).get(t).next(r=>r?(Nt(r.userId===this.userId),Rp(this.wt,r)):null)}yn(e,t){return this.gn[t]?ue.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.gn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Fh(e).J({index:"userMutationsIndex",range:s},(d,m,v)=>{m.userId===this.userId&&(Nt(m.batchId>=r),l=Rp(this.wt,m)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Fh(e).J({index:"userMutationsIndex",range:t,reverse:!0},(s,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fh(e).K("userMutationsIndex",t).next(r=>r.map(s=>Rp(this.wt,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=u(this.userId,t.path),s=IDBKeyRange.lowerBound(r),l=[];return zm(e).J({range:s},(d,m,v)=>{const[T,S,R]=d,H=o(S);if(T===this.userId&&t.path.isEqual(H))return Fh(e).get(R).next(q=>{if(!q)throw lt();Nt(q.userId===this.userId),l.push(Rp(this.wt,q))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(Ut);const s=[];return t.forEach(l=>{const d=u(this.userId,l.path),m=IDBKeyRange.lowerBound(d),v=zm(e).J({range:m},(T,S,R)=>{const[H,q,te]=T,Me=o(q);H===this.userId&&l.path.isEqual(Me)?r=r.add(te):R.done()});s.push(v)}),ue.waitFor(s).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,l=u(this.userId,r),d=IDBKeyRange.lowerBound(l);let m=new Cn(Ut);return zm(e).J({range:d},(v,T,S)=>{const[R,H,q]=v,te=o(H);R===this.userId&&r.isPrefixOf(te)?te.length===s&&(m=m.add(q)):S.done()}).next(()=>this.pn(e,m))}pn(e,t){const r=[],s=[];return t.forEach(l=>{s.push(Fh(e).get(l).next(d=>{if(null===d)throw lt();Nt(d.userId===this.userId),r.push(Rp(this.wt,d))}))}),ue.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return xM(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),ue.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return zm(e).J({range:r},(l,d,m)=>{if(l[0]===this.userId){const v=o(l[1]);s.push(v)}else m.done()}).next(()=>{Nt(0===s.length)})})}containsKey(e,t){return MM(e,this.userId,t)}Tn(e){return SM(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function MM(n,e,t){const r=u(e,t.path),s=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return zm(n).J({range:l,H:!0},(m,v,T)=>{const[S,R,H]=m;S===e&&R===s&&(d=!0),T.done()}).next(()=>d)}function Fh(n){return Ur(n,"mutations")}function zm(n){return Ur(n,"documentMutations")}function SM(n){return Ur(n,"mutationQueues")}class Up{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Up(0)}static Rn(){return new Up(-1)}}class vO{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new Up(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>St.fromTimestamp(new Gn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.Pn(e,s)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Wm(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(Nt(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let s=0;const l=[];return Wm(e).J((d,m)=>{const v=Wv(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(s++,l.push(this.removeTargetData(e,v)))}).next(()=>ue.waitFor(l)).next(()=>s)}forEachTarget(e,t){return Wm(e).J((r,s)=>{const l=Wv(s);t(l)})}bn(e){return PM(e).get("targetGlobalKey").next(t=>(Nt(null!==t),t))}Pn(e,t){return PM(e).put("targetGlobalKey",t)}vn(e,t){return Wm(e).put(yM(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=sd(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Wm(e).J({range:s,index:"queryTargetsIndex"},(d,m,v)=>{const T=Wv(m);Pm(t,T.target)&&(l=T,v.done())}).next(()=>l)}addMatchingKeys(e,t,r){const s=[],l=Lh(e);return t.forEach(d=>{const m=Us(d.path);s.push(l.put({targetId:r,path:m})),s.push(this.referenceDelegate.addReference(e,r,d))}),ue.waitFor(s)}removeMatchingKeys(e,t,r){const s=Lh(e);return ue.forEach(t,l=>{const d=Us(l.path);return ue.waitFor([s.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Lh(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Lh(e);let l=zt();return s.J({range:r,H:!0},(d,m,v)=>{const T=o(d[1]),S=new We(T);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=Us(t.path),s=IDBKeyRange.bound([r],[ob(r)],!1,!0);let l=0;return Lh(e).J({index:"documentTargetsIndex",H:!0,range:s},([d,m],v,T)=>{0!==d&&(l++,T.done())}).next(()=>l>0)}te(e,t){return Wm(e).get(t).next(r=>r?Wv(r):null)}}function Wm(n){return Ur(n,"targets")}function PM(n){return Ur(n,"targetGlobal")}function Lh(n){return Ur(n,"targetDocuments")}function OM([n,e],[t,r]){const s=Ut(n,t);return 0===s?Ut(e,r):s}class wO{constructor(e){this.Sn=e,this.buffer=new Cn(OM),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();OM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,De.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Kl(r)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Wl(r)}yield t.kn(3e5)}))}}class bO{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(Ls.ot);const r=new wO(t);return this.Mn.forEachTarget(e,s=>r.xn(s.sequenceNumber)).next(()=>this.Mn.Fn(e,s=>r.xn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Mn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(AM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AM):this.$n(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let r,s,l,d,m,v,T;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),s=this.params.maximumSequenceNumbersToCollect):s=R,d=Date.now(),this.nthSequenceNumber(e,s))).next(R=>(r=R,m=Date.now(),this.removeTargets(e,r,t))).next(R=>(l=R,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(T=Date.now(),QC()<=Uc.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${s} in `+(m-d)+`ms\n\tRemoved ${l} targets in `+(v-m)+`ms\n\tRemoved ${R} documents in `+(T-v)+`ms\nTotal Duration: ${T-S}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:R})))}}class EO{constructor(e,t){this.db=e,this.garbageCollector=new bO(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,s)=>t(s))}addReference(e,t,r){return Zb(e,r)}removeReference(e,t,r){return Zb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Zb(e,t)}Un(e,t){return function(r,s){let l=!1;return SM(r).Y(d=>MM(r,d,s).next(m=>(m&&(l=!0),ue.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let l=0;return this.Ln(e,(d,m)=>{if(m<=t){const v=this.Un(e,d).next(T=>{if(!T)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,St.min()),Lh(e).delete([0,Us(d.path)])))});s.push(v)}}).next(()=>ue.waitFor(s)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Zb(e,t)}Ln(e,t){const r=Lh(e);let s,l=Ls.ot;return r.J({index:"documentTargetsIndex"},([d,m],{path:v,sequenceNumber:T})=>{0===d?(l!==Ls.ot&&t(new We(o(s)),l),l=T,s=v):l=Ls.ot}).next(()=>{l!==Ls.ot&&t(new We(o(s)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Zb(n,e){return Lh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Us(e.path),sequenceNumber:r}));var r}class kM{constructor(){this.changes=new tu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IO{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Vp(e).put(r)}removeEntry(e,t,r){return Vp(e).delete(function(s,l){const d=s.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Bb(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=xn.newInvalidDocument(t);return Vp(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xv(t))},(s,l)=>{r=this.Kn(t,l)}).next(()=>r)}Gn(e,t){let r={size:0,document:xn.newInvalidDocument(t)};return Vp(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xv(t))},(s,l)=>{r={document:this.Kn(t,l),size:qb(l)}}).next(()=>r)}getEntries(e,t){let r=so();return this.Qn(e,t,(s,l)=>{const d=this.Kn(s,l);r=r.insert(s,d)}).next(()=>r)}jn(e,t){let r=so(),s=new tr(We.comparator);return this.Qn(e,t,(l,d)=>{const m=this.Kn(l,d);r=r.insert(l,m),s=s.insert(l,qb(d))}).next(()=>({documents:r,Wn:s}))}Qn(e,t,r){if(t.isEmpty())return ue.resolve();let s=new Cn(LM);t.forEach(v=>s=s.add(v));const l=IDBKeyRange.bound(Xv(s.first()),Xv(s.last())),d=s.getIterator();let m=d.getNext();return Vp(e).J({index:"documentKeyIndex",range:l},(v,T,S)=>{const R=We.fromSegments([...T.prefixPath,T.collectionGroup,T.documentId]);for(;m&&LM(m,R)<0;)r(m,null),m=d.getNext();m&&m.isEqual(R)&&(r(m,T),m=d.hasNext()?d.getNext():null),m?S.q(Xv(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const s=[t.popLast().toArray(),t.lastSegment(),Bb(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vp(e).K(IDBKeyRange.bound(s,l,!0)).next(d=>{let m=so();for(const v of d){const T=this.Kn(We.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);m=m.insert(T.key,T)}return m})}getAllFromCollectionGroup(e,t,r,s){let l=so();const d=FM(t,r),m=FM(t,Fs.max());return Vp(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(v,T,S)=>{const R=this.Kn(We.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);l=l.insert(R.key,R),l.size===s&&S.done()}).next(()=>l)}newChangeBuffer(e){return new DO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return NM(e).get("remoteDocumentGlobalKey").next(t=>(Nt(!!t),t))}qn(e,t){return NM(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function zv(n,e){let t;if(e.document)t=qv(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=We.fromSegments(e.noDocument.path),s=kp(e.noDocument.readTime);t=xn.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return lt();{const r=We.fromSegments(e.unknownDocument.path),s=kp(e.unknownDocument.version);t=xn.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new Gn(r[0],r[1]);return St.fromTimestamp(s)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(St.min()))return r}return xn.newInvalidDocument(e)}}function RM(n){return new IO(n)}class DO extends kM{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new tu(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new Cn((l,d)=>Ut(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const m=this.Hn.get(l);if(t.push(this.zn.removeEntry(e,l,m.readTime)),d.isValidDocument()){const v=_M(this.zn.wt,d);s=s.add(l.path.popLast()),r+=qb(v)-m.size,t.push(this.zn.addEntry(e,l,v))}else if(r-=m.size,this.trackRemovals){const v=_M(this.zn.wt,d.convertToNoDocument(St.min()));t.push(this.zn.addEntry(e,l,v))}}),s.forEach(l=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.zn.updateMetadata(e,r)),ue.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:s})=>(s.forEach((l,d)=>{this.Hn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function NM(n){return Ur(n,"remoteDocumentGlobal")}function Vp(n){return Ur(n,"remoteDocumentsV14")}function Xv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function FM(n,e){const t=e.documentKey.path.toArray();return[n,Bb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function LM(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(s=Ut(t[l],r[l]),s)return s;return s=Ut(t.length,r.length),s||(s=Ut(t[t.length-2],r[r.length-2]),s||Ut(t[t.length-1],r[r.length-1]))}class TO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class UM{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.getBaseDocument(e,t,r))).next(s=>(null!==r&&yp(r.mutation,s,hi.empty(),Gn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=zt()){const s=tc();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(l=>{let d=wp();return l.forEach((m,v)=>{d=d.insert(m,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=tc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,zt()))}populateOverlays(e,t,r){const s=[];return r.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,s){let l=so();const d=Bm(),m=Bm();return t.forEach((v,T)=>{const S=r.get(T.key);s.has(T.key)&&(void 0===S||S.mutation instanceof ec)?l=l.insert(T.key,T):void 0!==S&&(d.set(T.key,S.mutation.getFieldMask()),yp(S.mutation,T,S.mutation.getFieldMask(),Gn.now()))}),this.recalculateAndSaveOverlays(e,l).next(v=>(v.forEach((T,S)=>d.set(T,S)),t.forEach((T,S)=>{var R;return m.set(T,new TO(S,null!==(R=d.get(T))&&void 0!==R?R:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Bm();let s=new tr((d,m)=>d-m),l=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(v=>{const T=t.get(v);if(null===T)return;let S=r.get(v)||hi.empty();S=m.applyToLocalView(T,S),r.set(v,S);const R=(s.get(m.batchId)||zt()).add(v);s=s.insert(m.batchId,R)})}).next(()=>{const d=[],m=s.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),T=v.key,S=v.value,R=tT();S.forEach(H=>{if(!l.has(H)){const q=Ab(t.get(H),r.get(H));null!==q&&R.set(H,q),l=l.add(H)}}),d.push(this.documentOverlayCache.saveOverlays(e,T,R))}return ue.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return We.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Sv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(l=>{const d=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-l.size):ue.resolve(tc());let m=-1,v=l;return d.next(T=>ue.forEach(T,(S,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),l.get(S)?ue.resolve():this.getBaseDocument(e,S,R).next(H=>{v=v.insert(S,H)}))).next(()=>this.populateOverlays(e,T,l)).next(()=>this.computeViews(e,v,T,zt())).next(S=>({batchId:m,changes:kb(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new We(t)).next(r=>{let s=wp();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let l=wp();return this.indexManager.getCollectionParents(e,s).next(d=>ue.forEach(d,m=>{const v=(T=t,S=m.child(s),new Zc(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,S;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(T=>{T.forEach((S,R)=>{l=l.insert(S,R)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(s=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((m,v)=>{const T=v.getKey();null===s.get(T)&&(s=s.insert(T,xn.newInvalidDocument(T)))});let d=wp();return s.forEach((m,v)=>{const T=l.get(m);void 0!==T&&yp(T.mutation,v,hi.empty(),Gn.now()),bb(t,v)&&(d=d.insert(m,v))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ue.resolve(xn.newInvalidDocument(t))}}class AO{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return ue.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:zr(r.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:uT(r.bundledQuery),readTime:zr(r.readTime)}),ue.resolve();var r}}class xO{constructor(){this.overlays=new tr(We.comparator),this.Xn=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=tc();return ue.forEach(t,s=>this.getOverlay(e,s).next(l=>{null!==l&&r.set(s,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,l)=>{this.ie(e,t,l)}),ue.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Xn.get(r);return void 0!==s&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Xn.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const s=tc(),l=t.length+1,d=new We(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const v=m.getNext().value,T=v.getKey();if(!t.isPrefixOf(T.path))break;T.path.length===l&&v.largestBatchId>r&&s.set(v.getKey(),v)}return ue.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let l=new tr((T,S)=>T-S);const d=this.overlays.getIterator();for(;d.hasNext();){const T=d.getNext().value;if(T.getKey().getCollectionGroup()===t&&T.largestBatchId>r){let S=l.get(T.largestBatchId);null===S&&(S=tc(),l=l.insert(T.largestBatchId,S)),S.set(T.getKey(),T)}}const m=tc(),v=l.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((T,S)=>m.set(T,S)),!(m.size()>=s)););return ue.resolve(m)}ie(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const d=this.Xn.get(s.largestBatchId).delete(r.key);this.Xn.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Pp(t,r));let l=this.Xn.get(t);void 0===l&&(l=zt(),this.Xn.set(t,l)),this.Xn.set(t,l.add(r.key))}}class fT{constructor(){this.Zn=new Cn(Ji.ts),this.es=new Cn(Ji.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Ji(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Ji(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new We(new tn([])),r=new Ji(t,e),s=new Ji(t,e+1),l=[];return this.es.forEachInRange([r,s],d=>{this.rs(d),l.push(d.key)}),l}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new We(new tn([])),r=new Ji(t,e),s=new Ji(t,e+1);let l=zt();return this.es.forEachInRange([r,s],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Ji(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ji{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return We.comparator(e.key,t.key)||Ut(e.ls,t.ls)}static ns(e,t){return Ut(e.ls,t.ls)||We.comparator(e.key,t.key)}}class MO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Cn(Ji.ts)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const l=this.fs;this.fs++;const d=new Mp(l,t,r,s);this.mutationQueue.push(d);for(const m of s)this.ds=this.ds.add(new Ji(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ue.resolve(d)}lookupMutationBatch(e,t){return ue.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.ws(t+1),l=s<0?0:s;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ji(t,0),s=new Ji(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([r,s],d=>{const m=this._s(d.ls);l.push(m)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cn(Ut);return t.forEach(s=>{const l=new Ji(s,0),d=new Ji(s,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,d],m=>{r=r.add(m.ls)})}),ue.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let l=r;We.isDocumentKey(l)||(l=l.child(""));const d=new Ji(new We(l),0);let m=new Cn(Ut);return this.ds.forEachWhile(v=>{const T=v.key.path;return!!r.isPrefixOf(T)&&(T.length===s&&(m=m.add(v.ls)),!0)},d),ue.resolve(this.gs(m))}gs(e){const t=[];return e.forEach(r=>{const s=this._s(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Nt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return ue.forEach(t.mutations,s=>{const l=new Ji(s.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new Ji(t,0),s=this.ds.firstAfterOrEqual(r);return ue.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return ue.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class SO{constructor(e){this.ps=e,this.docs=new tr(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),l=s?s.size:0,d=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(t))}getEntries(e,t){let r=so();return t.forEach(s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():xn.newInvalidDocument(s))}),ue.resolve(r)}getAllFromCollection(e,t,r){let s=so();const l=new We(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||sp(dv(v),r)<=0||(s=s.insert(v.key,v.mutableCopy()))}return ue.resolve(s)}getAllFromCollectionGroup(e,t,r,s){lt()}Is(e,t){return ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new PO(this)}getSize(e){return ue.resolve(this.size)}}class PO extends kM{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.zn.addEntry(e,s)):this.zn.removeEntry(r)}),ue.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class OO{constructor(e){this.persistence=e,this.Ts=new tu(t=>sd(t),Pm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Es=0,this.As=new fT,this.targetCount=0,this.Rs=Up.An()}forEachTarget(e,t){return this.Ts.forEach((r,s)=>t(s)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),ue.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Up(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.vn(t),ue.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let s=0;const l=[];return this.Ts.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Ts.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),ue.waitFor(l).next(()=>s)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(d=>{l.push(s.markPotentiallyOrphaned(e,d))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this.As.containsKey(t))}}class VM{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Ls(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new OO(this),this.indexManager=new _O,this.remoteDocumentCache=new SO(r=>this.referenceDelegate.Ss(r)),this.wt=new Zm(t),this.Ds=new AO(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new MO(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){je("MemoryPersistence","Starting transaction:",e);const s=new kO(this.Ps.next());return this.referenceDelegate.Cs(),r(s).next(l=>this.referenceDelegate.xs(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ns(e,t){return ue.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class kO extends cb{constructor(e){super(),this.currentSequenceNumber=e}}class zb{constructor(e){this.persistence=e,this.ks=new fT,this.Ms=null}static Os(e){return new zb(e)}get Fs(){if(this.Ms)return this.Ms;throw lt()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),ue.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(s=>this.Fs.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.Fs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Fs,r=>{const s=We.fromPath(r);return this.$s(e,s).next(l=>{l||t.removeEntry(s,St.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return ue.or([()=>ue.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class RO{constructor(e){this.wt=e}M(e,t,r,s){const l=new Ah("createOrUpgrade",t);var m;r<1&&s>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",a,{unique:!0}),m.createObjectStore("documentMutations"),BM(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=ue.resolve();return r<3&&s>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),BM(e)),d=d.next(()=>function(m){const v=m.store("targetGlobal"),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",T)}(l))),r<4&&s>=4&&(0!==r&&(d=d.next(()=>function(m,v){return v.store("mutations").K().next(T=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",a,{unique:!0});const S=v.store("mutations"),R=T.map(H=>S.put(H));return ue.waitFor(R)})}(e,l))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(d=d.next(()=>this.Bs(l))),r<6&&s>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(l)))),r<7&&s>=7&&(d=d.next(()=>this.Us(l))),r<8&&s>=8&&(d=d.next(()=>this.qs(e,l))),r<9&&s>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(d=d.next(()=>this.Ks(l))),r<11&&s>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(d=d.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:ut});v.createIndex("collectionPathOverlayIndex",Re,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",Tt,{unique:!1})}(e)})),r<13&&s>=13&&(d=d.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:y});v.createIndex("documentKeyIndex",C),v.createIndex("collectionGroupIndex",D)}(e)).next(()=>this.Gs(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(d=d.next(()=>this.Qs(e,l))),r<15&&s>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:ie}).createIndex("sequenceNumberIndex",Te,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:$e}).createIndex("documentKeyIndex",Ye,{unique:!1})}(e))),d}Ls(e){let t=0;return e.store("remoteDocuments").J((r,s)=>{t+=qb(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(s=>ue.forEach(s,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",d).next(m=>ue.forEach(m,v=>{Nt(v.userId===l.userId);const T=Rp(this.wt,v);return xM(e,l.userId,T).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const l=[];return r.J((d,m)=>{const v=new tn(d),T=[0,Us(v)];l.push(t.get(T).next(S=>S?ue.resolve():t.put({targetId:0,path:Us(v),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>ue.waitFor(l))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:J});const r=t.store("collectionParents"),s=new hT,l=d=>{if(s.add(d)){const m=d.lastSegment(),v=d.popLast();return r.put({collectionId:m,parent:Us(v)})}};return t.store("remoteDocuments").J({H:!0},(d,m)=>{const v=new tn(d);return l(v.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([d,m,v],T)=>{const S=o(m);return l(S.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,s)=>{const l=Wv(s),d=yM(this.wt,l);return t.put(d)})}Gs(e,t){const r=t.store("remoteDocuments"),s=[];return r.J((l,d)=>{const m=t.store("remoteDocumentsV14"),v=(T=d,T.document?new We(tn.fromString(T.document.name).popFirst(5)):T.noDocument?We.fromSegments(T.noDocument.path):T.unknownDocument?We.fromSegments(T.unknownDocument.path):lt()).path.toArray();var T;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};s.push(m.put(S))}).next(()=>ue.waitFor(s))}Qs(e,t){const r=t.store("mutations"),s=RM(this.wt),l=new VM(zb.Os,this.wt.ne);return r.K().next(d=>{const m=new Map;return d.forEach(v=>{var T;let S=null!==(T=m.get(v.userId))&&void 0!==T?T:zt();Rp(this.wt,v).keys().forEach(R=>S=S.add(R)),m.set(v.userId,S)}),ue.forEach(m,(v,T)=>{const S=new Ri(T),R=jb.se(this.wt,S),H=l.getIndexManager(S),q=Gb.se(S,this.wt,H,l.referenceDelegate);return new UM(s,q,R,H).recalculateAndSaveOverlaysForDocumentKeys(new xp(t,Ls.ot),v).next()})})}}function BM(n){n.createObjectStore("targetDocuments",{keyPath:k}).createIndex("documentTargetsIndex",V,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",M,{unique:!0}),n.createObjectStore("targetGlobal")}const pT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gT{constructor(e,t,r,s,l,d,m,v,T,S,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=l,this.window=d,this.document=m,this.Ws=T,this.zs=S,this.Hs=R,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=H=>Promise.resolve(),!gT.V())throw new Fe(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new EO(this,s),this.ei=t+"main",this.wt=new Zm(v),this.ni=new Ro(this.ei,this.Hs,new RO(this.wt)),this.Vs=new vO(this.referenceDelegate,this.wt),this.remoteDocumentCache=RM(this.wt),this.Ds=new dO,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===S&&ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(_e.FAILED_PRECONDITION,pT);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Ls(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,De.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,De.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,De.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Wb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Kl(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return ew(e).get("owner").next(t=>ue.resolve(this.di(t)))}_i(e){return Wb(e).delete(this.clientId)}wi(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=Ur(r,"clientMetadata");return s.K().next(l=>{const d=e.gi(l,18e5),m=l.filter(v=>-1===d.indexOf(v));return ue.forEach(m,v=>s.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?ue.resolve(!0):ew(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Fe(_e.FAILED_PRECONDITION,pT);return!1}}return!(!this.networkEnabled||!this.inForeground)||Wb(e).K().next(r=>void 0===this.gi(r,5e3).find(s=>{if(this.clientId!==s.clientId){const d=!this.inForeground&&s.inForeground,m=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,De.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new xp(t,Ls.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>Wb(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return Gb.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new yO(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return jb.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){je("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",l=15===(d=this.Hs)?Zv:14===d?ru:13===d?Vs:12===d?_n:11===d?Yt:void lt();var d;let m;return this.ni.runTransaction(e,s,l,v=>(m=new xp(v,this.Ps?this.Ps.next():Ls.ot),"readwrite-primary"===t?this.ai(m).next(T=>!!T||this.hi(m)).next(T=>{if(!T)throw ur(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Fe(_e.FAILED_PRECONDITION,hv);return r(m)}).next(T=>this.fi(m).next(()=>T)):this.bi(m).next(()=>r(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}bi(e){return ew(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(_e.FAILED_PRECONDITION,pT)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ew(e).put("owner",t)}static V(){return Ro.V()}li(e){const t=ew(e);return t.get("owner").next(r=>this.di(r)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ur(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Rt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return je("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ur("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){ur("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ew(n){return Ur(n,"owner")}function Wb(n){return Ur(n,"clientMetadata")}function mT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class _T{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=s}static Vi(e,t){let r=zt(),s=zt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new _T(e,t.fromCache,r,s)}}class jM{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ci(e,t).next(l=>l||this.xi(e,t,s,r)).next(l=>l||this.Ni(e,t))}Ci(e,t){if(wb(t))return ue.resolve(null);let r=io(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Pv(t,null,"F"),r=io(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=zt(...l);return this.Di.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(v=>{const T=this.ki(t,m);return this.Mi(t,T,d,v.readTime)?this.Ci(e,Pv(t,null,"F")):this.Oi(e,T,t,v)}))})))}xi(e,t,r,s){return wb(t)||s.isEqual(St.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(l=>{const d=this.ki(t,l);return this.Mi(t,d,r,s)?this.Ni(e,t):(QC()<=Uc.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ov(t)),this.Oi(e,d,t,ab(s,-1)))})}ki(e,t){let r=new Cn(Rm(e));return t.forEach((s,l)=>{bb(e,l)&&(r=r.add(l))}),r}Mi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Ni(e,t){return QC()<=Uc.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Ov(t)),this.Di.getDocumentsMatchingQuery(e,t,Fs.min())}Oi(e,t,r,s){return this.Di.getDocumentsMatchingQuery(e,r,s).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class NO{constructor(e,t,r,s){this.persistence=e,this.Fi=t,this.wt=s,this.$i=new tr(Ut),this.Bi=new tu(l=>sd(l),Pm),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UM(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function HM(n,e,t,r){return new NO(n,e,t,r)}function $M(n,e){return yT.apply(this,arguments)}function yT(){return yT=(0,De.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(l=>(s=l,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],m=[];let v=zt();for(const T of s){d.push(T.batchId);for(const S of T.mutations)v=v.add(S.key)}for(const T of l){m.push(T.batchId);for(const S of T.mutations)v=v.add(S.key)}return t.localDocuments.getDocuments(r,v).next(T=>({Ki:T,removedBatchIds:d,addedBatchIds:m}))})})}),yT.apply(this,arguments)}function FO(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),l=t.Ui.newChangeBuffer({trackRemovals:!0});return function(d,m,v,T){const S=v.batch,R=S.keys();let H=ue.resolve();return R.forEach(q=>{H=H.next(()=>T.getEntry(m,q)).next(te=>{const Me=v.docVersions.get(q);Nt(null!==Me),te.version.compareTo(Me)<0&&(S.applyToRemoteDocument(te,v),te.isValidDocument()&&(te.setReadTime(v.commitVersion),T.addEntry(te)))})}),H.next(()=>d.mutationQueue.removeMutationBatch(m,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=zt();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(m=m.add(d.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function qM(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function LO(n,e){const t=tt(n),r=e.snapshotVersion;let s=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Ui.newChangeBuffer({trackRemovals:!0});s=t.$i;const m=[];e.targetChanges.forEach((S,R)=>{const H=s.get(R);if(!H)return;m.push(t.Vs.removeMatchingKeys(l,S.removedDocuments,R).next(()=>t.Vs.addMatchingKeys(l,S.addedDocuments,R)));let q=H.withSequenceNumber(l.currentSequenceNumber);var te,Me,Le;e.targetMismatches.has(R)?q=q.withResumeToken(Zr.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):S.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(S.resumeToken,r)),s=s.insert(R,q),Me=q,Le=S,(0===(te=H).resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=3e8||Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0)&&m.push(t.Vs.updateTargetData(l,q))});let v=so(),T=zt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),m.push(GM(l,d,e.documentUpdates).next(S=>{v=S.Gi,T=S.Qi})),!r.isEqual(St.min())){const S=t.Vs.getLastRemoteSnapshotVersion(l).next(R=>t.Vs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(S)}return ue.waitFor(m).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,v,T)).next(()=>v)}).then(l=>(t.$i=s,l))}function GM(n,e,t){let r=zt(),s=zt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=so();return t.forEach((m,v)=>{const T=l.get(m);v.isFoundDocument()!==T.isFoundDocument()&&(s=s.add(m)),v.isNoDocument()&&v.version.isEqual(St.min())?(e.removeEntry(m,v.readTime),d=d.insert(m,v)):!T.isValidDocument()||v.version.compareTo(T.version)>0||0===v.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(v),d=d.insert(m,v)):je("LocalStore","Ignoring outdated watch update for ",m,". Current version:",T.version," Watch version:",v.version)}),{Gi:d,Qi:s}})}function UO(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Km(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Vs.getTargetData(r,e).next(l=>l?(s=l,ue.resolve(s)):t.Vs.allocateTargetId(r).next(d=>(s=new rc(e,d,0,r.currentSequenceNumber),t.Vs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.$i.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function Ym(n,e,t){return vT.apply(this,arguments)}function vT(){return vT=(0,De.Z)(function*(n,e,t){const r=tt(n),s=r.$i.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,s)))}catch(d){if(!Kl(d))throw d;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.$i=r.$i.remove(e),r.Bi.delete(s.target)}),vT.apply(this,arguments)}function Kb(n,e,t){const r=tt(n);let s=St.min(),l=zt();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,v,T){const S=tt(m),R=S.Bi.get(T);return void 0!==R?ue.resolve(S.$i.get(R)):S.Vs.getTargetData(v,T)}(r,d,io(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(d,m.targetId).next(v=>{l=v})}).next(()=>r.Fi.getDocumentsMatchingQuery(d,e,t?s:St.min(),t?l:zt())).next(m=>(WM(r,Eb(e),m),{documents:m,ji:l})))}function ZM(n,e){const t=tt(n),r=tt(t.Vs),s=t.$i.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",l=>r.te(l,e).next(d=>d?d.target:null))}function zM(n,e){const t=tt(n),r=t.Li.get(e)||St.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Ui.getAllFromCollectionGroup(s,e,ab(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(WM(t,e,s),s))}function WM(n,e,t){let r=St.min();t.forEach((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Li.set(e,r)}function wT(){return wT=(0,De.Z)(function*(n,e,t,r){const s=tt(n);let l=zt(),d=so();for(const T of t){const S=e.Wi(T.metadata.name);T.document&&(l=l.add(S));const R=e.zi(T);R.setReadTime(e.Hi(T.metadata.readTime)),d=d.insert(S,R)}const m=s.Ui.newChangeBuffer({trackRemovals:!0}),v=yield Km(s,(T=r,io(pp(tn.fromString(`__bundle__/docs/${T}`)))));var T;return s.persistence.runTransaction("Apply bundle documents","readwrite",T=>GM(T,m,d).next(S=>(m.apply(T),S)).next(S=>s.Vs.removeMatchingKeysForTargetId(T,v.targetId).next(()=>s.Vs.addMatchingKeys(T,l,v.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(T,S.Gi,S.Qi)).next(()=>S.Gi)))}),wT.apply(this,arguments)}function BO(n,e){return CT.apply(this,arguments)}function CT(){return CT=(0,De.Z)(function*(n,e,t=zt()){const r=yield Km(n,io(uT(e.bundledQuery))),s=tt(n);return s.persistence.runTransaction("Save named query","readwrite",l=>{const d=zr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return s.Ds.saveNamedQuery(l,e);const m=r.withResumeToken(Zr.EMPTY_BYTE_STRING,d);return s.$i=s.$i.insert(m.targetId,m),s.Vs.updateTargetData(l,m).next(()=>s.Vs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>s.Vs.addMatchingKeys(l,t,r.targetId)).next(()=>s.Ds.saveNamedQuery(l,e))})}),CT.apply(this,arguments)}function KM(n,e){return`firestore_clients_${n}_${e}`}function YM(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function bT(n,e){return`firestore_targets_${n}_${e}`}class Yb{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Ji(e,t,r){const s=JSON.parse(r);let l,d="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new Fe(s.error.code,s.error.message))),d?new Yb(e,t,s.state,l):(ur("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let s,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new Fe(r.error.code,r.error.message))),l?new tw(e,r.state,s):(ur("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,l=ud();for(let d=0;s&&d<r.activeTargetIds.length;++d)s=cp(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return s?new Jb(e,l):(ur("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ET{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ET(t.clientId,t.onlineState):(ur("SharedClientState",`Failed to parse online state: ${e}`),null)}}class IT{constructor(){this.activeTargetIds=ud()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DT{constructor(e,t,r,s,l){this.window=e,this.js=t,this.persistenceKey=r,this.tr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new tr(Ut),this.started=!1,this.ir=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=KM(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new IT),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const t=yield e.syncEngine.Ri();for(const s of t){if(s===e.tr)continue;const l=e.getItem(KM(e.persistenceKey,s));if(l){const d=Jb.Ji(s,l);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const r=e.storage.getItem(e.lr);if(r){const s=e.wr(r);s&&e.mr(s)}for(const s of e.ir)e.nr(s);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(bT(this.persistenceKey,e));if(r){const s=tw.Ji(e,r);s&&(t=s.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(bT(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.pr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(je("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,De.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const s=t.Rr(r.key);return t.br(s,null)}{const s=t.Pr(r.key,r.newValue);if(s)return t.br(s.clientId,s)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const s=t.vr(r.key,r.newValue);if(s)return t.Vr(s)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const s=t.Sr(r.key,r.newValue);if(s)return t.Dr(s)}}else if(r.key===t.lr){if(null!==r.newValue){const s=t.wr(r.newValue);if(s)return t.mr(s)}}else if(r.key===t.ur){const s=function(l){let d=Ls.ot;if(null!=l)try{const m=JSON.parse(l);Nt("number"==typeof m),d=m}catch(m){ur("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);s!==Ls.ot&&t.sequenceNumberHandler(s)}else if(r.key===t.dr){const s=t.Cr(r.newValue);yield Promise.all(s.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const s=new Yb(this.currentUser,e,t,r),l=YM(this.persistenceKey,this.currentUser,e);this.setItem(l,s.Yi())}pr(e){const t=YM(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const s=bT(this.persistenceKey,e),l=new tw(e,t,r);this.setItem(s,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return Jb.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),s=Number(r[1]);return Yb.Ji(new Ri(void 0!==r[2]?r[2]:null),s,t)}Sr(e,t){const r=this.hr.exec(e),s=Number(r[1]);return tw.Ji(s,t)}wr(e){return ET.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,De.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),s=this.gr(this.sr),l=this.gr(r),d=[],m=[];return l.forEach(v=>{s.has(v)||d.push(v)}),s.forEach(v=>{l.has(v)||m.push(v)}),this.syncEngine.Or(d,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=ud();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class JM{constructor(){this.Fr=new IT,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new IT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jO{Br(e){}shutdown(){}}class QM{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const HO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $O{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class qO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,s,l){const d=this.oo(e,t);je("RestConnection","Sending: ",d,r);const m={};return this.uo(m,s,l),this.co(e,d,m,r).then(v=>(je("RestConnection","Received: ",v),v),v=>{throw Hc("RestConnection",`${e} failed with error: `,v,"url: ",d,"request:",r),v})}ao(e,t,r,s,l,d){return this.ro(e,t,r,s,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ed,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),r&&r.headers.forEach((s,l)=>e[l]=s)}oo(e,t){return`${this.so}/v1/${t}:${HO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,s){return new Promise((l,d)=>{const m=new JC;m.listenOnce(ND.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case tp.NO_ERROR:const T=m.getResponseJson();je("Connection","XHR received:",JSON.stringify(T)),l(T);break;case tp.TIMEOUT:je("Connection",'RPC "'+e+'" timed out'),d(new Fe(_e.DEADLINE_EXCEEDED,"Request time out"));break;case tp.HTTP_ERROR:const S=m.getStatus();if(je("Connection",'RPC "'+e+'" failed with status:',S,"response text:",m.getResponseText()),S>0){const R=m.getResponseJson().error;if(R&&R.status&&R.message){const H=function(q){const te=q.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(te)>=0?te:_e.UNKNOWN}(R.status);d(new Fe(H,R.message))}else d(new Fe(_e.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Fe(_e.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{je("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(s);m.send(t,"POST",v,r,15)})}ho(e,t,r){const s=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=kD(),d=RD(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new FD({})),this.uo(m.initMessageHeaders,t,r),(0,Rt.uI)()||(0,Rt.b$)()||(0,Rt.d)()||(0,Rt.w1)()||(0,Rt.Mn)()||(0,Rt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=s.join("");je("Connection","Creating WebChannel: "+v,m);const T=l.createWebChannel(v,m);let S=!1,R=!1;const H=new $O({jr:te=>{R?je("Connection","Not sending because WebChannel is closed:",te):(S||(je("Connection","Opening WebChannel transport."),T.open(),S=!0),je("Connection","WebChannel sending:",te),T.send(te))},Wr:()=>T.close()}),q=(te,Me,Le)=>{te.listen(Me,ot=>{try{Le(ot)}catch(bt){setTimeout(()=>{throw bt},0)}})};return q(T,jc.EventType.OPEN,()=>{R||je("Connection","WebChannel transport opened.")}),q(T,jc.EventType.CLOSE,()=>{R||(R=!0,je("Connection","WebChannel transport closed"),H.eo())}),q(T,jc.EventType.ERROR,te=>{R||(R=!0,Hc("Connection","WebChannel transport errored:",te),H.eo(new Fe(_e.UNAVAILABLE,"The operation could not be completed")))}),q(T,jc.EventType.MESSAGE,te=>{var Me;if(!R){const Le=te.data[0];Nt(!!Le);const ot=Le,bt=ot.error||(null===(Me=ot[0])||void 0===Me?void 0:Me.error);if(bt){je("Connection","WebChannel received error:",bt);const Et=bt.status;let dt=function($t){const Dr=Lr[$t];if(void 0!==Dr)return Ob(Dr)}(Et),Ot=bt.message;void 0===dt&&(dt=_e.INTERNAL,Ot="Unknown error status: "+Et+" with message "+bt.message),R=!0,H.eo(new Fe(dt,Ot)),T.close()}else je("Connection","WebChannel received:",Le),H.no(Le)}}),q(d,Xx.STAT_EVENT,te=>{te.stat===YC.PROXY?je("Connection","Detected buffering proxy"):te.stat===YC.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{H.Zr()},0),H}}function XM(){return"undefined"!=typeof window?window:null}function Qb(){return"undefined"!=typeof document?document:null}function nw(n){return new lM(n,!0)}class TT{constructor(e,t,r=1e3,s=1.5,l=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=s,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),s=Math.max(0,t-r);s>0&&je("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,s,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class eS{constructor(e,t,r,s,l,d,m,v){this.js=e,this.Ao=r,this.Ro=s,this.bo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new TT(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,De.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,De.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,De.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===_e.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Po===t&&this.Uo(r,s)},r=>{e(()=>{const s=new Fe(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(s)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(s=>{r(()=>this.qo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}xo(){var e=this;this.state=5,this.So.Io((0,De.Z)(function*(){e.state=0,e.start()}))}qo(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GO extends eS{constructor(e,t,r,s,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,d),this.wt=l}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function dM(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:lt(),s=e.targetChange.targetIds||[],l=function(v,T){return v.dt?(Nt(void 0===T||"string"==typeof T),Zr.fromBase64String(T||"")):(Nt(void 0===T||T instanceof Uint8Array),Zr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(v){const T=void 0===v.code?_e.UNKNOWN:Ob(v.code);return new Fe(T,v.message||"")}(d);t=new Vv(r,s,l,m||null)}else if("documentChange"in e){const r=e.documentChange,s=nc(n,r.document.name),l=zr(r.document.updateTime),d=new Fi({mapValue:{fields:r.document.fields}}),m=xn.newFoundDocument(s,l,d);t=new Ep(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,s=nc(n,r.document),l=r.readTime?zr(r.readTime):St.min(),d=xn.newNoDocument(s,l);t=new Ep([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,s=nc(n,r.document);t=new Ep([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return lt();{const r=e.filter,l=new Pb(r.count||0);t=new nu(r.targetId,l)}}var v;return t}(this.wt,e),r=function(s){if(!("targetChange"in s))return St.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?St.min():l.readTime?zr(l.readTime):St.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=Rh(this.wt),t.addTarget=function(s,l){let d;const m=l.target;return d=fp(m)?{documents:Ub(s,m)}:{query:sT(s,m)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=rT(s,l.resumeToken):l.snapshotVersion.compareTo(St.min())>0&&(d.readTime=qm(s,l.snapshotVersion.toTimestamp())),d}(this.wt,e);const r=function aT(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=Rh(this.wt),t.removeTarget=e,this.Oo(t)}}class ZO extends eS{constructor(e,t,r,s,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,d),this.wt=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function iT(n,e){return n&&n.length>0?(Nt(void 0!==e),n.map(t=>function(r,s){let l=zr(r.updateTime?r.updateTime:s);return l.isEqual(St.min())&&(l=zr(s)),new QD(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=zr(e.commitTime);return this.listener.Jo(r,t)}return Nt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Rh(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Nh(this.wt,r))};this.Oo(t)}}class zO extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=s,this.Zo=!1}tu(){if(this.Zo)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.bo.ro(e,t,r,s,l)).catch(s=>{throw"FirebaseError"===s.name?(s.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(_e.UNKNOWN,s.toString())})}ao(e,t,r,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.bo.ao(e,t,r,l,d,s)).catch(l=>{throw"FirebaseError"===l.name?(l.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Fe(_e.UNKNOWN,l.toString())})}terminate(){this.Zo=!0}}class WO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ur(t),this.su=!1):je("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class KO{constructor(e,t,r,s,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(m=>{r.enqueueAndForget((0,De.Z)(function*(){var v;Uh(d)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,De.Z)(function*(T){const S=tt(T);S.lu.add(4),yield Jm(S),S._u.set("Unknown"),S.lu.delete(4),yield rw(S)}),function(T){return v.apply(this,arguments)})(d))}))}),this._u=new WO(r,s)}}function rw(n){return AT.apply(this,arguments)}function AT(){return AT=(0,De.Z)(function*(n){if(Uh(n))for(const e of n.fu)yield e(!0)}),AT.apply(this,arguments)}function Jm(n){return xT.apply(this,arguments)}function xT(){return xT=(0,De.Z)(function*(n){for(const e of n.fu)yield e(!1)}),xT.apply(this,arguments)}function Xb(n,e){const t=tt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),PT(t)?ST(t):Xm(t).Co()&&MT(t,e))}function iw(n,e){const t=tt(n),r=Xm(t);t.hu.delete(e),r.Co()&&tS(t,e),0===t.hu.size&&(r.Co()?r.ko():Uh(t)&&t._u.set("Unknown"))}function MT(n,e){n.wu.Nt(e.targetId),Xm(n).Qo(e)}function tS(n,e){n.wu.Nt(e),Xm(n).jo(e)}function ST(n){n.wu=new Bv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Xm(n).start(),n._u.iu()}function PT(n){return Uh(n)&&!Xm(n).Do()&&n.hu.size>0}function Uh(n){return 0===tt(n).lu.size}function nS(n){n.wu=void 0}function YO(n){return OT.apply(this,arguments)}function OT(){return OT=(0,De.Z)(function*(n){n.hu.forEach((e,t)=>{MT(n,e)})}),OT.apply(this,arguments)}function JO(n,e){return kT.apply(this,arguments)}function kT(){return kT=(0,De.Z)(function*(n,e){nS(n),PT(n)?(n._u.uu(e),ST(n)):n._u.set("Unknown")}),kT.apply(this,arguments)}function QO(n,e,t){return RT.apply(this,arguments)}function RT(){return RT=(0,De.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof Vv&&2===e.state&&e.cause)try{yield(r=(0,De.Z)(function*(s,l){const d=l.cause;for(const m of l.targetIds)s.hu.has(m)&&(yield s.remoteSyncer.rejectListen(m,d),s.hu.delete(m),s.wu.removeTarget(m))}),function(s,l){return r.apply(this,arguments)})(n,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield eE(n,r)}else if(e instanceof Ep?n.wu.Ut(e):e instanceof nu?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(St.min()))try{const r=yield qM(n.localStore);t.compareTo(r)>=0&&(yield function(s,l){const d=s.wu.Yt(l);return d.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const T=s.hu.get(v);T&&s.hu.set(v,T.withResumeToken(m.resumeToken,l))}}),d.targetMismatches.forEach(m=>{const v=s.hu.get(m);if(!v)return;s.hu.set(m,v.withResumeToken(Zr.EMPTY_BYTE_STRING,v.snapshotVersion)),tS(s,m);const T=new rc(v.target,m,1,v.sequenceNumber);MT(s,T)}),s.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){je("RemoteStore","Failed to raise snapshot:",r),yield eE(n,r)}var r}),RT.apply(this,arguments)}function eE(n,e,t){return NT.apply(this,arguments)}function NT(){return NT=(0,De.Z)(function*(n,e,t){if(!Kl(e))throw e;n.lu.add(1),yield Jm(n),n._u.set("Offline"),t||(t=()=>qM(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield rw(n)}))}),NT.apply(this,arguments)}function rS(n,e){return e().catch(t=>eE(n,t,e))}function Qm(n){return FT.apply(this,arguments)}function FT(){return FT=(0,De.Z)(function*(n){const e=tt(n),t=Vh(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;XO(e);)try{const s=yield UO(e.localStore,r);if(null===s){0===e.au.length&&t.ko();break}r=s.batchId,ek(e,s)}catch(s){yield eE(e,s)}iS(e)&&sS(e)}),FT.apply(this,arguments)}function XO(n){return Uh(n)&&n.au.length<10}function ek(n,e){n.au.push(e);const t=Vh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function iS(n){return Uh(n)&&!Vh(n).Do()&&n.au.length>0}function sS(n){Vh(n).start()}function tk(n){return LT.apply(this,arguments)}function LT(){return LT=(0,De.Z)(function*(n){Vh(n).Xo()}),LT.apply(this,arguments)}function nk(n){return UT.apply(this,arguments)}function UT(){return UT=(0,De.Z)(function*(n){const e=Vh(n);for(const t of n.au)e.Ho(t.mutations)}),UT.apply(this,arguments)}function rk(n,e,t){return VT.apply(this,arguments)}function VT(){return VT=(0,De.Z)(function*(n,e,t){const r=n.au.shift(),s=Sp.from(r,e,t);yield rS(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Qm(n)}),VT.apply(this,arguments)}function ik(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,De.Z)(function*(n,e){var t;e&&Vh(n).zo&&(yield(t=(0,De.Z)(function*(r,s){if(Lv(l=s.code)&&l!==_e.ABORTED){const d=r.au.shift();Vh(r).No(),yield rS(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,s)),yield Qm(r)}var l}),function(r,s){return t.apply(this,arguments)})(n,e)),iS(n)&&sS(n)}),BT.apply(this,arguments)}function oS(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,De.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=Uh(t);t.lu.add(3),yield Jm(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield rw(t)}),jT.apply(this,arguments)}function HT(n,e){return $T.apply(this,arguments)}function $T(){return $T=(0,De.Z)(function*(n,e){const t=tt(n);e?(t.lu.delete(2),yield rw(t)):e||(t.lu.add(2),yield Jm(t),t._u.set("Unknown"))}),$T.apply(this,arguments)}function Xm(n){return n.mu||(n.mu=function(e,t,r){const s=tt(e);return s.tu(),new GO(t,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,r)}(n.datastore,n.asyncQueue,{zr:YO.bind(null,n),Jr:JO.bind(null,n),Go:QO.bind(null,n)}),n.fu.push(function(){var e=(0,De.Z)(function*(t){t?(n.mu.No(),PT(n)?ST(n):n._u.set("Unknown")):(yield n.mu.stop(),nS(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Vh(n){return n.gu||(n.gu=function(e,t,r){const s=tt(e);return s.tu(),new ZO(t,s.bo,s.authCredentials,s.appCheckCredentials,s.wt,r)}(n.datastore,n.asyncQueue,{zr:tk.bind(null,n),Jr:ik.bind(null,n),Yo:nk.bind(null,n),Jo:rk.bind(null,n)}),n.fu.push(function(){var e=(0,De.Z)(function*(t){t?(n.gu.No(),yield Qm(n)):(yield n.gu.stop(),n.au.length>0&&(je("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class qT{constructor(e,t,r,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,s,l){const d=Date.now()+r,m=new qT(e,t,d,s,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e_(n,e){if(ur("AsyncQueue",`${e}: ${n}`),Kl(n))return new Fe(_e.UNAVAILABLE,`${e}: ${n}`);throw n}class t_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||We.comparator(t.key,r.key):(t,r)=>We.comparator(t.key,r.key),this.keyedMap=wp(),this.sortedSet=new tr(this.comparator)}static emptySet(e){return new t_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof t_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new t_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class aS{constructor(){this.yu=new tr(We.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):lt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class n_{constructor(e,t,r,s,l,d,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,s){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new n_(e,t,t_.emptySet(t),l,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_p(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class sk{constructor(){this.Iu=void 0,this.listeners=[]}}class ok{constructor(){this.queries=new tu(e=>Cb(e),_p),this.onlineState="Unknown",this.Tu=new Set}}function GT(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,De.Z)(function*(n,e){const t=tt(n),r=e.query;let s=!1,l=t.queries.get(r);if(l||(s=!0,l=new sk),s)try{l.Iu=yield t.onListen(r)}catch(d){const m=e_(d,`Initialization of query '${Ov(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&KT(t)}),ZT.apply(this,arguments)}function zT(n,e){return WT.apply(this,arguments)}function WT(){return WT=(0,De.Z)(function*(n,e){const t=tt(n),r=e.query;let s=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),s=0===l.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),WT.apply(this,arguments)}function ak(n,e){const t=tt(n);let r=!1;for(const s of e){const d=t.queries.get(s.query);if(d){for(const m of d.listeners)m.Au(s)&&(r=!0);d.Iu=s}}r&&KT(t)}function ck(n,e,t){const r=tt(n),s=r.queries.get(e);if(s)for(const l of s.listeners)l.onError(t);r.queries.delete(e)}function KT(n){n.Tu.forEach(e=>{e.next()})}class YT{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new n_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=n_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class lk{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class cS{constructor(e){this.wt=e}Wi(e){return nc(this.wt,e)}zi(e){return e.metadata.exists?qv(this.wt,e.document,!1):xn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return zr(e)}}class uk{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lS(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=tn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new cS(this.wt);for(const s of e)if(s.metadata.queries){const l=r.Wi(s.metadata.name);for(const d of s.metadata.queries){const m=(t.get(d)||zt()).add(l);t.set(d,m)}}return t}complete(){var e=this;return(0,De.Z)(function*(){const t=yield function VO(n,e,t,r){return wT.apply(this,arguments)}(e.localStore,new cS(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const s of e.queries)yield BO(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function lS(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class uS{constructor(e){this.key=e}}class dS{constructor(e){this.key=e}}class hS{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=zt(),this.mutatedKeys=zt(),this.Lu=Rm(e),this.Uu=new t_(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new aS,s=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,d=s,m=!1;const v="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,T="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((S,R)=>{const H=s.get(S),q=bb(this.query,R)?R:null,te=!!H&&this.mutatedKeys.has(H.key),Me=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Le=!1;H&&q?H.data.isEqual(q.data)?te!==Me&&(r.track({type:3,doc:q}),Le=!0):this.Qu(H,q)||(r.track({type:2,doc:q}),Le=!0,(v&&this.Lu(q,v)>0||T&&this.Lu(q,T)<0)&&(m=!0)):!H&&q?(r.track({type:0,doc:q}),Le=!0):H&&!q&&(r.track({type:1,doc:H}),Le=!0,(v||T)&&(m=!0)),Le&&(q?(d=d.add(q),l=Me?l.add(S):l.delete(S)):(d=d.delete(S),l=l.delete(S)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const S="F"===this.query.limitType?d.last():d.first();d=d.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{Uu:d,Gu:r,Mi:m,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Gu.pu();l.sort((T,S)=>function(R,H){const q=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return q(R)-q(H)}(T.type,S.type)||this.Lu(T.doc,S.doc)),this.ju(r);const d=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,v=m!==this.$u;return this.$u=m,0!==l.length||v?{snapshot:new n_(this.query,e.Uu,s,l,e.mutatedKeys,0===m,v,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new aS,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=zt(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new dS(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new uS(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=zt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return n_.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class dk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hk{constructor(e){this.key=e,this.Xu=!1}}class fk{constructor(e,t,r,s,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Zu={},this.tc=new tu(m=>Cb(m),_p),this.ec=new Map,this.nc=new Set,this.sc=new tr(We.comparator),this.ic=new Map,this.rc=new fT,this.oc={},this.uc=new Map,this.cc=Up.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function pk(n,e){return JT.apply(this,arguments)}function JT(){return JT=(0,De.Z)(function*(n,e){const t=wA(n);let r,s;const l=t.tc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),s=l.view.Yu();else{const d=yield Km(t.localStore,io(e));t.isPrimaryClient&&Xb(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,s=yield QT(t,e,r,"current"===m)}return s}),JT.apply(this,arguments)}function QT(n,e,t,r){return XT.apply(this,arguments)}function XT(){return XT=(0,De.Z)(function*(n,e,t,r){n.hc=(S,R,H)=>{return(q=(0,De.Z)(function*(te,Me,Le,ot){let bt=Me.view.Ku(Le);bt.Mi&&(bt=yield Kb(te.localStore,Me.query,!1).then(({documents:Ot})=>Me.view.Ku(Ot,bt)));const Et=ot&&ot.targetChanges.get(Me.targetId),dt=Me.view.applyChanges(bt,te.isPrimaryClient,Et);return lA(te,Me.targetId,dt.zu),dt.snapshot}),function(te,Me,Le,ot){return q.apply(this,arguments)})(n,S,R,H);var q};const s=yield Kb(n.localStore,e,!0),l=new hS(e,s.ji),d=l.Ku(s.documents),m=bp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=l.applyChanges(d,n.isPrimaryClient,m);lA(n,t,v.zu);const T=new dk(e,t,l);return n.tc.set(e,T),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),v.snapshot}),XT.apply(this,arguments)}function gk(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,De.Z)(function*(n,e){const t=tt(n),r=t.tc.get(e),s=t.ec.get(r.targetId);if(s.length>1)return t.ec.set(r.targetId,s.filter(l=>!_p(l,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ym(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),iw(t.remoteStore,r.targetId),r_(t,r.targetId)}).catch(Wl))):(r_(t,r.targetId),yield Ym(t.localStore,r.targetId,!0))}),eA.apply(this,arguments)}function tA(){return tA=(0,De.Z)(function*(n,e,t){const r=CA(n);try{const s=yield function(l,d){const m=tt(l),v=Gn.now(),T=d.reduce((H,q)=>H.add(q.key),zt());let S,R;return m.persistence.runTransaction("Locally write mutations","readwrite",H=>{let q=so(),te=zt();return m.Ui.getEntries(H,T).next(Me=>{q=Me,q.forEach((Le,ot)=>{ot.isValidDocument()||(te=te.add(Le))})}).next(()=>m.localDocuments.getOverlayedDocuments(H,q)).next(Me=>{S=Me;const Le=[];for(const ot of d){const bt=XD(ot,S.get(ot.key).overlayedDocument);null!=bt&&Le.push(new ec(ot.key,bt,Ev(bt.value.mapValue),fr.exists(!0)))}return m.mutationQueue.addMutationBatch(H,v,Le,d)}).next(Me=>{R=Me;const Le=Me.applyToLocalDocumentSet(S,te);return m.documentOverlayCache.saveOverlays(H,Me.batchId,Le)})}).then(()=>({batchId:R.batchId,changes:kb(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,d,m){let v=l.oc[l.currentUser.toKey()];v||(v=new tr(Ut)),v=v.insert(d,m),l.oc[l.currentUser.toKey()]=v}(r,s.batchId,t),yield dd(r,s.changes),yield Qm(r.remoteStore)}catch(s){const l=e_(s,"Failed to persist write");t.reject(l)}}),tA.apply(this,arguments)}function fS(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,De.Z)(function*(n,e){const t=tt(n);try{const r=yield LO(t.localStore,e);e.targetChanges.forEach((s,l)=>{const d=t.ic.get(l);d&&(Nt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.Xu=!0:s.modifiedDocuments.size>0?Nt(d.Xu):s.removedDocuments.size>0&&(Nt(d.Xu),d.Xu=!1))}),yield dd(t,r,e)}catch(r){yield Wl(r)}}),nA.apply(this,arguments)}function pS(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.tc.forEach((l,d)=>{const m=d.view.Eu(e);m.snapshot&&s.push(m.snapshot)}),function(l,d){const m=tt(l);m.onlineState=d;let v=!1;m.queries.forEach((T,S)=>{for(const R of S.listeners)R.Eu(d)&&(v=!0)}),v&&KT(m)}(r.eventManager,e),s.length&&r.Zu.Go(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _k(n,e,t){return rA.apply(this,arguments)}function rA(){return rA=(0,De.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.ic.get(e),l=s&&s.key;if(l){let d=new tr(We.comparator);d=d.insert(l,xn.newNoDocument(l,St.min()));const m=zt().add(l),v=new Cp(St.min(),new Map,new Cn(Ut),d,m);yield fS(r,v),r.sc=r.sc.remove(l),r.ic.delete(e),uA(r)}else yield Ym(r.localStore,e,!1).then(()=>r_(r,e,t)).catch(Wl)}),rA.apply(this,arguments)}function yk(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,De.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const s=yield FO(t.localStore,e);cA(t,r,null),aA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield dd(t,s)}catch(s){yield Wl(s)}}),iA.apply(this,arguments)}function vk(n,e,t){return sA.apply(this,arguments)}function sA(){return sA=(0,De.Z)(function*(n,e,t){const r=tt(n);try{const s=yield function(l,d){const m=tt(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let T;return m.mutationQueue.lookupMutationBatch(v,d).next(S=>(Nt(null!==S),T=S.keys(),m.mutationQueue.removeMutationBatch(v,S))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,T,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T)).next(()=>m.localDocuments.getDocuments(v,T))})}(r.localStore,e);cA(r,e,t),aA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield dd(r,s)}catch(s){yield Wl(s)}}),sA.apply(this,arguments)}function oA(){return oA=(0,De.Z)(function*(n,e){const t=tt(n);Uh(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=tt(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const s=t.uc.get(r)||[];s.push(e),t.uc.set(r,s)}catch(r){const s=e_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),oA.apply(this,arguments)}function aA(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function cA(n,e,t){const r=tt(n);let s=r.oc[r.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),r.oc[r.currentUser.toKey()]=s}}function r_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||gS(n,r)})}function gS(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(iw(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),uA(n))}function lA(n,e,t){for(const r of t)r instanceof uS?(n.rc.addReference(r.key,e),Ck(n,r)):r instanceof dS?(je("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||gS(n,r.key)):lt()}function Ck(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(je("SyncEngine","New document in limbo: "+t),n.nc.add(r),uA(n))}function uA(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new We(tn.fromString(e)),r=n.cc.next();n.ic.set(r,new hk(t)),n.sc=n.sc.insert(t,r),Xb(n.remoteStore,new rc(io(pp(t.path)),r,2,Ls.ot))}}function dd(n,e,t){return dA.apply(this,arguments)}function dA(){return dA=(0,De.Z)(function*(n,e,t){const r=tt(n),s=[],l=[],d=[];var m;r.tc.isEmpty()||(r.tc.forEach((m,v)=>{d.push(r.hc(v,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,T.fromCache?"not-current":"current"),s.push(T);const S=_T.Vi(v.targetId,T);l.push(S)}}))}),yield Promise.all(d),r.Zu.Go(s),yield(m=(0,De.Z)(function*(v,T){const S=tt(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ue.forEach(T,H=>ue.forEach(H.Pi,q=>S.persistence.referenceDelegate.addReference(R,H.targetId,q)).next(()=>ue.forEach(H.vi,q=>S.persistence.referenceDelegate.removeReference(R,H.targetId,q)))))}catch(R){if(!Kl(R))throw R;je("LocalStore","Failed to update sequence numbers: "+R)}for(const R of T){const H=R.targetId;if(!R.fromCache){const q=S.$i.get(H),Me=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);S.$i=S.$i.insert(H,Me)}}}),function(v,T){return m.apply(this,arguments)})(r.localStore,l))}),dA.apply(this,arguments)}function bk(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,De.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=yield $M(t.localStore,e);t.currentUser=e,(s=t).uc.forEach(d=>{d.forEach(m=>{m.reject(new Fe(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield dd(t,r.Ki)}var s}),hA.apply(this,arguments)}function Ek(n,e){const t=tt(n),r=t.ic.get(e);if(r&&r.Xu)return zt().add(r.key);{let s=zt();const l=t.ec.get(e);if(!l)return s;for(const d of l){const m=t.tc.get(d);s=s.unionWith(m.view.qu)}return s}}function Ik(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,De.Z)(function*(n,e){const t=tt(n),r=yield Kb(t.localStore,e.query,!0),s=e.view.Ju(r);return t.isPrimaryClient&&lA(t,e.targetId,s.zu),s}),fA.apply(this,arguments)}function Dk(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,De.Z)(function*(n,e){const t=tt(n);return zM(t.localStore,e).then(r=>dd(t,r))}),pA.apply(this,arguments)}function Tk(n,e,t,r){return gA.apply(this,arguments)}function gA(){return gA=(0,De.Z)(function*(n,e,t,r){const s=tt(n),l=yield function(d,m){const v=tt(d),T=tt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>T.yn(S,m).next(R=>R?v.localDocuments.getDocuments(S,R):ue.resolve(null)))}(s.localStore,e);var m;null!==l?("pending"===t?yield Qm(s.remoteStore):"acknowledged"===t||"rejected"===t?(cA(s,e,r||null),aA(s,e),m=e,tt(tt(s.localStore).mutationQueue).In(m)):lt(),yield dd(s,l)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),gA.apply(this,arguments)}function mA(){return mA=(0,De.Z)(function*(n,e){const t=tt(n);if(wA(t),CA(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield mS(t,r.toArray());t.ac=!0,yield HT(t.remoteStore,!0);for(const l of s)Xb(t.remoteStore,l)}else if(!1===e&&!1!==t.ac){const r=[];let s=Promise.resolve();t.ec.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):s=s.then(()=>(r_(t,d),Ym(t.localStore,d,!0))),iw(t.remoteStore,d)}),yield s,yield mS(t,r),function(l){const d=tt(l);d.ic.forEach((m,v)=>{iw(d.remoteStore,v)}),d.rc.cs(),d.ic=new Map,d.sc=new tr(We.comparator)}(t),t.ac=!1,yield HT(t.remoteStore,!1)}}),mA.apply(this,arguments)}function mS(n,e,t){return _A.apply(this,arguments)}function _A(){return _A=(0,De.Z)(function*(n,e,t){const r=tt(n),s=[],l=[];for(const d of e){let m;const v=r.ec.get(d);if(v&&0!==v.length){m=yield Km(r.localStore,io(v[0]));for(const T of v){const S=r.tc.get(T),R=yield Ik(r,S);R.snapshot&&l.push(R.snapshot)}}else{const T=yield ZM(r.localStore,d);m=yield Km(r.localStore,T),yield QT(r,_S(T),d,!1)}s.push(m)}return r.Zu.Go(l),s}),_A.apply(this,arguments)}function _S(n){return xv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function xk(n){const e=tt(n);return tt(tt(e.localStore).persistence).Ri()}function Mk(n,e,t,r){return yA.apply(this,arguments)}function yA(){return yA=(0,De.Z)(function*(n,e,t,r){const s=tt(n);if(s.ac)return void je("SyncEngine","Ignoring unexpected query state notification.");const l=s.ec.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield zM(s.localStore,Eb(l[0])),m=Cp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield dd(s,d,m);break}case"rejected":yield Ym(s.localStore,e,!0),r_(s,e,r);break;default:lt()}}),yA.apply(this,arguments)}function Sk(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,De.Z)(function*(n,e,t){const r=wA(n);if(r.ac){for(const s of e){if(r.ec.has(s)){je("SyncEngine","Adding an already active target "+s);continue}const l=yield ZM(r.localStore,s),d=yield Km(r.localStore,l);yield QT(r,_S(l),d.targetId,!1),Xb(r.remoteStore,d)}for(const s of t)r.ec.has(s)&&(yield Ym(r.localStore,s,!1).then(()=>{iw(r.remoteStore,s),r_(r,s)}).catch(Wl))}}),vA.apply(this,arguments)}function wA(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ek.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_k.bind(null,e),e.Zu.Go=ak.bind(null,e.eventManager),e.Zu.lc=ck.bind(null,e.eventManager),e}function CA(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vk.bind(null,e),e}class yS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,De.Z)(function*(){t.wt=nw(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return HM(this.persistence,new jM,e.initialUser,this.wt)}_c(e){return new VM(zb.Os,this.wt)}dc(e){return new JM}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vS extends yS{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield CA(r.yc.syncEngine),yield Qm(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return HM(this.persistence,new jM,e.initialUser,this.wt)}mc(e,t){return new CO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new db(t,this.persistence);return new pv(e.asyncQueue,r)}_c(e){const t=mT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Lo.withCacheSize(this.cacheSizeBytes):Lo.DEFAULT;return new gT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,XM(),Qb(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new JM}}class Ok extends vS{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield t().call(r,e);const s=r.yc.syncEngine;r.sharedClientState instanceof DT&&(r.sharedClientState.syncEngine={kr:Tk.bind(null,s),Mr:Mk.bind(null,s),Or:Sk.bind(null,s),Ri:xk.bind(null,s),Nr:Dk.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var l=(0,De.Z)(function*(d){yield function Ak(n,e){return mA.apply(this,arguments)}(r.yc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}dc(e){const t=XM();if(!DT.V(t))throw new Fe(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=mT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new DT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class bA{initialize(e,t){var r=this;return(0,De.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>pS(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=bk.bind(null,r.syncEngine),yield HT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ok}createDatastore(e){const t=nw(e.databaseInfo.databaseId),r=new qO(e.databaseInfo);return new zO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,l=m=>pS(this.syncEngine,m,0),d=QM.V()?new QM:new jO,new KO(t,r,s,l,d);var t,r,s,l,d}createSyncEngine(e,t){return function(r,s,l,d,m,v,T){const S=new fk(r,s,l,d,m,v);return T&&(S.ac=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,De.Z)(function*(t){const r=tt(t);je("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Jm(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function wS(n,e=10240){let t=0;return{read:()=>(0,De.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class tE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class kk{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new di,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,De.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),s=Number(r);isNaN(s)&&e.Pc(`length string (${r}) is not valid number`);const l=yield e.vc(s);return new lk(JSON.parse(l),t.length+s)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,De.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,De.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,De.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Rk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,De.Z)(function*(l,d){const m=tt(l),v=Rh(m.wt)+"/documents",T={documents:d.map(q=>Ip(m.wt,q))},S=yield m.ao("BatchGetDocuments",v,T,d.length),R=new Map;S.forEach(q=>{const te=function Gv(n,e){return"found"in e?function(t,r){Nt(!!r.found);const s=nc(t,r.found.name),l=zr(r.found.updateTime),d=new Fi({mapValue:{fields:r.found.fields}});return xn.newFoundDocument(s,l,d)}(n,e):"missing"in e?function(t,r){Nt(!!r.missing),Nt(!!r.readTime);const s=nc(t,r.missing),l=zr(r.readTime);return xn.newNoDocument(s,l)}(n,e):lt()}(m.wt,q);R.set(te.key.toString(),te)});const H=[];return d.forEach(q=>{const te=R.get(q.toString());Nt(!!te),H.push(te)}),H}),function(l,d){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new eu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const l=We.fromPath(s);e.mutations.push(new vp(l,e.precondition(l)))}),yield(r=(0,De.Z)(function*(s,l){const d=tt(s),m=Rh(d.wt)+"/documents",v={writes:l.map(T=>Nh(d.wt,T))};yield d.ro("Commit",m,v)}),function(s,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lt();t=St.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?fr.updateTime(t):fr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new Fe(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fr.updateTime(t)}return fr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Nk{constructor(e,t,r,s,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=l,this.Dc=r.maxAttempts,this.So=new TT(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,De.Z)(function*(){const t=new Rk(e.datastore),r=e.xc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(l=>{e.Nc(l)}))}).catch(s=>{e.Nc(s)})}))}xc(e){try{const t=this.updateFunction(e);return!xh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Lv(t)}return!1}}class Fk{constructor(e,t,r,s){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Ri.UNAUTHENTICATED,this.clientId=sb.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,De.Z)(function*(m){je("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(je("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=e_(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function CS(n,e){return EA.apply(this,arguments)}function EA(){return EA=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,De.Z)(function*(l){r.isEqual(l)||(yield $M(e.localStore,l),r=l)});return function(l){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),EA.apply(this,arguments)}function bS(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield DA(n);je("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>oS(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,l)=>oS(e.remoteStore,l)),n.onlineComponents=e}),IA.apply(this,arguments)}function DA(n){return TA.apply(this,arguments)}function TA(){return TA=(0,De.Z)(function*(n){return n.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield CS(n,new yS)),n.offlineComponents}),TA.apply(this,arguments)}function nE(n){return AA.apply(this,arguments)}function AA(){return AA=(0,De.Z)(function*(n){return n.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield bS(n,new bA)),n.onlineComponents}),AA.apply(this,arguments)}function ES(n){return DA(n).then(e=>e.persistence)}function rE(n){return DA(n).then(e=>e.localStore)}function IS(n){return nE(n).then(e=>e.remoteStore)}function xA(n){return nE(n).then(e=>e.syncEngine)}function i_(n){return MA.apply(this,arguments)}function MA(){return MA=(0,De.Z)(function*(n){const e=yield nE(n),t=e.eventManager;return t.onListen=pk.bind(null,e.syncEngine),t.onUnlisten=gk.bind(null,e.syncEngine),t}),MA.apply(this,arguments)}function DS(n,e,t={}){const r=new di;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(s,l,d,m,v){const T=new tE({next:R=>{l.enqueueAndForget(()=>zT(s,S));const H=R.docs.has(d);!H&&R.fromCache?v.reject(new Fe(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&R.fromCache&&m&&"server"===m.source?v.reject(new Fe(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(R)},error:R=>v.reject(R)}),S=new YT(pp(d.path),T,{includeMetadataChanges:!0,Du:!0});return GT(s,S)}(yield i_(n),n.asyncQueue,e,t,r)})),r.promise}function TS(n,e,t={}){const r=new di;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(s,l,d,m,v){const T=new tE({next:R=>{l.enqueueAndForget(()=>zT(s,S)),R.fromCache&&"server"===m.source?v.reject(new Fe(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(R)},error:R=>v.reject(R)}),S=new YT(d,T,{includeMetadataChanges:!0,Du:!0});return GT(s,S)}(yield i_(n),n.asyncQueue,e,t,r)})),r.promise}const AS=new Map;function SA(n,e,t){if(!t)throw new Fe(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xS(n,e,t,r){if(!0===e&&!0===r)throw new Fe(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function MS(n){if(!We.isDocumentKey(n))throw new Fe(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SS(n){if(We.isDocumentKey(n))throw new Fe(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":lt()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=iE(n);throw new Fe(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function PS(n,e){if(e<=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class OS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,xS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sw{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OS({}),this._settingsFrozen=!1,e instanceof va?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Fe(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new va(s.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new UD;switch(t.type){case"gapi":const r=t.client;return Nt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new rb(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=AS.get(e);t&&(je("ComponentProvider","Removing Datastore"),AS.delete(e),t.terminate())}(this),Promise.resolve()}}class nr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nr(this.firestore,e,this._key)}}class Bs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class iu extends Bs{constructor(e,t,r){super(e,t,pp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new We(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function kS(n,e,...t){if(n=(0,Rt.m9)(n),SA("collection","path",e),n instanceof sw){const r=tn.fromString(e,...t);return SS(r),new iu(n,null,r)}{if(!(n instanceof nr||n instanceof iu))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return SS(r),new iu(n.firestore,null,r)}}function sE(n,e,...t){if(n=(0,Rt.m9)(n),1===arguments.length&&(e=sb.I()),SA("doc","path",e),n instanceof sw){const r=tn.fromString(e,...t);return MS(r),new nr(n,null,new We(r))}{if(!(n instanceof nr||n instanceof iu))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return MS(r),new nr(n.firestore,n instanceof iu?n.converter:null,new We(r))}}function RS(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),(n instanceof nr||n instanceof iu)&&(e instanceof nr||e instanceof iu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function NS(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),n instanceof Bs&&e instanceof Bs&&n.firestore===e.firestore&&_p(n._query,e._query)&&n.converter===e.converter}class zk{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new TT(this,"async_queue_retry"),this.Kc=()=>{const t=Qb();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Qb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=Qb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new di;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,De.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!Kl(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,ur("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const s=qT.createAndSchedule(this,e,t,r,l=>this.Wc(l));return this.$c.push(s),s}Gc(){this.Bc&&lt()}verifyOperationInProgress(){}zc(){var e=this;return(0,De.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function PA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class Wk{constructor(){this._progressObserver={},this._taskCompletionResolver=new di,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class pr extends sw{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new zk,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||FS(this),this._firestoreClient.terminate()}}function fi(n){return n._firestoreClient||FS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function FS(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new qD(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new Fk(n._authCredentials,n._appCheckCredentials,n._queue,r)}function LS(n,e,t){const r=new di;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield CS(n,t),yield bS(n,e),r.resolve()}catch(s){const l=s;if(!("FirebaseError"===(d=l).name?d.code===_e.FAILED_PRECONDITION||d.code===_e.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;Hc("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var d})).then(()=>r.promise)}function US(n){if(n._initialized||n._terminated)throw new Fe(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class su{constructor(e){this._byteString=e}static fromBase64String(e){try{return new su(Zr.fromBase64String(e))}catch(t){throw new Fe(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new su(Zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bp{constructor(e){this._methodName=e}}class oE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}const iR=/^__.*__$/;class sR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ec(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xl(e,this.data,t,this.fieldTransforms)}}class VS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ec(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class aE{constructor(e,t,r,s,l,d){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=s,void 0===l&&this.Xc(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new aE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ta({path:r,na:!1});return s.sa(e),s}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ta({path:r,na:!1});return s.Xc(),s}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return uE(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(BS(this.Zc)&&iR.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class oR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||nw(e)}aa(e,t,r,s=!1){return new aE({Zc:e,methodName:t,ca:r,path:dr.emptyPath(),na:!1,ua:s},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function jp(n){const e=n._freezeSettings(),t=nw(n._databaseId);return new oR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function cE(n,e,t,r,s,l={}){const d=n.aa(l.merge||l.mergeFields?2:0,e,t,s);NA("Data must be an object, but it was:",d,r);const m=$S(r,d);let v,T;if(l.merge)v=new hi(d.fieldMask),T=d.fieldTransforms;else if(l.mergeFields){const S=[];for(const R of l.mergeFields){const H=FA(e,R,t);if(!d.contains(H))throw new Fe(_e.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);GS(S,H)||S.push(H)}v=new hi(S),T=d.fieldTransforms.filter(R=>v.covers(R.field))}else v=null,T=d.fieldTransforms;return new sR(new Fi(m),v,T)}class ow extends Bp{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ow}}function jS(n,e,t){return new aE({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class OA extends Bp{_toFieldTransform(e){return new kh(e.path,new ad)}isEqual(e){return e instanceof OA}}class aR extends Bp{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=jS(this,e,!0),r=this.ha.map(l=>Hp(l,t)),s=new cd(r);return new kh(e.path,s)}isEqual(e){return this===e}}class cR extends Bp{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=jS(this,e,!0),r=this.ha.map(l=>Hp(l,t)),s=new ld(r);return new kh(e.path,s)}isEqual(e){return this===e}}class lR extends Bp{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new Oh(e.wt,Nm(e.wt,this.la));return new kh(e.path,t)}isEqual(e){return this===e}}function kA(n,e,t,r){const s=n.aa(1,e,t);NA("Data must be an object, but it was:",s,r);const l=[],d=Fi.empty();Yl(r,(v,T)=>{const S=lE(e,v,t);T=(0,Rt.m9)(T);const R=s.ia(S);if(T instanceof ow)l.push(S);else{const H=Hp(T,R);null!=H&&(l.push(S),d.set(S,H))}});const m=new hi(l);return new VS(d,m,s.fieldTransforms)}function RA(n,e,t,r,s,l){const d=n.aa(1,e,t),m=[FA(e,r,t)],v=[s];if(l.length%2!=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<l.length;H+=2)m.push(FA(e,l[H])),v.push(l[H+1]);const T=[],S=Fi.empty();for(let H=m.length-1;H>=0;--H)if(!GS(T,m[H])){const q=m[H];let te=v[H];te=(0,Rt.m9)(te);const Me=d.ia(q);if(te instanceof ow)T.push(q);else{const Le=Hp(te,Me);null!=Le&&(T.push(q),S.set(q,Le))}}const R=new hi(T);return new VS(S,R,d.fieldTransforms)}function HS(n,e,t,r=!1){return Hp(t,n.aa(r?4:3,e))}function Hp(n,e){if(qS(n=(0,Rt.m9)(n)))return NA("Unsupported field value:",e,n),$S(n,e);if(n instanceof Bp)return function(t,r){if(!BS(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const s=[];let l=0;for(const d of t){let m=Hp(d,r.ra(l));null==m&&(m={nullValue:"NULL_VALUE"}),s.push(m),l++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,Rt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Nm(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=Gn.fromDate(t);return{timestampValue:qm(r.wt,s)}}if(t instanceof Gn){const s=new Gn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:qm(r.wt,s)}}if(t instanceof oE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof su)return{bytesValue:rT(r.wt,t._byteString)};if(t instanceof nr){const s=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(s))throw r.oa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Hv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${iE(t)}`)}(n,e)}function $S(n,e){const t={};return hb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yl(n,(r,s)=>{const l=Hp(s,e.ea(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function qS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Gn||n instanceof oE||n instanceof su||n instanceof nr||n instanceof Bp)}function NA(n,e,t){if(!qS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=iE(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function FA(n,e,t){if((e=(0,Rt.m9)(e))instanceof hd)return e._internalPath;if("string"==typeof e)return lE(n,e);throw uE("Field path arguments must be of type string or ",n,!1,void 0,t)}const uR=new RegExp("[~\\*/\\[\\]]");function lE(n,e,t){if(e.search(uR)>=0)throw uE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hd(...e.split("."))._internalPath}catch(r){throw uE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uE(n,e,t,r,s){const l=r&&!r.isEmpty(),d=void 0!==s;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(l||d)&&(v+=" (found",l&&(v+=` in field ${r}`),d&&(v+=` in document ${s}`),v+=")"),new Fe(_e.INVALID_ARGUMENT,m+n+v)}function GS(n,e){return n.some(t=>t.isEqual(e))}class aw{constructor(e,t,r,s,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dR extends aw{data(){return super.data()}}function dE(n,e){return"string"==typeof e?lE(n,e):e instanceof hd?e._internalPath:e._delegate._internalPath}class $p{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fd extends aw{constructor(e,t,r,s,l,d){super(e,t,r,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class cw extends fd{data(e={}){return super.data(e)}}class Bh{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new $p(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new cw(this._firestore,this._userDataWriter,r.key,r,new $p(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new cw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new $p(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const m=new cw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new $p(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,T=-1;return 0!==d.type&&(v=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),T=l.indexOf(d.doc.key)),{type:hR(d.type),doc:m,oldIndex:v,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function ZS(n,e){return n instanceof fd&&e instanceof fd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Bh&&e instanceof Bh&&n._firestore===e._firestore&&NS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function zS(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lw{}function jh(n,...e){for(const t of e)n=t._apply(n);return n}class fR extends lw{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=jp(e.firestore),r=function(s,l,d,m,v,T,S){let R;if(v.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){XS(S,T);const q=[];for(const te of S)q.push(QS(m,s,te));R={arrayValue:{values:q}}}else R=QS(m,s,S)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||XS(S,T),R=HS(d,"where",S,"in"===T||"not-in"===T);const H=Yi.create(v,T,R);return function(q,te){if(te.ht()){const Le=gp(q);if(null!==Le&&!Le.isEqual(te.field))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Le.toString()}' and '${te.field.toString()}'`);const ot=Mv(q);null!==ot&&e1(0,te.field,ot)}const Me=function(Le,ot){for(const bt of Le.filters)if(ot.indexOf(bt.op)>=0)return bt.op;return null}(q,function(Le){switch(Le){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(te.op));if(null!==Me)throw new Fe(_e.INVALID_ARGUMENT,Me===te.op?`Invalid query. You cannot use more than one '${te.op.toString()}' filter.`:`Invalid query. You cannot use '${te.op.toString()}' filters with '${Me.toString()}' filters.`)}(s,H),H}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Bs(e.firestore,e.converter,function(s,l){const d=s.filters.concat([l]);return new Zc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),d,s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}class gR extends lw{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,s,l){if(null!==r.startAt)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new od(s,l);return function(m,v){if(null===Mv(m)){const T=gp(m);null!==T&&e1(0,T,v.field)}}(r,d),d}(e._query,this.fa,this.wa);return new Bs(e.firestore,e.converter,function(r,s){const l=r.explicitOrderBy.concat([s]);return new Zc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class WS extends lw{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new Bs(e.firestore,e.converter,Pv(e._query,this.ma,this.ga))}}class KS extends lw{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=JS(e,this.type,this.ya,this.pa);return new Bs(e.firestore,e.converter,(s=t,new Zc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class YS extends lw{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=JS(e,this.type,this.ya,this.pa);return new Bs(e.firestore,e.converter,(s=t,new Zc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function JS(n,e,t,r){if(t[0]=(0,Rt.m9)(t[0]),t[0]instanceof aw)return function(s,l,d,m,v){if(!m)throw new Fe(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const T=[];for(const S of mp(s))if(S.field.isKeyField())T.push(qc(l,m.key));else{const R=m.data.field(S.field);if(mv(R))throw new Fe(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const H=S.field.canonicalString();throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}T.push(R)}return new Gc(T,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=jp(n.firestore);return function(l,d,m,v,T,S){const R=l.explicitOrderBy;if(T.length>R.length)throw new Fe(_e.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let q=0;q<T.length;q++){const te=T[q];if(R[q].field.isKeyField()){if("string"!=typeof te)throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof te}`);if(!Sv(l)&&-1!==te.indexOf("/"))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${te}' contains a slash.`);const Me=l.path.child(tn.fromString(te));if(!We.isDocumentKey(Me))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const Le=new We(Me);H.push(qc(d,Le))}else{const Me=HS(m,v,te);H.push(Me)}}return new Gc(H,S)}(n._query,n.firestore._databaseId,s,e,t,r)}}function QS(n,e,t){if("string"==typeof(t=(0,Rt.m9)(t))){if(""===t)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sv(e)&&-1!==t.indexOf("/"))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tn.fromString(t));if(!We.isDocumentKey(r))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qc(n,new We(r))}if(t instanceof nr)return qc(n,t._key);throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iE(t)}.`)}function XS(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function e1(n,e,t){if(!t.isEqual(e))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const ER={maxAttempts:5};class LA{convertValue(e,t="none"){switch(Jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lt()}}convertObject(e,t){const r={};return Yl(e.fields,(s,l)=>{r[s]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new oE(hr(e.latitude),hr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_v(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ap(e));default:return null}}convertTimestamp(e){const t=No(e);return new Gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tn.fromString(e);Nt(lT(r));const s=new va(r.get(1),r.get(3)),l=new We(r.popFirst(5));return s.isEqual(t)||ur(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function hE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class IR extends LA{constructor(e){super(),this.firestore=e}convertBytes(e){return new su(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}class t1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jp(e)}set(e,t,r){this._verifyNotCommitted();const s=Hh(e,this._firestore),l=hE(s.converter,t,r),d=cE(this._dataReader,"WriteBatch.set",s._key,l,null!==s.converter,r);return this._mutations.push(d.toMutation(s._key,fr.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const l=Hh(e,this._firestore);let d;return d="string"==typeof(t=(0,Rt.m9)(t))||t instanceof hd?RA(this._dataReader,"WriteBatch.update",l._key,t,r,s):kA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hh(e,this._firestore);return this._mutations=this._mutations.concat(new eu(t._key,fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hh(n,e){if((n=(0,Rt.m9)(n)).firestore!==e)throw new Fe(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class qp extends LA{constructor(e){super(),this.firestore=e}convertBytes(e){return new su(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}function n1(n,e,t){n=dn(n,nr);const r=dn(n.firestore,pr),s=hE(n.converter,e,t);return s_(r,[cE(jp(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,fr.none())])}function r1(n,e,t,...r){n=dn(n,nr);const s=dn(n.firestore,pr),l=jp(s);let d;return d="string"==typeof(e=(0,Rt.m9)(e))||e instanceof hd?RA(l,"updateDoc",n._key,e,t,r):kA(l,"updateDoc",n._key,e),s_(s,[d.toMutation(n._key,fr.exists(!0))])}function s1(n,...e){var t,r,s;n=(0,Rt.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||PA(e[d])||(l=e[d],d++);const m={includeMetadataChanges:l.includeMetadataChanges};if(PA(e[d])){const R=e[d];e[d]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[d+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[d+2]=null===(s=R.complete)||void 0===s?void 0:s.bind(R)}let v,T,S;if(n instanceof nr)T=dn(n.firestore,pr),S=pp(n._key.path),v={next:R=>{e[d]&&e[d](UA(T,n,R))},error:e[d+1],complete:e[d+2]};else{const R=dn(n,Bs);T=dn(R.firestore,pr),S=R._query;const H=new qp(T);v={next:q=>{e[d]&&e[d](new Bh(T,H,R,q))},error:e[d+1],complete:e[d+2]},zS(n._query)}return function(R,H,q,te){const Me=new tE(te),Le=new YT(H,Me,q);return R.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return GT(yield i_(R),Le)})),()=>{Me.Tc(),R.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return zT(yield i_(R),Le)}))}}(fi(T),S,m,v)}function s_(n,e){return function(t,r){const s=new di;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function mk(n,e,t){return tA.apply(this,arguments)}(yield xA(t),r,s)})),s.promise}(fi(n),e)}function UA(n,e,t){const r=t.docs.get(e._key),s=new qp(n);return new fd(n,s,e._key,r,new $p(t.hasPendingWrites,t.fromCache),e.converter)}class RR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=jp(e)}get(e){const t=Hh(e,this._firestore),r=new IR(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return lt();const l=s[0];if(l.isFoundDocument())return new aw(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new aw(this._firestore,r,t._key,null,t.converter);throw lt()})}set(e,t,r){const s=Hh(e,this._firestore),l=hE(s.converter,t,r),d=cE(this._dataReader,"Transaction.set",s._key,l,null!==s.converter,r);return this._transaction.set(s._key,d),this}update(e,t,r,...s){const l=Hh(e,this._firestore);let d;return d="string"==typeof(t=(0,Rt.m9)(t))||t instanceof hd?RA(this._dataReader,"Transaction.update",l._key,t,r,s):kA(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Hh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hh(e,this._firestore),r=new qp(this._firestore);return super.get(e).then(s=>new fd(this._firestore,r,t._key,s._document,new $p(!1,!1),t.converter))}}function VA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function a1(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function c1(){if(!function $D(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ed=Xs.SDK_VERSION,(0,Xs._registerComponent)(new wf.wA("firestore",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),l=new pr(s,new tb(t.getProvider("auth-internal")),new ib(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Xs.registerVersion)(Xu,"3.4.14",n),(0,Xs.registerVersion)(Xu,"3.4.14","esm2017")}();class uw{constructor(e){this._delegate=e}static fromBase64String(e){return c1(),new uw(su.fromBase64String(e))}static fromUint8Array(e){return a1(),new uw(su.fromUint8Array(e))}toBase64(){return c1(),this._delegate.toBase64()}toUint8Array(){return a1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function BA(n){return function $R(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class qR{enableIndexedDbPersistence(e,t){return function Yk(n,e){US(n=dn(n,pr));const t=fi(n),r=n._freezeSettings(),s=new bA;return LS(t,s,new vS(s,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Jk(n){US(n=dn(n,pr));const e=fi(n),t=n._freezeSettings(),r=new bA;return LS(e,r,new Ok(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Qk(n){if(n._initialized&&!n._terminated)throw new Fe(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new di;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(t=(0,De.Z)(function*(r){if(!Ro.V())return Promise.resolve();const s=r+"main";yield Ro.delete(s)}),function(r){return t.apply(this,arguments)})(mT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class l1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof va||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Hc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Gk(n,e,t,r={}){var s;const l=(n=dn(n,sw))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Hc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Ri.MOCK_USER;else{d=(0,Rt.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Fe(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ri(v)}n._authCredentials=new np(new eb(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function eR(n){return function Lk(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield ES(n),t=yield IS(n);return e.setNetworkEnabled(!0),function(r){const s=tt(r);return s.lu.delete(0),rw(s)}(t)}))}(fi(n=dn(n,pr)))}(this._delegate)}disableNetwork(){return function tR(n){return function Uk(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield ES(n),t=yield IS(n);return e.setNetworkEnabled(!1),(r=(0,De.Z)(function*(s){const l=tt(s);l.lu.add(0),yield Jm(l),l._u.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(fi(n=dn(n,pr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,xS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Xk(n){return function(e){const t=new di;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function wk(n,e){return oA.apply(this,arguments)}(yield xA(e),t)})),t.promise}(fi(n=dn(n,pr)))}(this._delegate)}onSnapshotsInSync(e){return function kR(n,e){return function jk(n,e){const t=new tE(e);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield i_(n),s=t,tt(r).Tu.add(s),void s.next();var r,s})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield i_(n),s=t,void tt(r).Tu.delete(s);var r,s}))}}(fi(n=dn(n,pr)),PA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new o_(this,kS(this._delegate,e))}catch(t){throw oo(t,"collection()","Firestore.collection()")}}doc(e){try{return new ic(this,sE(this._delegate,e))}catch(t){throw oo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ao(this,function Zk(n,e){if(n=dn(n,sw),SA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bs(n,null,(t=e,new Zc(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw oo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function NR(n,e,t){n=dn(n,pr);const r=Object.assign(Object.assign({},ER),t);return function(s){if(s.maxAttempts<1)throw new Fe(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function Hk(n,e,t){const r=new di;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const s=yield(l=n,nE(l).then(d=>d.datastore));var l;new Nk(n.asyncQueue,s,t,e,r).run()})),r.promise}(fi(n),s=>e(new RR(n,s)),r)}(this._delegate,t=>e(new u1(this,t)))}batch(){return fi(this._delegate),new d1(new t1(this._delegate,e=>s_(this._delegate,e)))}loadBundle(e){return function nR(n,e){const t=fi(n=dn(n,pr)),r=new Wk;return function $k(n,e,t,r){const s=function(l,d){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,T){if(v instanceof Uint8Array)return wS(v,T);if(v instanceof ArrayBuffer)return wS(new Uint8Array(v),T);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new kk(v,d);var v}(t,nw(e));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function Pk(n,e,t){const r=tt(n);var s;(s=(0,De.Z)(function*(l,d,m){try{const v=yield d.getMetadata();if(yield function(H,q){const te=tt(H),Me=zr(q.createTime);return te.persistence.runTransaction("hasNewerBundle","readonly",Le=>te.Ds.getBundleMetadata(Le,q.id)).then(Le=>!!Le&&Le.createTime.compareTo(Me)>=0)}(l.localStore,v))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(H=v).totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}),Promise.resolve(new Set);m._updateProgress(lS(v));const T=new uk(v,l.localStore,d.wt);let S=yield d.fc();for(;S;){const H=yield T.Nu(S);H&&m._updateProgress(H),S=yield d.fc()}const R=yield T.complete();return yield dd(l,R.Ou,void 0),yield function(H,q){const te=tt(H);return te.persistence.runTransaction("Save bundle","readwrite",Me=>te.Ds.saveBundleMetadata(Me,q))}(l.localStore,v),m._completeWith(R.progress),Promise.resolve(R.Mu)}catch(v){return Hc("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var H}),function(l,d,m){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield xA(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function rR(n,e){return function qk(n,e){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(t,r){const s=tt(t);return s.persistence.runTransaction("Get named query","readonly",l=>s.Ds.getNamedQuery(l,r))}(yield rE(n),e)}))}(fi(n=dn(n,pr)),e).then(t=>t?new Bs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ao(this,t):null)}}class fE extends LA{constructor(e){super(),this.firestore=e}convertBytes(e){return new uw(new su(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ic.forKey(t,this.firestore,null)}}class u1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new fE(e)}get(e){const t=Zp(e);return this._delegate.get(t).then(r=>new dw(this._firestore,new fd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=Zp(e);return r?(VA("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const l=Zp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...s),this}delete(e){const t=Zp(e);return this._delegate.delete(t),this}}class d1{constructor(e){this._delegate=e}set(e,t,r){const s=Zp(e);return r?(VA("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const l=Zp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...s),this}delete(e){const t=Zp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new cw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hw(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Gp.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let l=s.get(t);return l||(l=new Gp(e,new fE(e),t),s.set(t,l)),l}}Gp.INSTANCES=new WeakMap;class ic{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new fE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ic(t,new nr(t._delegate,r,new We(e)))}static forKey(e,t,r){return new ic(t,new nr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new o_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new o_(this.firestore,kS(this._delegate,e))}catch(t){throw oo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Rt.m9)(e))instanceof nr&&RS(this._delegate,e)}set(e,t){t=VA("DocumentReference.set",t);try{return t?n1(this._delegate,e,t):n1(this._delegate,e)}catch(r){throw oo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?r1(this._delegate,e):r1(this._delegate,e,t,...r)}catch(s){throw oo(s,"updateDoc()","DocumentReference.update()")}}delete(){return function PR(n){return s_(dn(n.firestore,pr),[new eu(n._key,fr.none())])}(this._delegate)}onSnapshot(...e){const t=h1(e),r=f1(e,s=>new dw(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return s1(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function TR(n){n=dn(n,nr);const e=dn(n.firestore,pr),t=fi(e),r=new qp(e);return function Vk(n,e){const t=new di;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(s,l,d){try{const m=yield function(v,T){const S=tt(v);return S.persistence.runTransaction("read document","readonly",R=>S.localDocuments.getDocument(R,T))}(s,l);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Fe(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=e_(m,`Failed to get document '${l} from cache`);d.reject(v)}}),function(s,l,d){return r.apply(this,arguments)})(yield rE(n),e,t);var r})),t.promise}(t,n._key).then(s=>new fd(e,r,n._key,s,new $p(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function AR(n){n=dn(n,nr);const e=dn(n.firestore,pr);return DS(fi(e),n._key,{source:"server"}).then(t=>UA(e,n,t))}(this._delegate):function DR(n){n=dn(n,nr);const e=dn(n.firestore,pr);return DS(fi(e),n._key).then(t=>UA(e,n,t))}(this._delegate),t.then(r=>new dw(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ic(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}function oo(n,e,t){return n.message=n.message.replace(e,t),n}function h1(n){for(const e of n)if("object"==typeof e&&!BA(e))return e;return{}}function f1(n,e){var t,r;let s;return s=BA(n[0])?n[0]:BA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{s.next&&s.next(e(l))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class dw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ic(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ZS(this._delegate,e._delegate)}}class hw extends dw{data(e){const t=this._delegate.data(e);return function LD(n,e){n||lt()}(void 0!==t),t}}class ao{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new fE(e)}where(e,t,r){try{return new ao(this.firestore,jh(this._delegate,function pR(n,e,t){const r=e,s=dE("where",n);return new fR(s,r,t)}(e,t,r)))}catch(s){throw oo(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ao(this.firestore,jh(this._delegate,function mR(n,e="asc"){const t=e,r=dE("orderBy",n);return new gR(r,t)}(e,t)))}catch(r){throw oo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ao(this.firestore,jh(this._delegate,function _R(n){return PS("limit",n),new WS("limit",n,"F")}(e)))}catch(t){throw oo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ao(this.firestore,jh(this._delegate,function yR(n){return PS("limitToLast",n),new WS("limitToLast",n,"L")}(e)))}catch(t){throw oo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ao(this.firestore,jh(this._delegate,function vR(...n){return new KS("startAt",n,!0)}(...e)))}catch(t){throw oo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ao(this.firestore,jh(this._delegate,function wR(...n){return new KS("startAfter",n,!1)}(...e)))}catch(t){throw oo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ao(this.firestore,jh(this._delegate,function CR(...n){return new YS("endBefore",n,!1)}(...e)))}catch(t){throw oo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ao(this.firestore,jh(this._delegate,function bR(...n){return new YS("endAt",n,!0)}(...e)))}catch(t){throw oo(t,"endAt()","Query.endAt()")}}isEqual(e){return NS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function MR(n){n=dn(n,Bs);const e=dn(n.firestore,pr),t=fi(e),r=new qp(e);return function Bk(n,e){const t=new di;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(s,l,d){try{const m=yield Kb(s,l,!0),v=new hS(l,m.ji),T=v.Ku(m.documents),S=v.applyChanges(T,!1);d.resolve(S.snapshot)}catch(m){const v=e_(m,`Failed to execute query '${l} against cache`);d.reject(v)}}),function(s,l,d){return r.apply(this,arguments)})(yield rE(n),e,t);var r})),t.promise}(t,n._query).then(s=>new Bh(e,r,n,s))}(this._delegate):"server"===(null==e?void 0:e.source)?function SR(n){n=dn(n,Bs);const e=dn(n.firestore,pr),t=fi(e),r=new qp(e);return TS(t,n._query,{source:"server"}).then(s=>new Bh(e,r,n,s))}(this._delegate):function xR(n){n=dn(n,Bs);const e=dn(n.firestore,pr),t=fi(e),r=new qp(e);return zS(n._query),TS(t,n._query).then(s=>new Bh(e,r,n,s))}(this._delegate),t.then(r=>new jA(this.firestore,new Bh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=h1(e),r=f1(e,s=>new jA(this.firestore,new Bh(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return s1(this._delegate,t,r)}withConverter(e){return new ao(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}class ZR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new hw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class jA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ao(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new hw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ZR(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new hw(this._firestore,r))})}isEqual(e){return ZS(this._delegate,e._delegate)}}class o_ extends ao{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ic(this.firestore,e):null}doc(e){try{return new ic(this.firestore,void 0===e?sE(this._delegate):sE(this._delegate,e))}catch(t){throw oo(t,"doc()","CollectionReference.doc()")}}add(e){return function OR(n,e){const t=dn(n.firestore,pr),r=sE(n),s=hE(n.converter,e);return s_(t,[cE(jp(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ic(this.firestore,t))}isEqual(e){return RS(this._delegate,e._delegate)}withConverter(e){return new o_(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}function Zp(n){return dn(n,nr)}class HA{constructor(...e){this._delegate=new hd(...e)}static documentId(){return new HA(dr.keyField().canonicalString())}isEqual(e){return(e=(0,Rt.m9)(e))instanceof hd&&this._delegate._internalPath.isEqual(e._internalPath)}}class zp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function LR(){return new OA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new zp(e)}static delete(){const e=function FR(){return new ow("deleteField")}();return e._methodName="FieldValue.delete",new zp(e)}static arrayUnion(...e){const t=function UR(...n){return new aR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new zp(t)}static arrayRemove(...e){const t=function VR(...n){return new cR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new zp(t)}static increment(e){const t=function BR(n){return new lR("increment",n)}(e);return t._methodName="FieldValue.increment",new zp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const zR={Firestore:l1,GeoPoint:oE,Timestamp:Gn,Blob:uw,Transaction:u1,WriteBatch:d1,DocumentReference:ic,DocumentSnapshot:dw,Query:ao,QueryDocumentSnapshot:hw,QuerySnapshot:jA,CollectionReference:o_,FieldPath:HA,FieldValue:zp,setLogLevel:function GR(n){!function XC(n){Zl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function KR(n){(function WR(n,e){n.INTERNAL.registerComponent(new wf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},zR)))})(n,(e,t)=>new l1(e,t,new qR)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(Bw.Z);var YR=F(6451),pE=F(5363),JR=F(6063);class QR extends b.x{constructor(e=1/0,t=1/0,r=JR.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!s&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,l=s.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,l=(s?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!s){const d=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=d;v+=2)m=v;m&&r.splice(0,m+1)}}}var XR=F(3099);function p1(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,XR.B)({connector:()=>new QR(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function g1(n,e){return(0,Io.m)(e)?Ln(()=>n,e):Ln(()=>n)}var $A=F(9468);const m1=new c.OlP("angularfire2.auth.use-emulator"),_1=new c.OlP("angularfire2.auth.settings"),y1=new c.OlP("angularfire2.auth.tenant-id"),v1=new c.OlP("angularfire2.auth.langugage-code"),w1=new c.OlP("angularfire2.auth.use-device-language"),C1=new c.OlP("angularfire.auth.persistence"),b1=(n,e,t,r,s,l,d,m)=>(0,us.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=s,l&&v.useDeviceLanguage(),d)for(const[T,S]of Object.entries(d))v.settings[T]=S;return m&&v.setPersistence(m),v},[t,r,s,l,d,m]);let gE=(()=>{class n{constructor(t,r,s,l,d,m,v,T,S,R,H,q){const te=new b.x,Me=at(void 0).pipe((0,pE.Q)(d.outsideAngular),Ln(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,1451)))),(0,vt.U)(()=>(0,us.on)(t,l,r)),(0,vt.U)(Le=>b1(Le,l,m,T,S,R,v,H)),p1({bufferSize:1,refCount:!1}));if(yo(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=at(null);else{Me.pipe(Ec()).subscribe();const ot=Me.pipe(Ln(dt=>dt.getRedirectResult().then(Ot=>Ot,()=>null)),Qn.iC,p1({bufferSize:1,refCount:!1})),bt=Me.pipe(Ln(dt=>new P.y(Ot=>({unsubscribe:l.runOutsideAngular(()=>dt.onAuthStateChanged($t=>Ot.next($t),$t=>Ot.error($t),()=>Ot.complete()))})))),Et=Me.pipe(Ln(dt=>new P.y(Ot=>({unsubscribe:l.runOutsideAngular(()=>dt.onIdTokenChanged($t=>Ot.next($t),$t=>Ot.error($t),()=>Ot.complete()))}))));this.authState=ot.pipe(g1(bt),(0,$A.R)(d.outsideAngular),(0,pE.Q)(d.insideAngular)),this.user=ot.pipe(g1(Et),(0,$A.R)(d.outsideAngular),(0,pE.Q)(d.insideAngular)),this.idToken=this.user.pipe(Ln(dt=>dt?(0,pn.D)(dt.getIdToken()):at(null))),this.idTokenResult=this.user.pipe(Ln(dt=>dt?(0,pn.D)(dt.getIdTokenResult()):at(null))),this.credential=(0,YR.T)(ot,te,this.authState.pipe(Tn(dt=>!dt))).pipe((0,vt.U)(dt=>(null==dt?void 0:dt.user)?dt:null),(0,$A.R)(d.outsideAngular),(0,pE.Q)(d.insideAngular))}return(0,us.pX)(this,Me,l,{spy:{apply:(Le,ot,bt)=>{(Le.startsWith("signIn")||Le.startsWith("createUser"))&&bt.then(Et=>te.next(Et))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(us.Dh),c.LFG(us.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Qn.HU),c.LFG(m1,8),c.LFG(_1,8),c.LFG(y1,8),c.LFG(v1,8),c.LFG(w1,8),c.LFG(C1,8),c.LFG(Wg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),tN=(()=>{class n{constructor(){YI.Z.registerVersion("angularfire",Qn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[gE]}),n})();function E1(n,e){return function nN(n,e=Xd.z){return new P.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function qA(n,e){return E1(n,e).pipe((0,vt.U)(t=>({payload:t,type:"query"})))}function mE(n,e){return qA(n,e).pipe(As(void 0),Jg(),(0,vt.U)(([t,r])=>{const s=r.payload.docChanges(),l=s.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const v=s.find(S=>S.doc.ref.isEqual(d.ref)),T=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&T&&JSON.stringify(T.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),l}))}function I1(n,e,t){return mE(n,t).pipe(ss((r,s)=>function iN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function sN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return GA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return GA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return GA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(l=>l.payload),e),[]),function dy(n,e=Cr.y){return n=null!=n?n:aC,(0,ar.e)((t,r)=>{let s,l=!0;t.subscribe((0,Or.x)(r,d=>{const m=e(d);(l||!n(s,m))&&(l=!1,s=m,r.next(d))}))})}(),(0,vt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function GA(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function D1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class T1{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=mE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,vt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(As(void 0),Jg(),Tn(([r,s])=>s.length>0||!r),(0,vt.U)(([r,s])=>s),Qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ss((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=D1(e);return I1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return qA(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Qn.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(Qn.iC)}add(e){return this.ref.add(e)}doc(e){return new A1(this.ref.doc(e),this.afs)}}class A1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:l}=x1(r,t);return new T1(s,l,this.afs)}snapshotChanges(){return function rN(n,e){return E1(n,e).pipe(As(void 0),Jg(),(0,vt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pn.D)(this.ref.get(e)).pipe(Qn.iC)}}class oN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?mE(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Tn(t=>t.length>0),Qn.iC):mE(this.query,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ss((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=D1(e);return I1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return qA(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Qn.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(Qn.iC)}}const aN=new c.OlP("angularfire2.enableFirestorePersistence"),cN=new c.OlP("angularfire2.firestore.persistenceSettings"),lN=new c.OlP("angularfire2.firestore.settings"),uN=new c.OlP("angularfire2.firestore.use-emulator");function x1(n,e=(t=>t)){return{query:e(n),ref:n}}let M1=(()=>{class n{constructor(t,r,s,l,d,m,v,T,S,R,H,q,te,Me,Le,ot,bt){this.schedulers=v;const Et=(0,us.on)(t,m,r),dt=S;R&&b1(Et,m,H,te,Me,Le,q,ot),[this.firestore,this.persistenceEnabled$]=(0,us.cc)(`${Et.name}.firestore`,"AngularFirestore",Et.name,()=>{const Ot=m.runOutsideAngular(()=>Et.firestore());if(l&&Ot.settings(l),dt&&Ot.useEmulator(...dt),s&&!yo(d)){const $t=()=>{try{return(0,pn.D)(Ot.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Dr){return"undefined"!=typeof console&&console.warn(Dr),at(!1)}};return[Ot,m.runOutsideAngular($t)]}return[Ot,at(!1)]},[l,dt,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=x1(s,r),m=this.schedulers.ngZone.run(()=>l);return new T1(m,d,this)}collectionGroup(t,r){const s=r||(d=>d),l=this.firestore.collectionGroup(t);return new oN(s(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new A1(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(us.Dh),c.LFG(us.xv,8),c.LFG(aN,8),c.LFG(lN,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Qn.HU),c.LFG(cN,8),c.LFG(uN,8),c.LFG(gE,8),c.LFG(m1,8),c.LFG(_1,8),c.LFG(y1,8),c.LFG(v1,8),c.LFG(w1,8),c.LFG(C1,8),c.LFG(Wg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fw=(()=>{class n{constructor(t){this.afs=t}addItem(t){return this.afs.collection("items").add(t)}getAllItemsByUid(t){return this.itemsRef=this.afs.collection("items",r=>r.where("uid","==",t).orderBy("createdDate","desc")),this.itemsRef.snapshotChanges().pipe((0,vt.U)(r=>r&&0!==r.length?r.map(s=>{const l=s.payload.doc.data();return Object.assign({id:s.payload.doc.id},l)}):[]))}getAllItemsByType(t){return this.itemsRef=this.afs.collection("items",r=>r.where("category","==",t).where("isPublished","==",!0).orderBy("createdDate","desc")),this.itemsRef.snapshotChanges().pipe((0,vt.U)(r=>r&&0!==r.length?r.map(s=>{const l=s.payload.doc.data();return Object.assign({id:s.payload.doc.id},l)}):[]))}getAllItemsByKeyword(t){return this.itemsRef=this.afs.collection("items",r=>r.where("searchKey","array-contains",t)),this.itemsRef.snapshotChanges().pipe((0,vt.U)(r=>r&&0!==r.length?r.map(s=>{const l=s.payload.doc.data();return Object.assign({id:s.payload.doc.id},l)}):[]))}getItem(t){return this.afs.collection("items").doc(t).ref.get()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(M1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S1=(()=>{class n{constructor(t,r){this.afAuth=t,this.afs=r}signIn(t,r){return this.afAuth.signInWithEmailAndPassword(t,r)}signUp(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r)}signOut(){return localStorage.clear(),this.afAuth.signOut()}forgotPassword(t){return this.afAuth.sendPasswordResetEmail(t)}setUserData(t,r,s){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,fullName:r,phone:s},{merge:!0})}getAuthState(){return this.afAuth.authState}getUser(t){return this.afs.collection("users").doc(t).ref.get()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gE),c.LFG(M1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",7),c.NdJ("click",function(){return c.CHM(t),c.oxw().goToDashboard()}),c._uU(1,"My Dashboard"),c.qZA()}}function hN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",7),c.NdJ("click",function(){return c.CHM(t),c.oxw().goToLogin()}),c._uU(1,"Login"),c.qZA()}}function fN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",7),c.NdJ("click",function(){return c.CHM(t),c.oxw().logout()}),c._uU(1,"Logout"),c.qZA()}}const pN=function(n,e){return{white:n,"dark-bg":e}};let $h=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.isLoggedIn=!1,this.isWhite=!1,this.isDarkBG=!1}ngOnInit(){this.isLoggedIn="true"===localStorage.getItem("isLoggedIn")}goToHome(){this.router.navigate(["home"])}goToLogin(){this.router.navigate(["login"])}goToSell(){this.router.navigate(["sell"])}goToList(t){this.router.navigate(["list",t])}goToDashboard(){this.router.navigate(["dashboard"])}goToHelp(){this.router.navigate(["help"])}logout(){this.auth.signOut().then(()=>{this.isLoggedIn=!1,localStorage.removeItem("isLoggedIn"),this.router.navigate(["home"])})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Rn),c.Y36(S1))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],inputs:{isWhite:"isWhite",isDarkBG:"isDarkBG"},decls:25,vars:7,consts:[[1,"header",3,"ngClass"],[1,"left"],[1,"logo",3,"click"],[1,"nav-item","shop"],[1,"shop-wrapper"],[1,"shop-item",3,"click"],[1,"shop-wrapper-arrow"],[1,"nav-item",3,"click"],[1,"middle"],["class","nav-item",3,"click",4,"ngIf"],[1,"right"],[1,"nav-item","border",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c.NdJ("click",function(){return r.goToHome()}),c._uU(3,"stillred"),c.qZA(),c.TgZ(4,"div",3),c._uU(5," Shop "),c.TgZ(6,"div",4)(7,"div",5),c.NdJ("click",function(){return r.goToList("sarees")}),c._uU(8,"Sarees"),c.qZA(),c.TgZ(9,"div",5),c.NdJ("click",function(){return r.goToList("lahenga")}),c._uU(10,"Lahenga"),c.qZA(),c.TgZ(11,"div",5),c.NdJ("click",function(){return r.goToList("suits")}),c._uU(12,"Suits / Anarkali Suits"),c.qZA(),c.TgZ(13,"div",5),c.NdJ("click",function(){return r.goToList("gowns")}),c._uU(14,"Gowns"),c.qZA()(),c._UZ(15,"div",6),c.qZA(),c.TgZ(16,"div",7),c.NdJ("click",function(){return r.goToHelp()}),c._uU(17,"Help"),c.qZA()(),c.TgZ(18,"div",8),c.YNc(19,dN,2,0,"div",9),c.qZA(),c.TgZ(20,"div",10),c.YNc(21,hN,2,0,"div",9),c.YNc(22,fN,2,0,"div",9),c.TgZ(23,"div",11),c.NdJ("click",function(){return r.goToSell()}),c._uU(24,"Sell"),c.qZA()()()),2&t&&(c.Q6J("ngClass",c.WLB(4,pN,r.isWhite,r.isDarkBG)),c.xp6(19),c.Q6J("ngIf",r.isLoggedIn),c.xp6(2),c.Q6J("ngIf",!r.isLoggedIn),c.xp6(1),c.Q6J("ngIf",r.isLoggedIn))},directives:[Yr,vn],styles:['.header[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100vw;height:70px;display:flex;align-items:center;justify-content:space-evenly;color:#fff;font-size:18px;font-weight:500}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{width:33.33%;display:flex;align-items:center}.header[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{justify-content:center}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{justify-content:right;margin-right:50px}.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-left:100px;margin-right:50px;cursor:pointer}.header[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{font-size:16px;margin-right:50px;cursor:pointer}.header[_ngcontent-%COMP%]   .nav-item.border[_ngcontent-%COMP%]{border:1px solid white;border-radius:4px;padding:8px 12px}.header[_ngcontent-%COMP%]   .nav-item.shop[_ngcontent-%COMP%]{margin-top:45px;height:70px}.header[_ngcontent-%COMP%]   .nav-item.shop[_ngcontent-%COMP%]   .shop-wrapper[_ngcontent-%COMP%]{display:none;position:absolute;top:65px;left:200px;width:200px;height:150px;background-color:#fff;border-radius:4px;padding:5px 20px;color:#000}.header[_ngcontent-%COMP%]   .nav-item.shop[_ngcontent-%COMP%]   .shop-wrapper[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]{margin:10px 0;font-size:15px;color:#3f3f3f;cursor:pointer}.header[_ngcontent-%COMP%]   .nav-item.shop[_ngcontent-%COMP%]   .shop-wrapper[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]:hover{color:#000}.header[_ngcontent-%COMP%]   .nav-item.shop[_ngcontent-%COMP%]   .shop-wrapper-arrow[_ngcontent-%COMP%]{display:none;position:absolute;top:55px;left:220px;content:"";border-width:11px;width:0;height:0;border-color:transparent;border-bottom-color:#fff;border-style:solid;border-top-width:0}.header[_ngcontent-%COMP%]   .nav-item.shop[_ngcontent-%COMP%]:hover   .shop-wrapper[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .nav-item.shop[_ngcontent-%COMP%]:hover   .shop-wrapper-arrow[_ngcontent-%COMP%]{display:block}.header.white[_ngcontent-%COMP%]{color:#000}.header.white[_ngcontent-%COMP%]   .nav-item.border[_ngcontent-%COMP%]{border:1px solid #000}.header.dark-bg[_ngcontent-%COMP%]{color:#fff;background-color:#0b0b0b}']}),n})(),P1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Wp=(()=>{class n extends P1{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const ou=new c.OlP("NgValueAccessor"),_N={provide:ou,useExisting:(0,c.Gpc)(()=>Kp),multi:!0},vN=new c.OlP("CompositionEventMode");let Kp=(()=>{class n extends P1{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yN(){const n=U()?U().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(vN,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[c._Bn([_N]),c.qOj]}),n})();const js=new c.OlP("NgValidators"),Gh=new c.OlP("NgAsyncValidators");function _E(n){return null}function H1(n){return null!=n}function $1(n){const e=(0,c.QGY)(n)?(0,pn.D)(n):n;return(0,c.CqO)(e),e}function q1(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function G1(n,e){return e.map(t=>t(n))}function Z1(n){return n.map(e=>function CN(n){return!n.validate}(e)?e:t=>e.validate(t))}function ZA(n){return null!=n?function z1(n){if(!n)return null;const e=n.filter(H1);return 0==e.length?null:function(t){return q1(G1(t,e))}}(Z1(n)):null}function zA(n){return null!=n?function W1(n){if(!n)return null;const e=n.filter(H1);return 0==e.length?null:function(t){return function gN(...n){const e=(0,ta.jO)(n),{args:t,keys:r}=on(n),s=new P.y(l=>{const{length:d}=t;if(!d)return void l.complete();const m=new Array(d);let v=d,T=d;for(let S=0;S<d;S++){let R=!1;(0,Cc.Xf)(t[S]).subscribe((0,Or.x)(l,H=>{R||(R=!0,T--),m[S]=H},()=>v--,void 0,()=>{(!v||!R)&&(T||l.next(r?yc(r,m):m),l.complete())}))}});return e?s.pipe(fu(e)):s}(G1(t,e).map($1)).pipe((0,vt.U)(q1))}}(Z1(n)):null}function K1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function WA(n){return n?Array.isArray(n)?n:[n]:[]}function yE(n,e){return Array.isArray(n)?n.includes(e):n===e}function Q1(n,e){const t=WA(e);return WA(n).forEach(s=>{yE(t,s)||t.push(s)}),t}function X1(n,e){return WA(e).filter(t=>!yE(n,t))}class eP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ZA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Zh extends eP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class co extends eP{get formDirective(){return null}get path(){return null}}class tP{constructor(e){this._cd=e}is(e){var t,r,s;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(s=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===s?void 0:s[e])}}let pw=(()=>{class n extends tP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Zh,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),KA=(()=>{class n extends tP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(co,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function gw(n,e){QA(n,e),e.valueAccessor.writeValue(n.value),function MN(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rP(n,e)})}(n,e),function PN(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function SN(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function xN(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function bE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function QA(n,e){const t=function Y1(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(K1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function J1(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(K1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();bE(e._rawValidators,s),bE(e._rawAsyncValidators,s)}function rP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tx(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const mw="VALID",IE="INVALID",a_="PENDING",_w="DISABLED";function rx(n){return(DE(n)?n.validators:n)||null}function aP(n){return Array.isArray(n)?ZA(n):n||null}function ix(n,e){return(DE(e)?e.asyncValidators:n)||null}function cP(n){return Array.isArray(n)?zA(n):n||null}function DE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const sx=n=>n instanceof ax;function uP(n){return(n=>n instanceof fP)(n)?n.value:n.getRawValue()}function dP(n,e){const t=sx(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function hP(n,e){sx(n),n._forEachChild((r,s)=>{if(void 0===e[s])throw new c.vHH(1002,"")})}class ox{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=aP(this._rawValidators),this._composedAsyncValidatorFn=cP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mw}get invalid(){return this.status===IE}get pending(){return this.status==a_}get disabled(){return this.status===_w}get enabled(){return this.status!==_w}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=aP(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=cP(e)}addValidators(e){this.setValidators(Q1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Q1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(X1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(X1(e,this._rawAsyncValidators))}hasValidator(e){return yE(this._rawValidators,e)}hasAsyncValidator(e){return yE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=a_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_w,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mw,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mw||this.status===a_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_w:mw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=a_,this._hasOwnPendingAsyncValidator=!0;const t=$1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function NN(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(s=>{r=sx(r)?r.controls.hasOwnProperty(s)?r.controls[s]:null:(n=>n instanceof LN)(r)&&r.at(s)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?_w:this.errors?IE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(a_)?a_:this._anyControlsHaveStatus(IE)?IE:mw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){DE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class fP extends ox{constructor(e=null,t,r){super(rx(t),ix(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),DE(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ax extends ox{constructor(e,t,r){super(rx(t),ix(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hP(this,e),Object.keys(e).forEach(r=>{dP(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=uP(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,l)=>{r=t(r,s,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class LN extends ox{constructor(e,t,r){super(rx(t),ix(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){hP(this,e),e.forEach((r,s)=>{dP(this,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>uP(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const UN={provide:co,useExisting:(0,c.Gpc)(()=>vw)},yw=(()=>Promise.resolve(null))();let vw=(()=>{class n extends co{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new ax({},ZA(t),zA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){yw.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),gw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){yw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){yw.then(()=>{const r=this._findContainer(t.path),s=new ax({});(function iP(n,e){QA(n,e)})(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){yw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){yw.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function oP(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(js,10),c.Y36(Gh,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([UN]),c.qOj]}),n})();const BN={provide:Zh,useExisting:(0,c.Gpc)(()=>c_)},mP=(()=>Promise.resolve(null))();let c_=(()=>{class n extends Zh{constructor(t,r,s,l,d){super(),this._changeDetectorRef=d,this.control=new fP,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function ex(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(l=>{l.constructor===Kp?t=l:function RN(n){return Object.getPrototypeOf(n.constructor)===Wp}(l)?r=l:s=l}),s||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function XA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){mP.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=""===r||r&&"false"!==r;mP.then(()=>{var l;s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?function wE(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(co,9),c.Y36(js,10),c.Y36(Gh,10),c.Y36(ou,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([BN]),c.qOj,c.TTD]}),n})(),cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),yP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const YN={provide:ou,useExisting:(0,c.Gpc)(()=>TE),multi:!0};function DP(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let TE=(()=>{class n extends Wp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const s=DP(this._getOptionId(t),t);this.setProperty("value",s)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function JN(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([YN]),c.qOj]}),n})(),TP=(()=>{class n{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(DP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(TE,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const QN={provide:ou,useExisting:(0,c.Gpc)(()=>hx),multi:!0};function AP(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let hx=(()=>{class n extends Wp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const s=t.map(l=>this._getOptionId(l));r=(l,d)=>{l._setSelected(s.indexOf(d.toString())>-1)}}else r=(s,l)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const s=[],l=r.selectedOptions;if(void 0!==l){const d=l;for(let m=0;m<d.length;m++){const T=this._getOptionValue(d[m].value);s.push(T)}}else{const d=r.options;for(let m=0;m<d.length;m++){const v=d[m];if(v.selected){const T=this._getOptionValue(v.value);s.push(T)}}}this.value=s,t(s)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function XN(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([QN]),c.qOj]}),n})(),xP=(()=>{class n{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(AP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(AP(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(hx,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Yp=(()=>{class n{constructor(){this._validator=_E}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):_E,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const aF={provide:js,useExisting:(0,c.Gpc)(()=>ww),multi:!0};let ww=(()=>{class n extends Yp{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function MP(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function B1(n){return e=>function k1(n){return null!=n&&"number"==typeof n.length}(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[c._Bn([aF]),c.qOj]}),n})(),lF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[yP]]}),n})(),uF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[lF]}),n})(),l_=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-spinner"]],decls:4,vars:0,consts:[[1,"lds-facebook"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"div")(2,"div")(3,"div"),c.qZA())},styles:[".lds-facebook[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:16px;width:8px;background:#000;animation:lds-facebook 1.2s cubic-bezier(0,.5,.5,1) infinite}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:16px;animation-delay:-.24s}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:32px;animation-delay:-.12s}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:48px;animation-delay:0}@keyframes lds-facebook{0%{top:8px;height:64px}50%,to{top:24px;height:32px}}"]}),n})();function dF(n,e){if(1&n&&(c.TgZ(0,"div",39),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.titleError," ")}}function hF(n,e){if(1&n&&(c.TgZ(0,"div",39),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.categoryError," ")}}function fF(n,e){if(1&n&&(c.TgZ(0,"div",39),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.askingPriceError," ")}}function pF(n,e){if(1&n&&(c.TgZ(0,"div",39),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.uploadErr)}}function gF(n,e){1&n&&(c.TgZ(0,"div",33),c._uU(1,"Add a photo"),c.qZA())}function mF(n,e){1&n&&(c.TgZ(0,"div",43),c._UZ(1,"app-spinner"),c.qZA())}function _F(n,e){if(1&n&&(c.TgZ(0,"div",44),c._UZ(1,"img",45),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("src",t.pic1Url,c.LSH)}}function yF(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",46),c.NdJ("click",function(){return c.CHM(t),c.oxw().deleteImage(1)}),c._uU(1," x "),c.qZA()}}function vF(n,e){1&n&&(c.TgZ(0,"div",43),c._UZ(1,"app-spinner"),c.qZA())}function wF(n,e){if(1&n&&(c.TgZ(0,"div",44),c._UZ(1,"img",45),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("src",t.pic2Url,c.LSH)}}function CF(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",46),c.NdJ("click",function(){return c.CHM(t),c.oxw().deleteImage(2)}),c._uU(1," x "),c.qZA()}}function bF(n,e){1&n&&(c.TgZ(0,"div",43),c._UZ(1,"app-spinner"),c.qZA())}function EF(n,e){if(1&n&&(c.TgZ(0,"div",44),c._UZ(1,"img",45),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("src",t.pic3Url,c.LSH)}}function IF(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",46),c.NdJ("click",function(){return c.CHM(t),c.oxw().deleteImage(3)}),c._uU(1," x "),c.qZA()}}function DF(n,e){1&n&&(c.TgZ(0,"div",43),c._UZ(1,"app-spinner"),c.qZA())}function TF(n,e){if(1&n&&(c.TgZ(0,"div",44),c._UZ(1,"img",45),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("src",t.pic4Url,c.LSH)}}function AF(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",46),c.NdJ("click",function(){return c.CHM(t),c.oxw().deleteImage(4)}),c._uU(1," x "),c.qZA()}}function xF(n,e){1&n&&(c.TgZ(0,"div",47),c._UZ(1,"app-spinner"),c.qZA())}const AE=function(n){return{active:n}};let MF=(()=>{class n{constructor(t,r){this.storage=t,this.itemService=r,this.uid="",this.title="",this.desc="",this.size="",this.retailPrice="",this.askingPrice="",this.titleError="",this.askingPriceError="",this.categoryError="",this.category="",this.activeImage=1,this.pic1Url="",this.pic2Url="",this.pic3Url="",this.pic4Url="",this.pic1Id="",this.pic2Id="",this.pic3Id="",this.pic4Id="",this.uploadSpinner=!1,this.uploadErr="",this.overallErr="",this.overallStatus="",this.isLoading=!1}ngOnInit(){this.uid=localStorage.getItem("uid")||""}createListing(){if(this.titleError="",this.categoryError="",this.askingPriceError="",this.overallErr="",this.overallStatus="",0===this.title.trim().length)this.titleError="Title is required";else if(0===this.category.length)this.categoryError="Category is required";else if(0===this.askingPrice.trim().length)this.askingPriceError="Asking Price is required";else{this.isLoading=!0;let t=[];this.pic1Url.length>0&&t.push({id:this.pic1Id,url:this.pic1Url}),this.pic2Url.length>0&&t.push({id:this.pic2Id,url:this.pic2Url}),this.pic3Url.length>0&&t.push({id:this.pic3Id,url:this.pic3Url}),this.pic4Url.length>0&&t.push({id:this.pic4Id,url:this.pic4Url});let r=[...this.desc.toLowerCase().split(" "),...this.title.toLowerCase().split(" "),...this.category.toLowerCase().split(" ")],s={title:this.title,desc:this.desc,size:this.size,category:this.category,retailPrice:this.retailPrice,askingPrice:this.askingPrice,pics:t,uid:this.uid,isPublished:!1,createdDate:new Date,email:localStorage.getItem("email"),phone:localStorage.getItem("phone"),searchKey:r};this.itemService.addItem(s).then(l=>{this.isLoading=!1,this.overallStatus="Item added successfully",this.title="",this.desc="",this.size="",this.category="",this.retailPrice="",this.askingPrice="",this.pic1Url="",this.pic2Url="",this.pic3Url="",this.pic4Url="",this.pic1Id="",this.pic2Id="",this.pic3Id="",this.pic4Id="",this.activeImage=1},l=>{this.isLoading=!1,this.overallErr="Sorry, some problem occured."})}}onFileSelected(t){var r=Date.now();const s=t.target.files[0],d=this.storage.ref(`images/${r}`),m=this.storage.upload(`images/${r}`,s);this.uploadSpinner=!0,this.uploadErr="",m.snapshotChanges().pipe(Kh(()=>{d.getDownloadURL().subscribe(v=>{1===this.activeImage?(this.pic1Url=v,this.pic1Id=String(r),this.activeImage=2):2===this.activeImage?(this.pic2Url=v,this.pic2Id=String(r),this.activeImage=3):3===this.activeImage?(this.pic3Url=v,this.pic3Id=String(r),this.activeImage=4):(this.pic4Url=v,this.pic4Id=String(r),this.activeImage=5),this.uploadSpinner=!1})})).subscribe()}deleteImage(t){1==t?this.storage.refFromURL(this.pic1Url).delete():2==t?this.storage.refFromURL(this.pic2Url).delete():3==t&&this.storage.refFromURL(this.pic3Url).delete(),4==t&&this.storage.refFromURL(this.pic4Url).delete();let r=0;4===t?(this.pic4Url="",this.pic4Id=""):3===t?(this.pic3Url=this.pic4Url,this.pic3Id=this.pic4Id,this.pic4Url="",this.pic4Id=""):2===t?(this.pic2Url=this.pic3Url,this.pic2Id=this.pic3Id,this.pic3Url=this.pic4Url,this.pic3Id=this.pic4Id,this.pic4Url="",this.pic4Id=""):1===t&&(this.pic1Url=this.pic2Url,this.pic1Id=this.pic2Id,this.pic2Url=this.pic3Url,this.pic2Id=this.pic3Id,this.pic3Url=this.pic4Url,this.pic3Id=this.pic4Id,this.pic4Url="",this.pic4Id=""),""!==this.pic1Url&&r++,""!==this.pic2Url&&r++,""!==this.pic3Url&&r++,""!==this.pic4Url&&r++,this.activeImage=r+1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(sC),c.Y36(fw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-add-item"]],decls:102,vars:43,consts:[[1,"add-item-container"],[3,"isWhite"],[1,"banner"],["src","assets/bg-images/bg4.jpg","alt",""],[1,"form-container"],[1,"left"],[1,"form-group"],[1,"label"],[1,"form-control"],["type","text","name","title","maxlength","50",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],[1,"form-control","h-60"],["name","desc","rows","4","maxlength","200",3,"ngModel","ngModelChange"],["name","category",3,"ngModel","ngModelChange"],["value","sarees"],["value","lahenga"],["value","suits"],["value","gowns"],["type","text","name","size","maxlength","25",3,"ngModel","ngModelChange"],[1,"form-control","input-wrapper"],[1,"currency"],["type","text","name","retailPrice","maxlength","10",3,"ngModel","ngModelChange"],["type","text","name","askingPrice","maxlength","10",3,"ngModel","ngModelChange"],[1,"right"],[1,"photos"],[1,"photo-container",3,"ngClass"],["class","text",4,"ngIf"],[1,"hidden-input"],["type","file","name","image","autocomplete","off",3,"disabled","change"],["photo1",""],["class","spinner-container",4,"ngIf"],["class","preview-container",4,"ngIf"],["class","close-container",3,"click",4,"ngIf"],[1,"text"],["photo2",""],["photo3",""],["photo4",""],["class","spinner-container overall-spinner",4,"ngIf"],[1,"status-container"],[1,"error"],[1,"status"],[1,"btn-container"],[1,"createBtn",3,"click"],[1,"spinner-container"],[1,"preview-container"],["alt","",3,"src"],[1,"close-container",3,"click"],[1,"spinner-container","overall-spinner"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-header",1),c.TgZ(2,"div",2),c._UZ(3,"img",3),c.qZA(),c.TgZ(4,"div",4)(5,"form")(6,"div",5)(7,"div",6)(8,"div",7),c._uU(9,"Title"),c.qZA(),c.TgZ(10,"div",8)(11,"input",9),c.NdJ("ngModelChange",function(l){return r.title=l}),c.qZA()(),c.YNc(12,dF,2,1,"div",10),c.qZA(),c.TgZ(13,"div",6)(14,"div",7),c._uU(15,"About the dress (Optional)"),c.qZA(),c.TgZ(16,"div",11)(17,"textarea",12),c.NdJ("ngModelChange",function(l){return r.desc=l}),c.qZA()()(),c.TgZ(18,"div",6)(19,"div",7),c._uU(20,"Category"),c.qZA(),c.TgZ(21,"div",8)(22,"select",13),c.NdJ("ngModelChange",function(l){return r.category=l}),c.TgZ(23,"option",14),c._uU(24,"Sarees"),c.qZA(),c.TgZ(25,"option",15),c._uU(26,"Lahenga"),c.qZA(),c.TgZ(27,"option",16),c._uU(28,"Suits / Anarkali Suits"),c.qZA(),c.TgZ(29,"option",17),c._uU(30,"Gowns"),c.qZA()()(),c.YNc(31,hF,2,1,"div",10),c.qZA(),c.TgZ(32,"div",6)(33,"div",7),c._uU(34,"Size (Optional)"),c.qZA(),c.TgZ(35,"div",8)(36,"input",18),c.NdJ("ngModelChange",function(l){return r.size=l}),c.qZA()()(),c.TgZ(37,"div",6)(38,"div",7),c._uU(39,"Retail Price (Optional)"),c.qZA(),c.TgZ(40,"div",19)(41,"div",20),c._uU(42,"AUD"),c.qZA(),c.TgZ(43,"input",21),c.NdJ("ngModelChange",function(l){return r.retailPrice=l}),c.qZA()()(),c.TgZ(44,"div",6)(45,"div",7),c._uU(46,"Asking Price"),c.qZA(),c.TgZ(47,"div",19)(48,"div",20),c._uU(49,"AUD"),c.qZA(),c.TgZ(50,"input",22),c.NdJ("ngModelChange",function(l){return r.askingPrice=l}),c.qZA()(),c.YNc(51,fF,2,1,"div",10),c.qZA()(),c.TgZ(52,"div",23)(53,"div",6)(54,"div",7),c._uU(55,"Photos (Optional)"),c.qZA(),c.YNc(56,pF,2,1,"div",10),c.TgZ(57,"div",24)(58,"div",25),c.YNc(59,gF,2,0,"div",26),c.TgZ(60,"div",27)(61,"input",28,29),c.NdJ("change",function(l){return r.onFileSelected(l)}),c.qZA()(),c.YNc(63,mF,2,0,"div",30),c.YNc(64,_F,2,1,"div",31),c.YNc(65,yF,2,0,"div",32),c.qZA(),c.TgZ(66,"div",25)(67,"div",33),c._uU(68,"Add a photo"),c.qZA(),c.TgZ(69,"div",27)(70,"input",28,34),c.NdJ("change",function(l){return r.onFileSelected(l)}),c.qZA()(),c.YNc(72,vF,2,0,"div",30),c.YNc(73,wF,2,1,"div",31),c.YNc(74,CF,2,0,"div",32),c.qZA(),c.TgZ(75,"div",25)(76,"div",33),c._uU(77,"Add a photo"),c.qZA(),c.TgZ(78,"div",27)(79,"input",28,35),c.NdJ("change",function(l){return r.onFileSelected(l)}),c.qZA()(),c.YNc(81,bF,2,0,"div",30),c.YNc(82,EF,2,1,"div",31),c.YNc(83,IF,2,0,"div",32),c.qZA(),c.TgZ(84,"div",25)(85,"div",33),c._uU(86,"Add a photo"),c.qZA(),c.TgZ(87,"div",27)(88,"input",28,36),c.NdJ("change",function(l){return r.onFileSelected(l)}),c.qZA()(),c.YNc(90,DF,2,0,"div",30),c.YNc(91,TF,2,1,"div",31),c.YNc(92,AF,2,0,"div",32),c.qZA()()(),c.YNc(93,xF,2,0,"div",37),c.TgZ(94,"div",38)(95,"div",39),c._uU(96),c.qZA(),c.TgZ(97,"div",40),c._uU(98),c.qZA()(),c.TgZ(99,"div",41)(100,"button",42),c.NdJ("click",function(){return r.createListing()}),c._uU(101," Create Listing "),c.qZA()()()()()()),2&t&&(c.xp6(1),c.Q6J("isWhite",!0),c.xp6(10),c.Q6J("ngModel",r.title),c.xp6(1),c.Q6J("ngIf",r.titleError.length>0),c.xp6(5),c.Q6J("ngModel",r.desc),c.xp6(5),c.Q6J("ngModel",r.category),c.xp6(9),c.Q6J("ngIf",r.categoryError.length>0),c.xp6(5),c.Q6J("ngModel",r.size),c.xp6(7),c.Q6J("ngModel",r.retailPrice),c.xp6(7),c.Q6J("ngModel",r.askingPrice),c.xp6(1),c.Q6J("ngIf",r.askingPriceError.length>0),c.xp6(5),c.Q6J("ngIf",r.uploadErr.length>0),c.xp6(2),c.Q6J("ngClass",c.VKq(35,AE,1===r.activeImage)),c.xp6(1),c.Q6J("ngIf",0===r.pic1Url.length),c.xp6(2),c.Q6J("disabled",1!==r.activeImage),c.xp6(2),c.Q6J("ngIf",1===r.activeImage&&r.uploadSpinner),c.xp6(1),c.Q6J("ngIf",r.pic1Url.length>0),c.xp6(1),c.Q6J("ngIf",r.pic1Url.length>0),c.xp6(1),c.Q6J("ngClass",c.VKq(37,AE,2===r.activeImage)),c.xp6(4),c.Q6J("disabled",2!==r.activeImage),c.xp6(2),c.Q6J("ngIf",2===r.activeImage&&r.uploadSpinner),c.xp6(1),c.Q6J("ngIf",r.pic2Url.length>0),c.xp6(1),c.Q6J("ngIf",r.pic2Url.length>0),c.xp6(1),c.Q6J("ngClass",c.VKq(39,AE,3===r.activeImage)),c.xp6(4),c.Q6J("disabled",3!==r.activeImage),c.xp6(2),c.Q6J("ngIf",3===r.activeImage&&r.uploadSpinner),c.xp6(1),c.Q6J("ngIf",r.pic3Url.length>0),c.xp6(1),c.Q6J("ngIf",r.pic3Url.length>0),c.xp6(1),c.Q6J("ngClass",c.VKq(41,AE,4===r.activeImage)),c.xp6(4),c.Q6J("disabled",4!==r.activeImage),c.xp6(2),c.Q6J("ngIf",4===r.activeImage&&r.uploadSpinner),c.xp6(1),c.Q6J("ngIf",r.pic4Url.length>0),c.xp6(1),c.Q6J("ngIf",r.pic4Url.length>0),c.xp6(1),c.Q6J("ngIf",r.isLoading),c.xp6(3),c.Oqu(r.overallErr),c.xp6(2),c.Oqu(r.overallStatus))},directives:[$h,cx,KA,vw,Kp,ww,pw,c_,vn,TE,TP,xP,Yr,l_],styles:[".add-item-container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;position:relative}.add-item-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%;height:500px}.add-item-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{position:absolute;top:300px;left:15vw;width:70vw;height:calc(100vh - 350px);background-color:#fff;box-shadow:1px 1px 20px -5px #747474;border-radius:4px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;padding:40px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:30%;border-right:1px solid rgba(0,0,0,.15);padding-right:40px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:24px;margin-bottom:17px;width:100%}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:5px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid rgba(0,0,0,.15);color:#495057;outline:none;padding:8px 12px;border-radius:4px;font-size:18px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{width:50px;height:100%;position:absolute;top:0px;left:0px;background:#e9ecef;display:flex;align-items:center;justify-content:center}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:58px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;height:60px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:3px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{padding-left:40px;width:70%;position:relative}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]{width:200px;height:140px;margin:10px 10px 0 0;background-color:#e9ecef;display:flex;align-items:center;justify-content:center;position:relative}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100%;height:100%}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;opacity:0;cursor:pointer}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{cursor:unset}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:none}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container.active[_ngcontent-%COMP%]{border:4px dashed #e9ecef;background-color:#fff;cursor:pointer}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container.active[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:block;color:#606060}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{position:absolute;background:white;width:100%;text-align:center}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100%;height:100%}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .close-container[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;width:20px;height:20px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fff;background-color:#0003;font-size:13px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]:hover   .close-container[_ngcontent-%COMP%]{background-color:#000c}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{position:absolute;background:white;width:100%;text-align:center}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .spinner-container.overall-spinner[_ngcontent-%COMP%]{margin-top:100px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]{position:absolute;bottom:15px;left:40px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{color:green}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{position:absolute;bottom:0px;right:20px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .createBtn[_ngcontent-%COMP%]{width:175px;height:40px;padding:8px 12px;border-radius:4px;font-size:18px;margin-top:20px;border:0px;background-color:#2699fb;color:#fff;cursor:pointer}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute;right:15px;top:0px;color:red}.h-60[_ngcontent-%COMP%]{height:60px}"]}),n})();var SF=F(5226),xE=F.n(SF);function PF(n,e){if(1&n&&(c.TgZ(0,"div",9),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" Pay for ",t.selectedItems.length," item ")}}function OF(n,e){if(1&n&&(c.TgZ(0,"div",9),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" Pay for ",t.selectedItems.length," item(s) ")}}function kF(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",17)(1,"button",23),c.NdJ("click",function(){c.CHM(t);const s=c.oxw().$implicit;return c.oxw(2).unpublish(s)}),c._uU(2," Unpublish "),c.qZA()()}}function RF(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",27),c.NdJ("click",function(){c.CHM(t);const s=c.oxw(2).$implicit;return c.oxw(2).publish(s)}),c._uU(1," Publish "),c.qZA()}}function NF(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",28),c.NdJ("click",function(){c.CHM(t);const s=c.oxw(2).$implicit;return c.oxw(2).remove(s)}),c._uU(1," Remove "),c.qZA()}}function FF(n,e){if(1&n&&(c.TgZ(0,"div",24),c.YNc(1,RF,2,0,"button",25),c.YNc(2,NF,2,0,"button",26),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.Q6J("ngIf",!t.isSelected),c.xp6(1),c.Q6J("ngIf",t.isSelected)}}function LF(n,e){if(1&n&&(c.TgZ(0,"div",20)(1,"div",12),c._uU(2),c.qZA(),c.TgZ(3,"div",13),c._uU(4),c.qZA(),c.TgZ(5,"div",14),c._uU(6),c.qZA(),c.TgZ(7,"div",15),c._uU(8),c.qZA(),c.TgZ(9,"div",16),c._uU(10),c.qZA(),c.TgZ(11,"div",16),c._uU(12),c.qZA(),c.YNc(13,kF,3,0,"div",21),c.YNc(14,FF,3,2,"div",22),c.qZA()),2&n){const t=e.$implicit,r=e.index;c.xp6(2),c.Oqu(r+1),c.xp6(2),c.Oqu(t.title),c.xp6(2),c.Oqu(t.desc),c.xp6(2),c.Oqu(t.size),c.xp6(2),c.Oqu(t.retailPrice),c.xp6(2),c.Oqu(t.askingPrice),c.xp6(1),c.Q6J("ngIf",t.isPublished),c.xp6(1),c.Q6J("ngIf",!t.isPublished)}}function UF(n,e){1&n&&(c.TgZ(0,"div",29),c._uU(1,"No items added yet"),c.qZA())}function VF(n,e){if(1&n&&(c.TgZ(0,"div",10)(1,"div",11)(2,"div",12),c._uU(3,"SL.NO"),c.qZA(),c.TgZ(4,"div",13),c._uU(5,"TITLE"),c.qZA(),c.TgZ(6,"div",14),c._uU(7,"DESCRIPTION"),c.qZA(),c.TgZ(8,"div",15),c._uU(9,"SIZE"),c.qZA(),c.TgZ(10,"div",16),c._uU(11,"RETAIL PRICE"),c.qZA(),c.TgZ(12,"div",16),c._uU(13,"ASKING PRICE"),c.qZA(),c.TgZ(14,"div",17),c._uU(15,"PUBLISH"),c.qZA()(),c.YNc(16,LF,15,8,"div",18),c.YNc(17,UF,2,0,"div",19),c.qZA()),2&n){const t=c.oxw();c.xp6(16),c.Q6J("ngForOf",t.items),c.xp6(1),c.Q6J("ngIf",0===t.items.length)}}function BF(n,e){1&n&&(c.TgZ(0,"div",30),c._UZ(1,"app-spinner"),c.qZA())}let jF=(()=>{class n{constructor(t){this.itemService=t,this.uid="",this.items=[],this.isLoading=!1,this.selectedItems=[]}ngOnInit(){this.uid=localStorage.getItem("uid")||"",this.getData()}getData(){this.isLoading=!0,this.itemService.getAllItemsByUid(this.uid).subscribe(t=>{this.items=t,this.isLoading=!1;for(let r of this.items)r.isSelected=!1},t=>{this.isLoading=!1,console.log(t)})}publish(t){t.isSelected=!t.isSelected,this.selectedItems.push(t.id)}unpublish(t){xE().fire({title:"Are you sure?",text:"If you unpublish, this listing will be removed and to publish it again, you have to pay again. ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, unpublish it!"}).then(r=>{r.isConfirmed&&(t.isPublished=!1,xE().fire("Unpublished!","Your listing has been removed.","success"))})}remove(t){t.isSelected=!t.isSelected;let r=this.selectedItems.indexOf(t.id);this.selectedItems.splice(r,1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(fw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],decls:12,vars:5,consts:[[1,"add-item-container"],[3,"isWhite"],[1,"banner"],["src","assets/bg-images/bg5.jpg","alt",""],[1,"table-container"],[1,"title"],["class","pay-btn",4,"ngIf"],["class","items",4,"ngIf"],["class","spinner-container",4,"ngIf"],[1,"pay-btn"],[1,"items"],[1,"item","heading"],[1,"index"],[1,"item-title"],[1,"desc"],[1,"size"],[1,"price"],[1,"status"],["class","item",4,"ngFor","ngForOf"],["class","no-items",4,"ngIf"],[1,"item"],["class","status",4,"ngIf"],["class","status published",4,"ngIf"],[1,"unpublish-btn",3,"click"],[1,"status","published"],["class","publish-btn",3,"click",4,"ngIf"],["class","remove-btn",3,"click",4,"ngIf"],[1,"publish-btn",3,"click"],[1,"remove-btn",3,"click"],[1,"no-items"],[1,"spinner-container"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-header",1),c.TgZ(2,"div",2),c._UZ(3,"img",3),c.qZA(),c.TgZ(4,"div",4)(5,"div",5)(6,"span"),c._uU(7,"All Items"),c.qZA(),c.YNc(8,PF,2,1,"div",6),c.YNc(9,OF,2,1,"div",6),c.qZA(),c.YNc(10,VF,18,2,"div",7),c.YNc(11,BF,2,0,"div",8),c.qZA()()),2&t&&(c.xp6(1),c.Q6J("isWhite",!1),c.xp6(7),c.Q6J("ngIf",1===r.selectedItems.length),c.xp6(1),c.Q6J("ngIf",r.selectedItems.length>1),c.xp6(1),c.Q6J("ngIf",!r.isLoading),c.xp6(1),c.Q6J("ngIf",r.isLoading))},directives:[$h,vn,On,l_],styles:[".add-item-container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;position:relative}.add-item-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%;height:600px}.add-item-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{position:absolute;top:400px;left:15vw;width:70vw;height:calc(100vh - 450px);background-color:#fff;box-shadow:1px 1px 20px -5px #747474;border-radius:4px;padding:40px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;height:100%}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px;display:flex;align-items:center;justify-content:space-between}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .pay-btn[_ngcontent-%COMP%]{width:163px;font-size:15px;padding:5px 10px;border-radius:4px;background-color:#00a523;color:#fff;border:0px;outline:none;cursor:pointer;text-align:center}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{margin-top:20px;border-bottom:1px solid #cdcdcd;height:400px;overflow:auto}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .no-items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:20px;color:#3c3c3c;height:350px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;border:1px solid #cdcdcd;border-bottom:0px solid white;padding:10px 0}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item.heading[_ngcontent-%COMP%]{font-weight:700}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{width:70px;text-align:center;padding:10px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{width:170px;padding:10px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{min-width:250px;width:calc(100% - 850px);padding:10px 20px 10px 10px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{width:70px;text-align:center;padding:10px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{width:140px;text-align:center;padding:10px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{width:110px;text-align:center;padding:10px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .status.published[_ngcontent-%COMP%]{color:green}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .publish-btn[_ngcontent-%COMP%], .add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%], .add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .unpublish-btn[_ngcontent-%COMP%]{width:80px;padding:5px 10px;border-radius:4px;background-color:#03a2c5;color:#fff;border:0px;outline:none;cursor:pointer}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .unpublish-btn[_ngcontent-%COMP%]{background-color:#ff3c2a}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{background-color:#ff7828}"]}),n})();class LP{}class UP{}class au{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),l=s.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(s,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const s=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(s,r),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof au?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new au;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof au?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const l=e.value;if(l){let d=this.headers.get(t);if(!d)return;d=d.filter(m=>-1===l.indexOf(m)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class HF{encodeKey(e){return VP(e)}encodeValue(e){return VP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const qF=/%(\d[a-f0-9])/gi,GF={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function VP(n){return encodeURIComponent(n).replace(qF,(e,t)=>{var r;return null!==(r=GF[t])&&void 0!==r?r:e})}function BP(n){return`${n}`}class zh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new HF,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $F(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const l=s.indexOf("="),[d,m]=-1==l?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,l)),e.decodeValue(s.slice(l+1))],v=t.get(d)||[];v.push(m),t.set(d,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new zh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(BP(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(BP(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ZF{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function jP(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function HP(n){return"undefined"!=typeof Blob&&n instanceof Blob}function $P(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Cw{constructor(e,t,r,s){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function zF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,l=s):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new au),this.context||(this.context=new ZF),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+d}}else this.params=new zh,this.urlWithParams=t}serializeBody(){return null===this.body?null:jP(this.body)||HP(this.body)||$P(this.body)||function WF(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$P(this.body)?null:HP(this.body)?this.body.type||null:jP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,s=e.url||this.url,l=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,v=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let T=e.headers||this.headers,S=e.params||this.params;const R=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(T=Object.keys(e.setHeaders).reduce((H,q)=>H.set(q,e.setHeaders[q]),T)),e.setParams&&(S=Object.keys(e.setParams).reduce((H,q)=>H.set(q,e.setParams[q]),S)),new Cw(r,s,d,{params:S,headers:T,context:R,reportProgress:v,responseType:l,withCredentials:m})}}var pi=(()=>((pi=pi||{})[pi.Sent=0]="Sent",pi[pi.UploadProgress=1]="UploadProgress",pi[pi.ResponseHeader=2]="ResponseHeader",pi[pi.DownloadProgress=3]="DownloadProgress",pi[pi.Response=4]="Response",pi[pi.User=5]="User",pi))();class px{constructor(e,t=200,r="OK"){this.headers=e.headers||new au,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class gx extends px{constructor(e={}){super(e),this.type=pi.ResponseHeader}clone(e={}){return new gx({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ME extends px{constructor(e={}){super(e),this.type=pi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ME({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class qP extends px{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function mx(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let GP=(()=>{class n{constructor(t){this.handler=t}request(t,r,s={}){let l;if(t instanceof Cw)l=t;else{let v,T;v=s.headers instanceof au?s.headers:new au(s.headers),s.params&&(T=s.params instanceof zh?s.params:new zh({fromObject:s.params})),l=new Cw(t,r,void 0!==s.body?s.body:null,{headers:v,context:s.context,params:T,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const d=at(l).pipe(os(v=>this.handler.handle(v)));if(t instanceof Cw||"events"===s.observe)return d;const m=d.pipe(Tn(v=>v instanceof ME));switch(s.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,vt.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return m.pipe((0,vt.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return m.pipe((0,vt.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return m.pipe((0,vt.U)(v=>v.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new zh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,mx(s,r))}post(t,r,s={}){return this.request("POST",t,mx(s,r))}put(t,r,s={}){return this.request("PUT",t,mx(s,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(LP))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ZP{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const zP=new c.OlP("HTTP_INTERCEPTORS");let KF=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const YF=/^\)\]\}',?\n/;let WP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new P.y(r=>{const s=this.xhrFactory.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((q,te)=>s.setRequestHeader(q,te.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const q=t.detectContentTypeHeader();null!==q&&s.setRequestHeader("Content-Type",q)}if(t.responseType){const q=t.responseType.toLowerCase();s.responseType="json"!==q?q:"text"}const l=t.serializeBody();let d=null;const m=()=>{if(null!==d)return d;const q=s.statusText||"OK",te=new au(s.getAllResponseHeaders()),Me=function JF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return d=new gx({headers:te,status:s.status,statusText:q,url:Me}),d},v=()=>{let{headers:q,status:te,statusText:Me,url:Le}=m(),ot=null;204!==te&&(ot=void 0===s.response?s.responseText:s.response),0===te&&(te=ot?200:0);let bt=te>=200&&te<300;if("json"===t.responseType&&"string"==typeof ot){const Et=ot;ot=ot.replace(YF,"");try{ot=""!==ot?JSON.parse(ot):null}catch(dt){ot=Et,bt&&(bt=!1,ot={error:dt,text:ot})}}bt?(r.next(new ME({body:ot,headers:q,status:te,statusText:Me,url:Le||void 0})),r.complete()):r.error(new qP({error:ot,headers:q,status:te,statusText:Me,url:Le||void 0}))},T=q=>{const{url:te}=m(),Me=new qP({error:q,status:s.status||0,statusText:s.statusText||"Unknown Error",url:te||void 0});r.error(Me)};let S=!1;const R=q=>{S||(r.next(m()),S=!0);let te={type:pi.DownloadProgress,loaded:q.loaded};q.lengthComputable&&(te.total=q.total),"text"===t.responseType&&!!s.responseText&&(te.partialText=s.responseText),r.next(te)},H=q=>{let te={type:pi.UploadProgress,loaded:q.loaded};q.lengthComputable&&(te.total=q.total),r.next(te)};return s.addEventListener("load",v),s.addEventListener("error",T),s.addEventListener("timeout",T),s.addEventListener("abort",T),t.reportProgress&&(s.addEventListener("progress",R),null!==l&&s.upload&&s.upload.addEventListener("progress",H)),s.send(l),r.next({type:pi.Sent}),()=>{s.removeEventListener("error",T),s.removeEventListener("abort",T),s.removeEventListener("load",v),s.removeEventListener("timeout",T),t.reportProgress&&(s.removeEventListener("progress",R),null!==l&&s.upload&&s.upload.removeEventListener("progress",H)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(rn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _x=new c.OlP("XSRF_COOKIE_NAME"),yx=new c.OlP("XSRF_HEADER_NAME");class KP{}let QF=(()=>{class n{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=po(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ce),c.LFG(c.Lbi),c.LFG(_x))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),vx=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const s=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||s.startsWith("http://")||s.startsWith("https://"))return r.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(KP),c.LFG(yx))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),XF=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(zP,[]);this.chain=r.reduceRight((s,l)=>new ZP(s,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(UP),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),e2=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:vx,useClass:KF}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:_x,useValue:t.cookieName}:[],t.headerName?{provide:yx,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[vx,{provide:zP,useExisting:vx,multi:!0},{provide:KP,useClass:QF},{provide:_x,useValue:"XSRF-TOKEN"},{provide:yx,useValue:"X-XSRF-TOKEN"}]}),n})(),t2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[GP,{provide:LP,useClass:XF},WP,{provide:UP,useExisting:WP}],imports:[[e2.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),n2=(()=>{class n{constructor(t){this.http=t}sendEmail(t){let r={headers:new au({"Content-Type":"application/json"})};return this.http.post("https://still-red.herokuapp.com/email",t,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(GP))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function r2(n,e){if(1&n&&(c.TgZ(0,"div",20),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.emailError," ")}}function i2(n,e){if(1&n&&(c.TgZ(0,"div",20),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.subjectError," ")}}function s2(n,e){if(1&n&&(c.TgZ(0,"div",20),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.messageError," ")}}let o2=(()=>{class n{constructor(t){this.contactService=t,this.email="",this.phone="",this.subject="",this.message="",this.emailError="",this.subjectError="",this.messageError="",this.emailPattern=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,this.isLoading=!1}ngOnInit(){this.emailRegex=new RegExp(this.emailPattern)}submit(){this.emailError="",this.subjectError="",this.messageError="",0===this.email.trim().length?this.emailError="Email is required":this.emailRegex.test(this.email)?0===this.subject.trim().length?this.subjectError="Subject is required":0===this.message.trim().length?this.messageError="Message is required":(this.isLoading=!0,this.contactService.sendEmail({email:this.email,subject:this.subject,message:`\n      <div style="margin-bottom: '20px'">User email: ${this.email}</div>\n      <div style="margin-bottom: '20px'">User Phone: ${this.phone}</div>\n      <div style="margin-bottom: '20px'">User Message: ${this.message}</div>\n      `}).subscribe({next:s=>{this.isLoading=!1,this.reset(),xE().fire("Message Sent!","Thanks for your message, we will contact you soon.","success")},error:s=>{this.isLoading=!1,xE().fire("Sorry!","Your message is not sent. Please try again later","error")}})):this.emailError="Email should be valid"}reset(){this.email="",this.phone="",this.subject="",this.message="",this.emailError="",this.subjectError="",this.messageError=""}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(n2))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-help"]],decls:39,vars:8,consts:[[1,"home-container"],["src","assets/bg-images/bg7.jpg","alt","",1,"bg-pic"],[3,"isWhite"],[1,"form-container"],[1,"instruction"],[1,"email"],[1,"form"],[1,"form-group"],[1,"label"],[1,"form-control"],["type","email","name","email","maxlength","50",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],["type","tel","name","phone","maxlength","10",3,"ngModel","ngModelChange"],["type","text","name","subject","maxlength","50",3,"ngModel","ngModelChange"],[1,"form-group","h-85"],[1,"form-control","h-65"],["name","desc","rows","4","maxlength","200",3,"ngModel","ngModelChange"],[1,"btn-container"],[1,"reset-btn",3,"click"],[1,"submit-btn",3,"click"],[1,"error"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"img",1)(2,"app-header",2),c.TgZ(3,"div",3)(4,"div",4),c._uU(5," If you have any question, you can reach us using this email "),c.qZA(),c.TgZ(6,"div",5),c._uU(7,"admin@still-red.com"),c.qZA(),c.TgZ(8,"div",4),c._uU(9,"Or please use this contact form"),c.qZA(),c.TgZ(10,"div",6)(11,"div",7)(12,"div",8),c._uU(13,"Your Email"),c.qZA(),c.TgZ(14,"div",9)(15,"input",10),c.NdJ("ngModelChange",function(l){return r.email=l}),c.qZA()(),c.YNc(16,r2,2,1,"div",11),c.qZA(),c.TgZ(17,"div",7)(18,"div",8),c._uU(19,"Your Phone (Optional)"),c.qZA(),c.TgZ(20,"div",9)(21,"input",12),c.NdJ("ngModelChange",function(l){return r.phone=l}),c.qZA()()(),c.TgZ(22,"div",7)(23,"div",8),c._uU(24,"Subject"),c.qZA(),c.TgZ(25,"div",9)(26,"input",13),c.NdJ("ngModelChange",function(l){return r.subject=l}),c.qZA()(),c.YNc(27,i2,2,1,"div",11),c.qZA(),c.TgZ(28,"div",14)(29,"div",8),c._uU(30,"Message"),c.qZA(),c.TgZ(31,"div",15)(32,"textarea",16),c.NdJ("ngModelChange",function(l){return r.message=l}),c.qZA()(),c.YNc(33,s2,2,1,"div",11),c.qZA(),c.TgZ(34,"div",17)(35,"button",18),c.NdJ("click",function(){return r.reset()}),c._uU(36,"Reset"),c.qZA(),c.TgZ(37,"button",19),c.NdJ("click",function(){return r.submit()}),c._uU(38,"Submit"),c.qZA()()()()()),2&t&&(c.xp6(2),c.Q6J("isWhite",!0),c.xp6(13),c.Q6J("ngModel",r.email),c.xp6(1),c.Q6J("ngIf",r.emailError.length>0),c.xp6(5),c.Q6J("ngModel",r.phone),c.xp6(5),c.Q6J("ngModel",r.subject),c.xp6(1),c.Q6J("ngIf",r.subjectError.length>0),c.xp6(5),c.Q6J("ngModel",r.message),c.xp6(1),c.Q6J("ngIf",r.messageError.length>0))},directives:[$h,Kp,ww,pw,c_,vn],styles:[".home-container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;position:relative}.home-container[_ngcontent-%COMP%]   .bg-pic[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.home-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{width:500px;position:absolute;left:40px;top:200px;background-color:#fff;padding:40px;border-radius:4px;box-shadow:1px 1px 20px -5px #747474}.home-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .instruction[_ngcontent-%COMP%]{font-size:18px;text-align:center}.home-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:18px;font-weight:700;padding:20px;text-align:center}.home-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{margin-top:40px}.home-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:24px;margin-bottom:20px;width:100%}.home-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:5px}.home-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;height:40px}.home-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .home-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid rgba(0,0,0,.15);color:#495057;outline:none;padding:8px 12px;border-radius:4px;font-size:18px}.home-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;height:60px}.home-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:3px}.home-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{text-align:right;margin-top:20px}.home-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px;width:100px;border-radius:4px;padding:5px 10px;border:0px;outline:none;font-size:18px;cursor:pointer}.home-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{background-color:#03a2c5;color:#fff}.h-65[_ngcontent-%COMP%]{height:65px!important}.h-85[_ngcontent-%COMP%]{height:85px!important}"]}),n})(),a2=(()=>{class n{constructor(t){this.router=t,this.searchTxt=""}ngOnInit(){}search(){this.searchTxt.trim().length>0&&this.router.navigate(["search"],{queryParams:{key:this.searchTxt.toLowerCase()}})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Rn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:13,vars:3,consts:[[1,"home-container"],[1,"overlay"],["src","assets/bg-images/bg3.jpg","alt","",1,"bg-pic"],[3,"isWhite"],[1,"title-search"],[1,"title"],[1,"sub-title"],[1,"search"],["type","text","placeholder","Enter minimum 3 characters",1,"search-input",3,"ngModel","ngModelChange"],[1,"search-btn",3,"disabled","click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"div",1)(2,"img",2)(3,"app-header",3),c.TgZ(4,"div",4)(5,"h1",5),c._uU(6,"Wear your dream designer outfit"),c.qZA(),c.TgZ(7,"h3",6),c._uU(8," Australia's Largest online bollywood pre-owned marketplace "),c.qZA(),c.TgZ(9,"div",7)(10,"input",8),c.NdJ("ngModelChange",function(l){return r.searchTxt=l}),c.qZA(),c.TgZ(11,"button",9),c.NdJ("click",function(){return r.search()}),c._uU(12,"Search"),c.qZA()()()()),2&t&&(c.xp6(3),c.Q6J("isWhite",!1),c.xp6(7),c.Q6J("ngModel",r.searchTxt),c.xp6(1),c.Q6J("disabled",r.searchTxt.trim().length<3))},directives:[$h,Kp,pw,c_],styles:[".home-container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;position:relative}.home-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;background:rgba(0,0,0,.2);width:100vw;height:100vh;overflow:hidden}.home-container[_ngcontent-%COMP%]   .bg-pic[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]{position:absolute;top:calc(50vh - 140px);left:15vw;width:70vw;height:200px}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:50px;line-height:60px;margin-bottom:8px;font-weight:700;font-family:Poppins,sans-serif;text-align:center;color:#fff}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{font-size:22px;line-height:30px;margin-bottom:48px;font-family:Poppins,sans-serif;text-align:center;color:#fff}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding:30px;background:#fff;width:100%;border-radius:4px;box-shadow:0 0 #8898aa1a,0 15px 35px 2px #31315d1a,0 5px 15px 2px #00000014;position:relative}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;height:50px;font-size:16px;font-weight:400;border-radius:4px;color:#495057;background-color:#fff;border:1px solid rgba(0,0,0,.15);padding:8px 160px 8px 12px;outline:none;line-height:1.5}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#495057;font-size:16px;font-weight:400}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{position:absolute;top:30px;right:30px;width:150px;height:50px;background-color:#2699fb;border-radius:0 4px 4px 0/0px 4px 4px 0px;border:0px;outline:none;cursor:pointer;font-weight:700;color:#fff}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}"]}),n})();function c2(n,e){1&n&&(c.TgZ(0,"div",27),c._UZ(1,"img",28),c.qZA())}const SE=function(n){return{active:n}};function l2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",29),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).selectPic(0)}),c._UZ(1,"img",30),c.qZA()}if(2&n){const t=c.oxw(2);c.Q6J("ngClass",c.VKq(2,SE,0===t.selectedPicIndex)),c.xp6(1),c.Q6J("src",null==t.item?null:t.item.pics[0].url,c.LSH)}}function u2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",29),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).selectPic(1)}),c._UZ(1,"img",30),c.qZA()}if(2&n){const t=c.oxw(2);c.Q6J("ngClass",c.VKq(2,SE,1===t.selectedPicIndex)),c.xp6(1),c.Q6J("src",null==t.item?null:t.item.pics[1].url,c.LSH)}}function d2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",29),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).selectPic(2)}),c._UZ(1,"img",30),c.qZA()}if(2&n){const t=c.oxw(2);c.Q6J("ngClass",c.VKq(2,SE,2===t.selectedPicIndex)),c.xp6(1),c.Q6J("src",null==t.item?null:t.item.pics[2].url,c.LSH)}}function h2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",29),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).selectPic(3)}),c._UZ(1,"img",30),c.qZA()}if(2&n){const t=c.oxw(2);c.Q6J("ngClass",c.VKq(2,SE,3===t.selectedPicIndex)),c.xp6(1),c.Q6J("src",null==t.item?null:t.item.pics[3].url,c.LSH)}}function f2(n,e){if(1&n&&c._UZ(0,"img",30),2&n){const t=c.oxw(2);c.Q6J("src",t.selectedPic,c.LSH)}}function p2(n,e){1&n&&c._UZ(0,"img",28)}function g2(n,e){1&n&&(c.TgZ(0,"div",31),c._uU(1," Sarees "),c.qZA())}function m2(n,e){1&n&&(c.TgZ(0,"div",31),c._uU(1," Suits / Anarkali Suits "),c.qZA())}function _2(n,e){1&n&&(c.TgZ(0,"div",31),c._uU(1," Lahenga "),c.qZA())}function y2(n,e){1&n&&(c.TgZ(0,"div",31),c._uU(1," Gowns "),c.qZA())}function v2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",6)(1,"div",7),c.YNc(2,c2,2,0,"div",8),c.YNc(3,l2,2,4,"div",9),c.YNc(4,u2,2,4,"div",9),c.YNc(5,d2,2,4,"div",9),c.YNc(6,h2,2,4,"div",9),c.qZA(),c.TgZ(7,"div",10)(8,"div",11)(9,"div",12),c.YNc(10,f2,1,1,"img",13),c.YNc(11,p2,1,0,"img",14),c.qZA(),c.TgZ(12,"div",15)(13,"div",16),c._uU(14),c.qZA(),c.TgZ(15,"div",17),c._uU(16),c.ALo(17,"date"),c.qZA(),c.TgZ(18,"div",18),c._uU(19),c.qZA(),c.TgZ(20,"div",19),c._uU(21," Retail Price: AUD "),c.TgZ(22,"span",20),c._uU(23),c.qZA()(),c.TgZ(24,"div",19),c._uU(25," Asking Price: AUD "),c.TgZ(26,"span",21),c._uU(27),c.qZA()(),c.TgZ(28,"div",22)(29,"button",23),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return s.viewContact(s.item)}),c._uU(30,"View Seller Contact"),c.qZA()()()(),c.TgZ(31,"div",24),c.YNc(32,g2,2,0,"div",25),c.YNc(33,m2,2,0,"div",25),c.YNc(34,_2,2,0,"div",25),c.YNc(35,y2,2,0,"div",25),c.TgZ(36,"div",26),c._uU(37),c.qZA()()()()}if(2&n){const t=c.oxw();c.xp6(2),c.Q6J("ngIf",0==(null==t.item?null:t.item.pics.length)),c.xp6(1),c.Q6J("ngIf",(null==t.item?null:t.item.pics.length)>0),c.xp6(1),c.Q6J("ngIf",(null==t.item?null:t.item.pics.length)>1),c.xp6(1),c.Q6J("ngIf",(null==t.item?null:t.item.pics.length)>2),c.xp6(1),c.Q6J("ngIf",(null==t.item?null:t.item.pics.length)>3),c.xp6(4),c.Q6J("ngIf",t.selectedPic.length>0),c.xp6(1),c.Q6J("ngIf",0===t.selectedPic.length),c.xp6(3),c.hij(" ",null==t.item?null:t.item.title," "),c.xp6(2),c.hij(" Posted on: ",c.xi3(17,17,null==t.item?null:t.item.createdDate.toDate(),"mediumDate")," "),c.xp6(3),c.hij("Size: ",null==t.item?null:t.item.size,""),c.xp6(4),c.Oqu(null==t.item?null:t.item.retailPrice),c.xp6(4),c.Oqu(null==t.item?null:t.item.askingPrice),c.xp6(5),c.Q6J("ngIf","sarees"===(null==t.item?null:t.item.category)),c.xp6(1),c.Q6J("ngIf","suits"===(null==t.item?null:t.item.category)),c.xp6(1),c.Q6J("ngIf","lahenga"===(null==t.item?null:t.item.category)),c.xp6(1),c.Q6J("ngIf","gowns"===(null==t.item?null:t.item.category)),c.xp6(2),c.hij(" ",null==t.item?null:t.item.desc," ")}}function w2(n,e){1&n&&(c.TgZ(0,"div",32),c._UZ(1,"app-spinner"),c.qZA())}function C2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",33),c.NdJ("click",function(){return c.CHM(t),c.oxw().closeContact()}),c.qZA()}}function b2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",34)(1,"div",35)(2,"div",36),c._uU(3,"Contact Seller"),c.qZA(),c.TgZ(4,"div",37),c.NdJ("click",function(){return c.CHM(t),c.oxw().closeContact()}),c._uU(5,"x"),c.qZA()(),c.TgZ(6,"div",38)(7,"div",39),c._uU(8),c.qZA(),c.TgZ(9,"div",39),c._uU(10),c.qZA()(),c.TgZ(11,"div",40)(12,"button",23),c.NdJ("click",function(){return c.CHM(t),c.oxw().closeContact()}),c._uU(13,"Ok"),c.qZA()()()}if(2&n){const t=c.oxw();c.xp6(8),c.hij("Email: ",null==t.selectedItem?null:t.selectedItem.email,""),c.xp6(2),c.hij("Phone: ",null==t.selectedItem?null:t.selectedItem.phone,"")}}let E2=(()=>{class n{constructor(t,r){this.route=t,this.itemService=r,this.id="",this.selectedPic="",this.selectedPicIndex=0,this.isLoading=!1,this.showContact=!1}ngOnInit(){this.route.params.subscribe(t=>{this.id=t.id,this.getItem()})}getItem(){this.isLoading=!0,this.itemService.getItem(this.id).then(t=>{t.exists&&(this.item=t.data(),this.item.pics.length>0&&(this.selectedPic=this.item.pics[0].url)),this.isLoading=!1},t=>{this.isLoading=!1,console.log(t)})}selectPic(t){this.selectedPicIndex=t,this.selectedPic=this.item.pics[t].url}viewContact(t){this.selectedItem=t,this.showContact=!0}closeContact(){this.showContact=!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(la),c.Y36(fw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-item"]],decls:6,vars:6,consts:[[1,"item-container"],[3,"isWhite","isDarkBG"],["class","item",4,"ngIf"],["class","no-item",4,"ngIf"],["class","overlay",3,"click",4,"ngIf"],["class","contact-modal",4,"ngIf"],[1,"item"],[1,"item-left"],["class","thumbnail",4,"ngIf"],["class","thumbnail",3,"ngClass","click",4,"ngIf"],[1,"item-right"],[1,"item-right-top"],[1,"item-pic"],["alt","",3,"src",4,"ngIf"],["src","assets/no-image.png","alt","",4,"ngIf"],[1,"item-details"],[1,"item-title"],[1,"item-posted"],[1,"item-size"],[1,"item-price"],[1,"retail-price"],[1,"asking-price"],[1,"item-contact"],[3,"click"],[1,"item-right-bottom"],["class","item-category",4,"ngIf"],[1,"item-desc"],[1,"thumbnail"],["src","assets/no-image.png","alt",""],[1,"thumbnail",3,"ngClass","click"],["alt","",3,"src"],[1,"item-category"],[1,"no-item"],[1,"overlay",3,"click"],[1,"contact-modal"],[1,"top"],[1,"title"],[1,"close-btn",3,"click"],[1,"middle"],[1,"sec"],[1,"bottom"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-header",1),c.YNc(2,v2,38,20,"div",2),c.YNc(3,w2,2,0,"div",3),c.YNc(4,C2,1,0,"div",4),c.YNc(5,b2,14,2,"div",5),c.qZA()),2&t&&(c.xp6(1),c.Q6J("isWhite",!0)("isDarkBG",!0),c.xp6(1),c.Q6J("ngIf",!r.isLoading),c.xp6(1),c.Q6J("ngIf",r.isLoading),c.xp6(1),c.Q6J("ngIf",r.showContact),c.xp6(1),c.Q6J("ngIf",r.showContact))},directives:[$h,vn,Yr,l_],pipes:[lu],styles:[".item-container[_ngcontent-%COMP%]{width:100vw;min-height:100vh;overflow-x:hidden;position:relative}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;width:1000px;height:700px;margin:0 auto;padding-top:150px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-left[_ngcontent-%COMP%]{width:175px;height:465px;background-color:#f1f1f1}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-left[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{margin:10px;height:104px;border:2px solid #f1f1f1}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-left[_ngcontent-%COMP%]   .thumbnail.active[_ngcontent-%COMP%]{border:2px solid #4880ff}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-left[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100px;object-fit:cover;object-position:top;cursor:pointer}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]{width:825px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]{display:flex}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-pic[_ngcontent-%COMP%]{width:550px;padding:0 20px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:510px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{width:285px;padding-left:5px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin-bottom:5px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-posted[_ngcontent-%COMP%]{font-size:16px;color:gray;margin-bottom:20px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-size[_ngcontent-%COMP%]{font-size:18px;margin-bottom:20px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]   .asking-price[_ngcontent-%COMP%], .item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]   .retail-price[_ngcontent-%COMP%]{margin-left:10px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-contact[_ngcontent-%COMP%]{margin-top:40px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-contact[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0px;outline:none;padding:10px 25px;border-radius:5px;font-weight:700;font-size:18px;color:#fff;background-color:#059fba;cursor:pointer}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-bottom[_ngcontent-%COMP%]{padding:20px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-bottom[_ngcontent-%COMP%]   .item-category[_ngcontent-%COMP%]{border:2px solid #059fba;padding:3px 12px;font-size:16px;border-radius:4px;width:-moz-fit-content;width:fit-content;margin-bottom:10px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-bottom[_ngcontent-%COMP%]   .item-desc[_ngcontent-%COMP%]{margin-bottom:10px}.item-container[_ngcontent-%COMP%]   .no-item[_ngcontent-%COMP%]{width:100vw;height:800px;display:flex;align-items:center;justify-content:center}.item-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100vw;height:100vh;background-color:#000000bf}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]{position:absolute;top:calc(50vh - 100px);left:calc(50vw - 200px);width:400px;height:200px;background-color:#fff;border-radius:4px;padding:10px 15px}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #f1f1f1;padding-bottom:7px}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{cursor:pointer;font-size:18px}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{padding:15px 0 5px;border-bottom:1px solid #f1f1f1}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .sec[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{text-align:center}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:4px;background-color:#059fba;color:#fff;outline:none;border:0px;margin-top:10px;cursor:pointer}"]}),n})();function I2(n,e){1&n&&(c.TgZ(0,"span"),c._uU(1,"Sarees"),c.qZA())}function D2(n,e){1&n&&(c.TgZ(0,"span"),c._uU(1,"Lahenga"),c.qZA())}function T2(n,e){1&n&&(c.TgZ(0,"span"),c._uU(1,"Suits / Anarkali Suits"),c.qZA())}function A2(n,e){1&n&&(c.TgZ(0,"span"),c._uU(1,"Gowns"),c.qZA())}function x2(n,e){if(1&n&&c._UZ(0,"img",22),2&n){const t=c.oxw().$implicit;c.Q6J("src",t.pics[0].url,c.LSH)}}function M2(n,e){1&n&&c._UZ(0,"img",23)}function S2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",12),c.NdJ("click",function(){const l=c.CHM(t).$implicit;return c.oxw(2).goToItem(l.id)}),c.TgZ(1,"div",13),c.YNc(2,x2,1,1,"img",14),c.YNc(3,M2,1,0,"img",15),c.qZA(),c.TgZ(4,"div",16)(5,"div",17),c._uU(6),c.qZA(),c.TgZ(7,"div",18),c._uU(8),c.qZA(),c.TgZ(9,"div",19)(10,"div",20),c._uU(11),c.qZA(),c.TgZ(12,"div",21),c._uU(13,"View details"),c.qZA()()()()}if(2&n){const t=e.$implicit;c.xp6(2),c.Q6J("ngIf",t.pics[0]),c.xp6(1),c.Q6J("ngIf",!t.pics[0]),c.xp6(3),c.Oqu(t.title),c.xp6(2),c.Oqu(t.desc),c.xp6(3),c.hij("AUD ",t.askingPrice,"")}}function P2(n,e){if(1&n&&(c.TgZ(0,"div",10),c.YNc(1,S2,14,5,"div",11),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.items)}}function O2(n,e){1&n&&(c.TgZ(0,"div",24),c._uU(1," No items found "),c.qZA())}function k2(n,e){1&n&&(c.TgZ(0,"div",25),c._UZ(1,"app-spinner"),c.qZA())}let R2=(()=>{class n{constructor(t,r,s){this.route=t,this.router=r,this.itemService=s,this.type="",this.isLoading=!1,this.items=[]}ngOnInit(){this.route.params.subscribe(t=>{this.type=t.type,this.getAllData()})}getAllData(){this.isLoading=!0,this.itemService.getAllItemsByType(this.type).subscribe(t=>{this.items=t,this.isLoading=!1},t=>{this.isLoading=!1,console.log(t)})}goToItem(t){this.router.navigate(["item",t])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(la),c.Y36(Rn),c.Y36(fw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-list"]],decls:13,vars:8,consts:[[1,"list-container"],[3,"isWhite"],[1,"banner"],["src","assets/bg-images/bg6.jpg","alt",""],[1,"items-container"],[1,"title"],[4,"ngIf"],["class","items",4,"ngIf"],["class","no-items",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"items"],["class","item",3,"click",4,"ngFor","ngForOf"],[1,"item",3,"click"],[1,"item-img"],["alt","",3,"src",4,"ngIf"],["src","assets/no-image.png","alt","",4,"ngIf"],[1,"item-body"],[1,"item-title"],[1,"item-desc"],[1,"item-bottom"],[1,"item-price"],[1,"item-view"],["alt","",3,"src"],["src","assets/no-image.png","alt",""],[1,"no-items"],[1,"spinner"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-header",1),c.TgZ(2,"div",2),c._UZ(3,"img",3),c.qZA(),c.TgZ(4,"div",4)(5,"div",5),c.YNc(6,I2,2,0,"span",6),c.YNc(7,D2,2,0,"span",6),c.YNc(8,T2,2,0,"span",6),c.YNc(9,A2,2,0,"span",6),c.qZA(),c.YNc(10,P2,2,1,"div",7),c.YNc(11,O2,2,0,"div",8),c.YNc(12,k2,2,0,"div",9),c.qZA()()),2&t&&(c.xp6(1),c.Q6J("isWhite",!1),c.xp6(5),c.Q6J("ngIf","sarees"===r.type),c.xp6(1),c.Q6J("ngIf","lahenga"===r.type),c.xp6(1),c.Q6J("ngIf","suits"===r.type),c.xp6(1),c.Q6J("ngIf","gowns"===r.type),c.xp6(1),c.Q6J("ngIf",r.items.length>0&&!r.isLoading),c.xp6(1),c.Q6J("ngIf",0===r.items.length&&!r.isLoading),c.xp6(1),c.Q6J("ngIf",0===r.items.length&&r.isLoading))},directives:[$h,vn,On,l_],styles:[".list-container[_ngcontent-%COMP%]{width:100vw;min-height:100vh;position:relative}.list-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%;height:350px}.list-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]{padding:50px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:-20px;margin-left:-20px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:250px;margin-left:20px;margin-top:20px;height:330px;border-radius:5px;box-shadow:0 4px 8px #0003,0 6px 20px #00000030;cursor:pointer}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]{width:250px;height:150px;border-radius:5px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:150px;border-top-left-radius:5px;border-top-right-radius:5px;object-fit:cover}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]{padding:10px 20px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-size:22px;margin-bottom:5px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-desc[_ngcontent-%COMP%]{color:gray;display:-webkit-box;max-width:260px;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;margin-bottom:10px;height:80px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-bottom[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-bottom[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{font-size:18px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-bottom[_ngcontent-%COMP%]   .item-view[_ngcontent-%COMP%]{font-size:14px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .no-items[_ngcontent-%COMP%], .list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:100%;height:400px;display:flex;align-items:center;justify-content:center;font-size:20px}"]}),n})();function N2(n,e){if(1&n&&(c.TgZ(0,"div",21),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.hij(" ",t.loginEmailError," ")}}function F2(n,e){if(1&n&&(c.TgZ(0,"div",21),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.hij(" ",t.passwordError," ")}}function L2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",12)(1,"form")(2,"div",13)(3,"div",14),c._uU(4,"Email"),c.qZA(),c.TgZ(5,"div",15)(6,"input",16),c.NdJ("ngModelChange",function(s){return c.CHM(t),c.oxw().email=s}),c.qZA()(),c.YNc(7,N2,2,1,"div",17),c.qZA(),c.TgZ(8,"div",13)(9,"div",14),c._uU(10,"Password"),c.qZA(),c.TgZ(11,"div",15)(12,"input",18),c.NdJ("ngModelChange",function(s){return c.CHM(t),c.oxw().password=s}),c.qZA()(),c.YNc(13,F2,2,1,"div",17),c.qZA(),c.TgZ(14,"div")(15,"button",19),c.NdJ("click",function(){return c.CHM(t),c.oxw().login()}),c._uU(16,"Login"),c.qZA()(),c.TgZ(17,"div",20),c.NdJ("click",function(){return c.CHM(t),c.oxw().forgotPassword()}),c._uU(18,"Forgot Password"),c.qZA()()()}if(2&n){const t=c.oxw();c.xp6(6),c.Q6J("ngModel",t.email),c.xp6(1),c.Q6J("ngIf",t.loginEmailError.length>0),c.xp6(5),c.Q6J("ngModel",t.password),c.xp6(1),c.Q6J("ngIf",t.passwordError.length>0)}}function U2(n,e){if(1&n&&(c.TgZ(0,"div",21),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.hij(" ",t.fullNameError," ")}}function V2(n,e){if(1&n&&(c.TgZ(0,"div",21),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.hij(" ",t.registerEmailError," ")}}function B2(n,e){if(1&n&&(c.TgZ(0,"div",21),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.hij(" ",t.phoneError," ")}}function j2(n,e){if(1&n&&(c.TgZ(0,"div",21),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.hij(" ",t.passwordError," ")}}function H2(n,e){if(1&n&&(c.TgZ(0,"div",21),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.hij(" ",t.confirmPasswordError," ")}}function $2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",12)(1,"form")(2,"div",13)(3,"div",14),c._uU(4,"Full name"),c.qZA(),c.TgZ(5,"div",15)(6,"input",22),c.NdJ("ngModelChange",function(s){return c.CHM(t),c.oxw().fullName=s}),c.qZA()(),c.YNc(7,U2,2,1,"div",17),c.qZA(),c.TgZ(8,"div",13)(9,"div",14),c._uU(10,"Email"),c.qZA(),c.TgZ(11,"div",15)(12,"input",16),c.NdJ("ngModelChange",function(s){return c.CHM(t),c.oxw().email=s}),c.qZA()(),c.YNc(13,V2,2,1,"div",17),c.qZA(),c.TgZ(14,"div",13)(15,"div",14),c._uU(16,"Phone"),c.qZA(),c.TgZ(17,"div",15)(18,"input",23),c.NdJ("ngModelChange",function(s){return c.CHM(t),c.oxw().phone=s}),c.qZA()(),c.YNc(19,B2,2,1,"div",17),c.qZA(),c.TgZ(20,"div",13)(21,"div",14),c._uU(22,"Create Password"),c.qZA(),c.TgZ(23,"div",15)(24,"input",18),c.NdJ("ngModelChange",function(s){return c.CHM(t),c.oxw().password=s}),c.qZA()(),c.YNc(25,j2,2,1,"div",17),c.qZA(),c.TgZ(26,"div",13)(27,"div",14),c._uU(28,"Confirm Password"),c.qZA(),c.TgZ(29,"div",15)(30,"input",24),c.NdJ("ngModelChange",function(s){return c.CHM(t),c.oxw().confirmPassword=s}),c.qZA()(),c.YNc(31,H2,2,1,"div",17),c.qZA(),c.TgZ(32,"div")(33,"button",19),c.NdJ("click",function(){return c.CHM(t),c.oxw().register()}),c._uU(34,"Register"),c.qZA()()()()}if(2&n){const t=c.oxw();c.xp6(6),c.Q6J("ngModel",t.fullName),c.xp6(1),c.Q6J("ngIf",t.fullNameError.length>0),c.xp6(5),c.Q6J("ngModel",t.email),c.xp6(1),c.Q6J("ngIf",t.registerEmailError.length>0),c.xp6(5),c.Q6J("ngModel",t.phone),c.xp6(1),c.Q6J("ngIf",t.phoneError.length>0),c.xp6(5),c.Q6J("ngModel",t.password),c.xp6(1),c.Q6J("ngIf",t.passwordError.length>0),c.xp6(5),c.Q6J("ngModel",t.confirmPassword),c.xp6(1),c.Q6J("ngIf",t.confirmPasswordError.length>0)}}function q2(n,e){if(1&n&&(c.TgZ(0,"div",25),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.overallErr," ")}}function G2(n,e){if(1&n&&(c.TgZ(0,"div",26),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij(" ",t.overallStatus," ")}}function Z2(n,e){1&n&&(c.TgZ(0,"div",27),c._UZ(1,"app-spinner"),c.qZA())}const YP=function(n){return{active:n}};let z2=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.activeTab="login",this.fullName="",this.email="",this.phone="",this.password="",this.confirmPassword="",this.fullNameError="",this.registerEmailError="",this.phoneError="",this.loginEmailError="",this.passwordError="",this.confirmPasswordError="",this.emailPattern=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,this.phonePattern=/^[0-9]{10}$/,this.isLoading=!1,this.overallErr="",this.overallStatus=""}ngOnInit(){this.emailRegex=new RegExp(this.emailPattern),this.phoneRegex=new RegExp(this.phonePattern)}setActiveTab(t){this.activeTab=t,this.overallErr="",this.overallStatus=""}goToHome(){this.router.navigate(["home"])}login(){this.fullNameError="",this.loginEmailError="",this.passwordError="",this.overallErr="",this.overallStatus="",0===this.email.trim().length?this.loginEmailError="Email is required":this.emailRegex.test(this.email)?0===this.password.trim().length?this.passwordError="Password is required":(this.isLoading=!0,this.auth.signIn(this.email,this.password).then(t=>{this.auth.getAuthState().subscribe(r=>{this.email="",this.password="",this.isLoading=!1,this.overallStatus="Login successful",r&&this.auth.getUser(r.uid).then(s=>{let l=s.data();localStorage.setItem("email",l.email),localStorage.setItem("phone",l.phone),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("uid",r.uid),this.router.navigate(["home"])})})}).catch(t=>{this.overallErr="Please check your email and password",this.isLoading=!1})):this.loginEmailError="Email should be valid"}register(){this.fullNameError="",this.registerEmailError="",this.phoneError="",this.passwordError="",this.confirmPasswordError="",this.overallErr="",0===this.fullName.trim().length?this.fullNameError="Full name is required":0===this.email.trim().length?this.registerEmailError="Email is required":this.emailRegex.test(this.email)?0===this.phone.trim().length?this.phoneError="Phone number is required":this.phoneRegex.test(this.phone)?0===this.password.trim().length?this.passwordError="Password is required":this.password.trim().length<6?this.passwordError="Password should be atleast 6 characters in length":0===this.confirmPassword.trim().length?this.confirmPasswordError="Confirm password is required":this.password!==this.confirmPassword?this.confirmPasswordError="Password and confirm password does not match":(this.isLoading=!0,this.auth.signUp(this.email,this.password).then(t=>{this.auth.setUserData(t.user,this.fullName,this.phone).then(r=>{this.fullName="",this.email="",this.phone="",this.password="",this.confirmPassword="",this.isLoading=!1,this.overallStatus="Account created successfully"},r=>{this.isLoading=!1,this.overallErr="Sorry, some problem occured."})}).catch(t=>{this.isLoading=!1,this.overallErr="auth/email-already-in-use"===t.code?"Email already in use":"Sorry, some problem occured."})):this.phoneError="Phone number should be valid":this.registerEmailError="Email should be valid"}forgotPassword(){this.loginEmailError="",this.overallErr="",this.overallStatus="",0===this.email.trim().length?this.loginEmailError="Email is required":this.emailRegex.test(this.email)?(this.isLoading=!0,this.auth.forgotPassword(this.email).then(()=>{this.isLoading=!1,window.alert("Password reset email sent, check your inbox. Please check your spam folder also.")}).catch(t=>{this.isLoading=!1,this.overallErr="auth/user-not-found"===t.code?"User not yet registered":"Sorry, some problem occured"})):this.loginEmailError="Email should be valid"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Rn),c.Y36(S1))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:16,vars:11,consts:[[1,"login-container"],[1,"left"],[1,"logo",3,"click"],["src","assets/bg-images/bg2.jpg","alt","",1,"bg-pic"],[1,"right"],[1,"nav-tab"],[1,"nav-item","br",3,"ngClass","click"],[1,"nav-item","bl",3,"ngClass","click"],["class","form-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","success-container",4,"ngIf"],["class","spinner-container",4,"ngIf"],[1,"form-container"],[1,"form-group"],[1,"label"],[1,"form-control"],["type","email","name","email","maxlength","50",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],["type","password","name","password","maxlength","50",3,"ngModel","ngModelChange"],[1,"loginBtn",3,"click"],[1,"link",3,"click"],[1,"error"],["type","text","name","fullName","maxlength","25",3,"ngModel","ngModelChange"],["type","tel","name","phone","maxlength","10",3,"ngModel","ngModelChange"],["type","password","name","confirmPassword","maxlength","50",3,"ngModel","ngModelChange"],[1,"error-container"],[1,"success-container"],[1,"spinner-container"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c.NdJ("click",function(){return r.goToHome()}),c._uU(3,"stillred"),c.qZA(),c._UZ(4,"img",3),c.qZA(),c.TgZ(5,"div",4)(6,"div",5)(7,"div",6),c.NdJ("click",function(){return r.setActiveTab("login")}),c._uU(8," Login "),c.qZA(),c.TgZ(9,"div",7),c.NdJ("click",function(){return r.setActiveTab("register")}),c._uU(10," Register "),c.qZA()(),c.YNc(11,L2,19,4,"div",8),c.YNc(12,$2,35,10,"div",8),c.YNc(13,q2,2,1,"div",9),c.YNc(14,G2,2,1,"div",10),c.YNc(15,Z2,2,0,"div",11),c.qZA()()),2&t&&(c.xp6(7),c.Q6J("ngClass",c.VKq(7,YP,"login"===r.activeTab)),c.xp6(2),c.Q6J("ngClass",c.VKq(9,YP,"register"===r.activeTab)),c.xp6(2),c.Q6J("ngIf","login"===r.activeTab),c.xp6(1),c.Q6J("ngIf","register"===r.activeTab),c.xp6(1),c.Q6J("ngIf",r.overallErr.length>0),c.xp6(1),c.Q6J("ngIf",r.overallStatus.length>0),c.xp6(1),c.Q6J("ngIf",r.isLoading))},directives:[Yr,vn,cx,KA,vw,Kp,ww,pw,c_,l_],styles:[".login-container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;display:flex}.login-container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:70vw}.login-container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .bg-pic[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.login-container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:500;cursor:pointer;position:absolute;top:22px;left:100px}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:30vw}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .nav-tab[_ngcontent-%COMP%]{display:flex;align-items:center;height:70px;margin-top:150px;font-size:18px}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .nav-tab[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{width:50%;text-align:center;cursor:pointer}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .nav-tab[_ngcontent-%COMP%]   .nav-item.bl[_ngcontent-%COMP%]{border-left:1px solid black}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .nav-tab[_ngcontent-%COMP%]   .nav-item.br[_ngcontent-%COMP%]{border-right:1px solid black}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .nav-tab[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{font-weight:700;cursor:default}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:50px;margin-top:50px}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:24px;margin-bottom:20px;width:100%}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:5px}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;height:40px}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid rgba(0,0,0,.15);color:#495057;outline:none;padding:8px 12px;border-radius:4px;font-size:18px}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:3px}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .loginBtn[_ngcontent-%COMP%]{width:100%;height:40px;padding:8px 12px;border-radius:4px;font-size:18px;margin-top:20px;border:0px;background-color:#2699fb;color:#fff;cursor:pointer}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-top:25px;font-size:16px;color:#2699fb;text-align:center;cursor:pointer}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{color:red;font-size:14px;width:100%;text-align:center}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .success-container[_ngcontent-%COMP%]{color:green;font-size:14px;width:100%;text-align:center}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{width:100%;text-align:center}"]}),n})(),W2=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}goToHome(){this.router.navigate(["home"])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Rn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-not-found"]],decls:6,vars:0,consts:[[1,"not-found"],[1,"title"],[1,"link",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div")(2,"div",1),c._uU(3,"404 | Page Not Found"),c.qZA(),c.TgZ(4,"div",2),c.NdJ("click",function(){return r.goToHome()}),c._uU(5,"HOME"),c.qZA()()())},styles:[".not-found[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;font-family:Aboreto,cursive;font-weight:700}.not-found[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:60px;width:100%}.not-found[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:28px;color:#00f;width:100%;text-align:center;margin-top:20px;cursor:pointer}"]}),n})();function K2(n,e){if(1&n&&c._UZ(0,"img",21),2&n){const t=c.oxw().$implicit;c.Q6J("src",t.pics[0].url,c.LSH)}}function Y2(n,e){1&n&&c._UZ(0,"img",22)}function J2(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",11),c.NdJ("click",function(){const l=c.CHM(t).$implicit;return c.oxw(2).goToItem(l.id)}),c.TgZ(1,"div",12),c.YNc(2,K2,1,1,"img",13),c.YNc(3,Y2,1,0,"img",14),c.qZA(),c.TgZ(4,"div",15)(5,"div",16),c._uU(6),c.qZA(),c.TgZ(7,"div",17),c._uU(8),c.qZA(),c.TgZ(9,"div",18)(10,"div",19),c._uU(11),c.qZA(),c.TgZ(12,"div",20),c._uU(13,"View details"),c.qZA()()()()}if(2&n){const t=e.$implicit;c.xp6(2),c.Q6J("ngIf",t.pics[0]),c.xp6(1),c.Q6J("ngIf",!t.pics[0]),c.xp6(3),c.Oqu(t.title),c.xp6(2),c.Oqu(t.desc),c.xp6(3),c.hij("AUD ",t.askingPrice,"")}}function Q2(n,e){if(1&n&&(c.TgZ(0,"div",9),c.YNc(1,J2,14,5,"div",10),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.items)}}function X2(n,e){1&n&&(c.TgZ(0,"div",23),c._uU(1," No items found "),c.qZA())}function eL(n,e){1&n&&(c.TgZ(0,"div",24),c._UZ(1,"app-spinner"),c.qZA())}let tL=(()=>{class n{constructor(t,r,s){this.router=t,this.route=r,this.itemService=s,this.isLoading=!1,this.items=[],this.searchTxt=""}ngOnInit(){this.route.queryParams.subscribe(t=>{this.searchTxt=t.key,this.getAllData()})}getAllData(){this.isLoading=!0,this.itemService.getAllItemsByKeyword(this.searchTxt).subscribe(t=>{this.items=t,this.isLoading=!1},t=>{this.isLoading=!1,console.log(t)})}goToItem(t){this.router.navigate(["item",t])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Rn),c.Y36(la),c.Y36(fw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-search"]],decls:11,vars:5,consts:[[1,"list-container"],[3,"isWhite"],[1,"banner"],["src","assets/bg-images/bg6.jpg","alt",""],[1,"items-container"],[1,"title"],["class","items",4,"ngIf"],["class","no-items",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"items"],["class","item",3,"click",4,"ngFor","ngForOf"],[1,"item",3,"click"],[1,"item-img"],["alt","",3,"src",4,"ngIf"],["src","assets/no-image.png","alt","",4,"ngIf"],[1,"item-body"],[1,"item-title"],[1,"item-desc"],[1,"item-bottom"],[1,"item-price"],[1,"item-view"],["alt","",3,"src"],["src","assets/no-image.png","alt",""],[1,"no-items"],[1,"spinner"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-header",1),c.TgZ(2,"div",2),c._UZ(3,"img",3),c.qZA(),c.TgZ(4,"div",4)(5,"div",5)(6,"span"),c._uU(7),c.qZA()(),c.YNc(8,Q2,2,1,"div",6),c.YNc(9,X2,2,0,"div",7),c.YNc(10,eL,2,0,"div",8),c.qZA()()),2&t&&(c.xp6(1),c.Q6J("isWhite",!1),c.xp6(6),c.hij("Search results for keyword: ",r.searchTxt,""),c.xp6(1),c.Q6J("ngIf",r.items.length>0&&!r.isLoading),c.xp6(1),c.Q6J("ngIf",0===r.items.length&&!r.isLoading),c.xp6(1),c.Q6J("ngIf",0===r.items.length&&r.isLoading))},directives:[$h,vn,On,l_],styles:[".list-container[_ngcontent-%COMP%]{width:100vw;min-height:100vh;position:relative}.list-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%;height:350px}.list-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]{padding:50px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:-20px;margin-left:-20px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:250px;margin-left:20px;margin-top:20px;height:330px;border-radius:5px;box-shadow:0 4px 8px #0003,0 6px 20px #00000030;cursor:pointer}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]{width:250px;height:150px;border-radius:5px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:150px;border-top-left-radius:5px;border-top-right-radius:5px;object-fit:cover}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]{padding:10px 20px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-size:22px;margin-bottom:5px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-desc[_ngcontent-%COMP%]{color:gray;display:-webkit-box;max-width:260px;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;margin-bottom:10px;height:80px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-bottom[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-bottom[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{font-size:18px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-bottom[_ngcontent-%COMP%]   .item-view[_ngcontent-%COMP%]{font-size:14px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .no-items[_ngcontent-%COMP%], .list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:100%;height:400px;display:flex;align-items:center;justify-content:center;font-size:20px}"]}),n})(),nL=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}addItem(){this.router.navigate(["add-item"])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Rn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-sell"]],decls:45,vars:1,consts:[[1,"sell-container"],[1,"overlay"],[1,"overlay-white"],["src","assets/bg-images/bg1.jpg","alt","",1,"bg-pic"],[3,"isWhite"],[1,"title-container"],[1,"main-title"],[1,"sub-title"],[1,"content-container"],[1,"content-wrapper"],[1,"content"],[1,"step-container"],[1,"step-row"],[1,"title"],[1,"step-col","left"],[1,"number-circle"],[1,"step-title"],[1,"step-desc"],[1,"step-col","center"],[1,"step-col","right"],[1,"step-row","t-center","d-block"],[1,"start-btn",3,"click"],[1,"price"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"div",1)(2,"div",2)(3,"img",3)(4,"app-header",4),c.TgZ(5,"div",5)(6,"div",6)(7,"h1"),c._uU(8,"Sell your dress"),c.qZA()(),c.TgZ(9,"div",7),c._uU(10," No wonder we're the best place to sell your dress "),c.qZA()(),c.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h2",13),c._uU(17,"Selling in 3 steps"),c.qZA()(),c.TgZ(18,"div",12)(19,"div",14)(20,"div",15),c._uU(21,"1"),c.qZA(),c.TgZ(22,"h4",16),c._uU(23,"List your dress"),c.qZA(),c.TgZ(24,"div",17),c._uU(25," With photos and a selling price you choose. All for a small one-off fee! "),c.qZA()(),c.TgZ(26,"div",18)(27,"div",15),c._uU(28,"2"),c.qZA(),c.TgZ(29,"h4",16),c._uU(30,"Chat privately"),c.qZA(),c.TgZ(31,"div",17),c._uU(32," Receive messages from buyers & keep your contact details private. "),c.qZA()(),c.TgZ(33,"div",19)(34,"div",15),c._uU(35,"3"),c.qZA(),c.TgZ(36,"h4",16),c._uU(37,"Get paid"),c.qZA(),c.TgZ(38,"div",17),c._uU(39," Accept secure payment online & send the dress on its way. "),c.qZA()()(),c.TgZ(40,"div",20)(41,"button",21),c.NdJ("click",function(){return r.addItem()}),c._uU(42,"Start Selling"),c.qZA(),c.TgZ(43,"div",22),c._uU(44,"AUD 4.95 per item"),c.qZA()()()()()()()),2&t&&(c.xp6(4),c.Q6J("isWhite",!1))},directives:[$h],styles:[".sell-container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;position:relative}.sell-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;background:linear-gradient(to right,rgba(1,138,251,.6) 0%,rgba(216,118,255,.6) 100%);width:100vw;height:100vh;overflow:hidden}.sell-container[_ngcontent-%COMP%]   .overlay-white[_ngcontent-%COMP%]{position:absolute;bottom:0px;left:0px;background:#fff;width:100vw;height:35vh;overflow:hidden}.sell-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{position:absolute;top:280px;left:0px;width:100vw;height:130px}.sell-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-size:26px;line-height:30px;margin-bottom:40px;font-weight:700;font-family:Poppins,sans-serif;text-align:center;color:#fff}.sell-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{font-size:22px;line-height:30px;margin-bottom:48px;font-family:Poppins,sans-serif;text-align:center;color:#fff}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{position:absolute;bottom:100px;left:0px;background:transparent;width:100vw;height:450px;border-radius:4px}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:1000px;height:500px;box-shadow:0 0 #8898aa1a,0 15px 35px 2px #31315d1a,0 5px 15px 2px #00000014;padding:40px 80px;margin:0 auto;position:relative;background:white;border-radius:4px}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;z-index:999;width:840px}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]{width:100%;color:#484848}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]{margin-bottom:50px;width:100%;display:flex;justify-content:space-between}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row.t-center[_ngcontent-%COMP%]{text-align:center}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row.d-block[_ngcontent-%COMP%]{display:block}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:36px;font-weight:700;text-align:center;width:100%;font-family:Roboto,sans-serif}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .step-col[_ngcontent-%COMP%]{max-width:33.333333%}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .step-col.left[_ngcontent-%COMP%]{text-align:left}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .step-col.center[_ngcontent-%COMP%]{text-align:center}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .step-col.right[_ngcontent-%COMP%]{text-align:right}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .step-col[_ngcontent-%COMP%]   .number-circle[_ngcontent-%COMP%]{display:inline-block;text-align:center;background-color:#868e96;color:#fff;border-radius:100%;width:40px;height:40px;line-height:40px;font-size:16px;font-weight:700}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .step-col[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:31px;margin:16px 0}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .step-col[_ngcontent-%COMP%]   .step-desc[_ngcontent-%COMP%]{width:250px;margin:0;padding:0}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:20px;width:200px;background-color:#2699fb;border:0px;color:#fff;border-radius:4px;padding:8px 16px;cursor:pointer;margin-bottom:15px}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:16px}.sell-container[_ngcontent-%COMP%]   .bg-pic[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}"]}),n})(),JP=(()=>{class n{constructor(t){this.router=t}canActivate(t,r){let s=!1;return s="true"===localStorage.getItem("isLoggedIn"),s||this.router.navigate(["/login"]),s}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Rn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rL=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:a2},{path:"login",component:z2},{path:"sell",component:nL},{path:"add-item",component:MF,canActivate:[JP]},{path:"dashboard",component:jF,canActivate:[JP]},{path:"list/:type",component:R2},{path:"item/:id",component:E2},{path:"search",component:tL},{path:"help",component:o2},{path:"**",component:W2}];let iL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[kw.forRoot(rL,{initialNavigation:"enabledBlocking"})],kw]}),n})(),sL=(()=>{class n{constructor(){this.title="still-red"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[Iu],styles:[""]}),n})();const QP_firebase={apiKey:"AIzaSyCdHBrUlCGmM1iKfGa91ibiyaAAbgZP0Zs",authDomain:"still-red.firebaseapp.com",projectId:"still-red",storageBucket:"still-red.appspot.com",messagingSenderId:"869361364799",appId:"1:869361364799:web:65dcdd729b02a1546eed8a"},wx=new c.OlP("@sweetalert2/ngx-sweetalert2#swalProvider"),XP=new c.OlP("@sweetalert2/ngx-sweetalert2#fireOnInit"),eO=new c.OlP("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let tO=(()=>{class n{constructor(t){this.swalProvider=t}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const t=function r(l){return"function"==typeof l&&void 0===l.version}(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=t.then(l=>function s(l){return"function"==typeof l}(l)?l:l.default)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wx))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function oL(){return Promise.resolve().then(F.t.bind(F,5226,19))}let aL=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[tO,{provide:wx,useValue:t.provideSwal||oL},{provide:XP,useValue:t.fireOnInit||!1},{provide:eO,useValue:t.dismissOnDestroy||!0}]}}static forChild(t={}){return{ngModule:n,providers:[...t.provideSwal?[tO,{provide:wx,useValue:t.provideSwal}]:[],...void 0!==t.fireOnInit?[{provide:XP,useValue:t.fireOnInit}]:[],...void 0!==t.dismissOnDestroy?[{provide:eO,useValue:t.dismissOnDestroy}]:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ia]]}),n})(),cL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[sL]}),n.\u0275inj=c.cJS({providers:[],imports:[[Qo.withServerTransition({appId:"serverApp"}),uF,us.hO.initializeApp(QP_firebase),tN,iL,t2,aL.forRoot()]]}),n})();function nO(){Jo().bootstrapModule(cL).catch(n=>console.error(n))}(0,c.G48)(),"complete"===document.readyState?nO():document.addEventListener("DOMContentLoaded",nO)},5867:(rt,oe,F)=>{"use strict";F.d(oe,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=F(9681);(0,c.registerVersion)("firebase","9.9.3","app")},127:(rt,oe,F)=>{"use strict";F.d(oe,{Z:()=>c.Z});var c=F(3942);c.Z.registerVersion("firebase","9.9.3","app-compat")},1451:(rt,oe,F)=>{"use strict";F.r(oe);var c=F(5861),L=F(3942),U=F(2090),pe=F(9681),le=F(655),ye=F(1877),ce=F(4859);const Ue=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new ye.Yd("@firebase/auth");function Qe(_,...f){Ne.logLevel<=ye.in.ERROR&&Ne.error(`Auth (${pe.SDK_VERSION}): ${_}`,...f)}function Pe(_,...f){throw qe(_,...f)}function be(_,...f){return qe(_,...f)}function Ae(_,f,p){const w=Object.assign(Object.assign({},Ve()),{[f]:p});return new U.LL("auth","Firebase",w).create(f,{appName:_.name})}function Ze(_,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Pe(_,"argument-error"),Ae(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(_,...f){if("string"!=typeof _){const p=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(p,...w)}return me.create(_,...f)}function G(_,f,...p){if(!_)throw qe(f,...p)}function Ce(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Qe(f),new Error(f)}function ee(_,f){_||Ce(f)}const ae=new Map;function re(_){ee(_ instanceof Function,"Expected a class definition");let f=ae.get(_);return f?(ee(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ae.set(_,f),f)}function Be(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function pt(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Jt{constructor(f,p){this.shortDelay=f,this.longDelay=p,ee(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function Ht(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mn(_,f){ee(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Qt{static initialize(f,p,w){this.fetchImpl=f,p&&(this.headersImpl=p),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},bn=new Jt(3e4,6e4);function Xt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function At(_,f,p,w){return gi.apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(_,f,p,w,x={}){return Vr(_,x,(0,c.Z)(function*(){let N={},X={};w&&("GET"===f?X=w:N={body:JSON.stringify(w)});const ge=(0,U.xO)(Object.assign({key:_.config.apiKey},X)).slice(1),He=yield _._getAdditionalHeaders();return He["Content-Type"]="application/json",_.languageCode&&(He["X-Firebase-Locale"]=_.languageCode),Qt.fetch()(gr(_,_.config.apiHost,p,ge),Object.assign({method:f,headers:He,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Vr(_,f,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(_,f,p){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},Lt),f);try{const x=new Un(_),N=yield Promise.race([p(),x.promise]);x.clearNetworkTimeout();const X=yield N.json();if("needConfirmation"in X)throw hn(_,"account-exists-with-different-credential",X);if(N.ok&&!("errorMessage"in X))return X;{const ge=N.ok?X.errorMessage:X.error.message,[He,st]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw hn(_,"credential-already-in-use",X);if("EMAIL_EXISTS"===He)throw hn(_,"email-already-in-use",X);if("USER_DISABLED"===He)throw hn(_,"user-disabled",X);const Ct=w[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Ae(_,Ct,st);Pe(_,Ct)}}catch(x){if(x instanceof U.ZR)throw x;Pe(_,"network-request-failed")}})).apply(this,arguments)}function Pt(_,f,p,w){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(_,f,p,w,x={}){const N=yield At(_,f,p,w,x);return"mfaPendingCredential"in N&&Pe(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function gr(_,f,p,w){const x=`${f}${p}?${w}`;return _.config.emulator?Mn(_.config,x):`${_.config.apiScheme}://${x}`}class Un{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,w)=>{this.timer=setTimeout(()=>w(be(this.auth,"network-request-failed")),bn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hn(_,f,p){const w={appName:_.name};p.email&&(w.email=p.email),p.phoneNumber&&(w.phoneNumber=p.phoneNumber);const x=be(_,f,w);return x.customData._tokenResponse=p,x}function Tr(){return(Tr=(0,c.Z)(function*(_,f){return At(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function yn(_,f){return en.apply(this,arguments)}function en(){return(en=(0,c.Z)(function*(_,f){return At(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Li(_,f){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,c.Z)(function*(_,f){return At(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function In(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function lo(){return(lo=(0,c.Z)(function*(_,f=!1){const p=(0,U.m9)(_),w=yield p.getIdToken(f),x=ht(w);G(x&&x.exp&&x.auth_time&&x.iat,p.auth,"internal-error");const N="object"==typeof x.firebase?x.firebase:void 0,X=null==N?void 0:N.sign_in_provider;return{claims:x,token:w,authTime:In(nt(x.auth_time)),issuedAtTime:In(nt(x.iat)),expirationTime:In(nt(x.exp)),signInProvider:X||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function nt(_){return 1e3*Number(_)}function ht(_){var f;const[p,w,x]=_.split(".");if(void 0===p||void 0===w||void 0===x)return Qe("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,U.tV)(w);return N?JSON.parse(N):(Qe("Failed to decode base64 JWT payload"),null)}catch(N){return Qe("Caught error parsing JWT payload as JSON",null===(f=N)||void 0===f?void 0:f.toString()),null}}function ir(_,f){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(_,f,p=!1){if(p)return f;try{return yield f}catch(w){throw w instanceof U.ZR&&Gt(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function Gt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Ar{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),w)}iteration(){var f=this;return(0,c.Z)(function*(){var p;try{yield f.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(p=w)||void 0===p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class mr{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=In(this.lastLoginAt),this.creationTime=In(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xr(_){return _t.apply(this,arguments)}function _t(){return(_t=(0,c.Z)(function*(_){var f;const p=_.auth,w=yield _.getIdToken(),x=yield ir(_,Li(p,{idToken:w}));G(null==x?void 0:x.users.length,p,"internal-error");const N=x.users[0];_._notifyReloadListener(N);const X=(null===(f=N.providerUserInfo)||void 0===f?void 0:f.length)?$(N.providerUserInfo):[],ge=Q(_.providerData,X),Ct=!!_.isAnonymous&&!(_.email&&N.passwordHash||(null==ge?void 0:ge.length)),wt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ge,metadata:new mr(N.createdAt,N.lastLoginAt),isAnonymous:Ct};Object.assign(_,wt)})).apply(this,arguments)}function Z(){return(Z=(0,c.Z)(function*(_){const f=(0,U.m9)(_);yield xr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Q(_,f){return[..._.filter(w=>!f.some(x=>x.providerId===w.providerId)),...f]}function $(_){return _.map(f=>{var{providerId:p}=f,w=(0,le._T)(f,["providerId"]);return{providerId:p,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function W(){return(W=(0,c.Z)(function*(_,f){const p=yield Vr(_,{},(0,c.Z)(function*(){const w=(0,U.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:x,apiKey:N}=_.config,X=gr(_,x,"/v1/token",`key=${N}`),ge=yield _._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",Qt.fetch()(X,{method:"POST",headers:ge,body:w})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class ke{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){G(f.idToken,"internal-error"),G(void 0!==f.idToken,"internal-error"),G(void 0!==f.refreshToken,"internal-error");const p="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function xt(_){const f=ht(_);return G(f,"internal-error"),G(void 0!==f.exp,"internal-error"),G(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var w=this;return(0,c.Z)(function*(){return G(!w.accessToken||w.refreshToken,f,"user-token-expired"),p||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var w=this;return(0,c.Z)(function*(){const{accessToken:x,refreshToken:N,expiresIn:X}=yield function K(_,f){return W.apply(this,arguments)}(f,p);w.updateTokensAndExpiration(x,N,Number(X))})()}updateTokensAndExpiration(f,p,w){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,p){const{refreshToken:w,accessToken:x,expirationTime:N}=p,X=new ke;return w&&(G("string"==typeof w,"internal-error",{appName:f}),X.refreshToken=w),x&&(G("string"==typeof x,"internal-error",{appName:f}),X.accessToken=x),N&&(G("number"==typeof N,"internal-error",{appName:f}),X.expirationTime=N),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new ke,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function Ge(_,f){G("string"==typeof _||void 0===_,"internal-error",{appName:f})}class mt{constructor(f){var{uid:p,auth:w,stsTokenManager:x}=f,N=(0,le._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new mr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,c.Z)(function*(){const w=yield ir(p,p.stsTokenManager.getToken(p.auth,f));return G(w,p.auth,"internal-error"),p.accessToken!==w&&(p.accessToken=w,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),w})()}getIdTokenResult(f){return function mi(_){return lo.apply(this,arguments)}(this,f)}reload(){return function ps(_){return Z.apply(this,arguments)}(this)}_assign(f){this!==f&&(G(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new mt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var w=this;return(0,c.Z)(function*(){let x=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),x=!0),p&&(yield xr(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,c.Z)(function*(){const p=yield f.getIdToken();return yield ir(f,function it(_,f){return Tr.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var w,x,N,X,ge,He,st,Ct;const wt=null!==(w=p.displayName)&&void 0!==w?w:void 0,$n=null!==(x=p.email)&&void 0!==x?x:void 0,zi=null!==(N=p.phoneNumber)&&void 0!==N?N:void 0,Ml=null!==(X=p.photoURL)&&void 0!==X?X:void 0,mf=null!==(ge=p.tenantId)&&void 0!==ge?ge:void 0,_g=null!==(He=p._redirectEventId)&&void 0!==He?He:void 0,Pc=null!==(st=p.createdAt)&&void 0!==st?st:void 0,Su=null!==(Ct=p.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:Jd,emailVerified:yg,isAnonymous:Rn,providerData:_f,stsTokenManager:yf}=p;G(Jd&&yf,f,"internal-error");const vf=ke.fromJSON(this.name,yf);G("string"==typeof Jd,f,"internal-error"),Ge(wt,f.name),Ge($n,f.name),G("boolean"==typeof yg,f,"internal-error"),G("boolean"==typeof Rn,f,"internal-error"),Ge(zi,f.name),Ge(Ml,f.name),Ge(mf,f.name),Ge(_g,f.name),Ge(Pc,f.name),Ge(Su,f.name);const Pu=new mt({uid:Jd,auth:f,email:$n,emailVerified:yg,displayName:wt,isAnonymous:Rn,photoURL:Ml,phoneNumber:zi,tenantId:mf,stsTokenManager:vf,createdAt:Pc,lastLoginAt:Su});return _f&&Array.isArray(_f)&&(Pu.providerData=_f.map(Sl=>Object.assign({},Sl))),_g&&(Pu._redirectEventId=_g),Pu}static _fromIdTokenResponse(f,p,w=!1){return(0,c.Z)(function*(){const x=new ke;x.updateFromServerResponse(p);const N=new mt({uid:p.localId,auth:f,stsTokenManager:x,isAnonymous:w});return yield xr(N),N})()}}const Wt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,w){var x=this;return(0,c.Z)(function*(){x.storage[p]=w})()}_get(p){var w=this;return(0,c.Z)(function*(){const x=w.storage[p];return void 0===x?null:x})()}_remove(p){var w=this;return(0,c.Z)(function*(){delete w.storage[p]})()}_addListener(p,w){}_removeListener(p,w){}}return _.type="NONE",_})();function Zn(_,f,p){return`firebase:${_}:${f}:${p}`}class Bt{constructor(f,p,w){this.persistence=f,this.auth=p,this.userKey=w;const{config:x,name:N}=this.auth;this.fullUserKey=Zn(this.userKey,x.apiKey,N),this.fullPersistenceKey=Zn("persistence",x.apiKey,N),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?mt._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,c.Z)(function*(){if(p.persistence===f)return;const w=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,w?p.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,w="authUser"){return(0,c.Z)(function*(){if(!p.length)return new Bt(re(Wt),f,w);const x=(yield Promise.all(p.map(function(){var st=(0,c.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return st.apply(this,arguments)}}()))).filter(st=>st);let N=x[0]||re(Wt);const X=Zn(w,f.config.apiKey,f.name);let ge=null;for(const st of p)try{const Ct=yield st._get(X);if(Ct){const wt=mt._fromJSON(f,Ct);st!==N&&(ge=wt),N=st;break}}catch(Ct){}const He=x.filter(st=>st._shouldAllowMigration);return N._shouldAllowMigration&&He.length?(N=He[0],ge&&(yield N._set(X,ge.toJSON())),yield Promise.all(p.map(function(){var st=(0,c.Z)(function*(Ct){if(Ct!==N)try{yield Ct._remove(X)}catch(wt){}});return function(Ct){return st.apply(this,arguments)}}())),new Bt(N,f,w)):new Bt(N,f,w)})()}}function Kr(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Vn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Vi(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Qi(f))return"Blackberry";if(Bn(f))return"Webos";if(uo(f))return"Safari";if((f.includes("chrome/")||Uo(f))&&!f.includes("edge/"))return"Chrome";if(Mr(f))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Vi(_=(0,U.z$)()){return/firefox\//i.test(_)}function uo(_=(0,U.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Uo(_=(0,U.z$)()){return/crios\//i.test(_)}function Vn(_=(0,U.z$)()){return/iemobile/i.test(_)}function Mr(_=(0,U.z$)()){return/android/i.test(_)}function Qi(_=(0,U.z$)()){return/blackberry/i.test(_)}function Bn(_=(0,U.z$)()){return/webos/i.test(_)}function Br(_=(0,U.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function yi(_=(0,U.z$)()){return Br(_)||Mr(_)||Bn(_)||Qi(_)||/windows phone/i.test(_)||Vn(_)}function fo(_,f=[]){let p;switch(_){case"Browser":p=Kr((0,U.z$)());break;case"Worker":p=`${Kr((0,U.z$)())}-${_}`;break;default:p=_}const w=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${pe.SDK_VERSION}/${w}`}class jr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const w=N=>new Promise((X,ge)=>{try{X(f(N))}catch(He){ge(He)}});w.onAbort=p,this.queue.push(w);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,c.Z)(function*(){var w;if(p.auth.currentUser===f)return;const x=[];try{for(const N of p.queue)yield N(f),N.onAbort&&x.push(N.onAbort)}catch(N){x.reverse();for(const X of x)try{X()}catch(ge){}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=N)||void 0===w?void 0:w.message})}})()}}class Xe{constructor(f,p,w){this.app=f,this.heartbeatServiceProvider=p,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new un(this),this.idTokenSubscription=new un(this),this.beforeStateQueue=new jr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,p){var w=this;return p&&(this._popupRedirectResolver=re(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var x,N;if(!w._deleted&&(w.persistenceManager=yield Bt.create(w,f),!w._deleted)){if(null===(x=w._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(X){}yield w.initializeCurrentUser(p),w.lastNotifiedUid=(null===(N=w.currentUser)||void 0===N?void 0:N.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,c.Z)(function*(){var w;const x=yield p.assertedPersistence.getCurrentUser();let N=x,X=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ge=null===(w=p.redirectUser)||void 0===w?void 0:w._redirectEventId,He=null==N?void 0:N._redirectEventId,st=yield p.tryRedirectSignIn(f);(!ge||ge===He)&&(null==st?void 0:st.user)&&(N=st.user,X=!0)}if(!N)return p.directlySetCurrentUser(null);if(!N._redirectEventId){if(X)try{yield p.beforeStateQueue.runMiddleware(N)}catch(ge){N=x,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ge))}return N?p.reloadAndSetCurrentUserOrClear(N):p.directlySetCurrentUser(null)}return G(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===N._redirectEventId?p.directlySetCurrentUser(N):p.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var p=this;return(0,c.Z)(function*(){let w=null;try{w=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch(x){yield p._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,c.Z)(function*(){var w;try{yield xr(f)}catch(x){if("auth/network-request-failed"!==(null===(w=x)||void 0===w?void 0:w.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Je(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,c.Z)(function*(){const w=f?(0,U.m9)(f):null;return w&&G(w.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(w&&w._clone(p))})()}_updateCurrentUser(f,p=!1){var w=this;return(0,c.Z)(function*(){if(!w._deleted)return f&&G(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),p||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,c.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(re(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new U.LL("auth","Firebase",f())}onAuthStateChanged(f,p,w){return this.registerStateListener(this.authStateSubscription,f,p,w)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,w){return this.registerStateListener(this.idTokenSubscription,f,p,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var w=this;return(0,c.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(p);return null===f?x.removeCurrentUser():x.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const w=f&&re(f)||p._popupRedirectResolver;G(w,p,"argument-error"),p.redirectPersistenceManager=yield Bt.create(p,[re(w._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,c.Z)(function*(){var w,x;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(w=p._currentUser)||void 0===w?void 0:w._redirectEventId)===f?p._currentUser:(null===(x=p.redirectUser)||void 0===x?void 0:x._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,c.Z)(function*(){if(f===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,w,x){if(this._deleted)return()=>{};const N="function"==typeof p?p:p.next.bind(p),X=this._isInitialized?Promise.resolve():this._initializationPromise;return G(X,this,"internal-error"),X.then(()=>N(this.currentUser)),"function"==typeof p?f.addObserver(p,w,x):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==f&&(p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh()),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=fo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var p;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const x=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return x&&(w["X-Firebase-Client"]=x),w})()}}function gt(_){return(0,U.m9)(_)}class un{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,U.ne)(p=>this.observer=p)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bi(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function ji(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class vi{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return Ce("not implemented")}_getIdTokenResponse(f){return Ce("not implemented")}_linkToIdToken(f,p){return Ce("not implemented")}_getReauthenticationResolver(f){return Ce("not implemented")}}function Pn(_,f){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,c.Z)(function*(_,f){return At(_,"POST","/v1/accounts:resetPassword",Xt(_,f))})).apply(this,arguments)}function po(_,f){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(_,f){return At(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ba(_,f){return gs.apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(_,f){return At(_,"POST","/v1/accounts:update",Xt(_,f))})).apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signInWithPassword",Xt(_,f))})).apply(this,arguments)}function _s(_,f){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(_,f){return At(_,"POST","/v1/accounts:sendOobCode",Xt(_,f))})).apply(this,arguments)}function fn(_,f){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(_,f){return _s(_,f)})).apply(this,arguments)}function Bo(_,f){return $r.apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(_,f){return _s(_,f)})).apply(this,arguments)}function _r(_,f){return jo.apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(_,f){return _s(_,f)})).apply(this,arguments)}function Wc(_,f){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,c.Z)(function*(_,f){return _s(_,f)})).apply(this,arguments)}function sc(){return(sc=(0,c.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signInWithEmailLink",Xt(_,f))})).apply(this,arguments)}function Kc(){return(Kc=(0,c.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signInWithEmailLink",Xt(_,f))})).apply(this,arguments)}class yr extends vi{constructor(f,p,w,x=null){super("password",w),this._email=f,this._password=p,this._tenantId=x}static _fromEmailAndPassword(f,p){return new yr(f,p,"password")}static _fromEmailAndCode(f,p,w=null){return new yr(f,p,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,c.Z)(function*(){switch(p.signInMethod){case"password":return function On(_,f){return ms.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function wi(_,f){return sc.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Pe(f,"internal-error")}})()}_linkToIdToken(f,p){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return po(f,{idToken:p,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function pd(_,f){return Kc.apply(this,arguments)}(f,{idToken:p,email:w._email,oobCode:w._password});default:Pe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function ys(_,f){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signInWithIdp",Xt(_,f))})).apply(this,arguments)}class Xi extends vi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new Xi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Pe("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:x}=p,N=(0,le._T)(p,["providerId","signInMethod"]);if(!w||!x)return null;const X=new Xi(w,x);return X.idToken=N.idToken||void 0,X.accessToken=N.accessToken||void 0,X.secret=N.secret,X.nonce=N.nonce,X.pendingToken=N.pendingToken||null,X}_getIdTokenResponse(f){return ys(f,this.buildRequest())}_linkToIdToken(f,p){const w=this.buildRequest();return w.idToken=p,ys(f,w)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,ys(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,U.xO)(p)}return f}}function cu(_,f){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,c.Z)(function*(_,f){return At(_,"POST","/v1/accounts:sendVerificationCode",Xt(_,f))})).apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signInWithPhoneNumber",Xt(_,f))})).apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(_,f){const p=yield Pt(_,"POST","/v1/accounts:signInWithPhoneNumber",Xt(_,f));if(p.temporaryProof)throw hn(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const lu={USER_NOT_FOUND:"user-not-found"};function Xc(){return(Xc=(0,c.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signInWithPhoneNumber",Xt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),lu)})).apply(this,arguments)}class go extends vi{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new go({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new go({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function oc(_,f){return vs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function gd(_,f){return Qc.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function md(_,f){return Xc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:w,verificationCode:x}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:w,code:x}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:w,phoneNumber:x,temporaryProof:N}=f;return w||p||x||N?new go({verificationId:p,verificationCode:w,phoneNumber:x,temporaryProof:N}):null}}class Hs{constructor(f){var p,w,x,N,X,ge;const He=(0,U.zd)((0,U.pd)(f)),st=null!==(p=He.apiKey)&&void 0!==p?p:null,Ct=null!==(w=He.oobCode)&&void 0!==w?w:null,wt=function el(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=He.mode)&&void 0!==x?x:null);G(st&&Ct&&wt,"argument-error"),this.apiKey=st,this.operation=wt,this.code=Ct,this.continueUrl=null!==(N=He.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(X=He.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(ge=He.tenantId)&&void 0!==ge?ge:null}static parseLink(f){const p=function Ho(_){const f=(0,U.zd)((0,U.pd)(_)).link,p=f?(0,U.zd)((0,U.pd)(f)).deep_link_id:null,w=(0,U.zd)((0,U.pd)(_)).deep_link_id;return(w?(0,U.zd)((0,U.pd)(w)).link:null)||w||p||f||_}(f);try{return new Hs(p)}catch(w){return null}}}let nl=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,w){return yr._fromEmailAndPassword(p,w)}static credentialWithLink(p,w){const x=Hs.parseLink(w);return G(x,"argument-error"),yr._fromEmailAndCode(p,x.code,x.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class vr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ci extends vr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Hi extends Ci{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return G("providerId"in p&&"signInMethod"in p,"argument-error"),Xi._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return G(f.idToken||f.accessToken,"argument-error"),Xi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Hi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Hi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:N,nonce:X,providerId:ge}=f;if(!w&&!x&&!p&&!N||!ge)return null;try{return new Hi(ge)._credential({idToken:p,accessToken:w,nonce:X,pendingToken:N})}catch(He){return null}}}let mo=(()=>{class _ extends Ci{constructor(){super("facebook.com")}static credential(p){return Xi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(w){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),rl=(()=>{class _ extends Ci{constructor(){super("google.com"),this.addScope("profile")}static credential(p,w){return Xi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:w})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:w,oauthAccessToken:x}=p;if(!w&&!x)return null;try{return _.credential(w,x)}catch(N){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),il=(()=>{class _ extends Ci{constructor(){super("github.com")}static credential(p){return Xi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(w){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ws extends vi{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return ys(f,this.buildRequest())}_linkToIdToken(f,p){const w=this.buildRequest();return w.idToken=p,ys(f,w)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,ys(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:x,pendingToken:N}=p;return w&&x&&N&&w===x?new ws(w,N):null}static _create(f,p){return new ws(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Sr extends vr{constructor(f){G(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Sr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Sr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=ws.fromJSON(f);return G(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:w}=f;if(!p||!w)return null;try{return ws._create(w,p)}catch(x){return null}}}let sl=(()=>{class _ extends Ci{constructor(){super("twitter.com")}static credential(p,w){return Xi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:w})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=p;if(!w||!x)return null;try{return _.credential(w,x)}catch(N){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Pr(_,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signUp",Xt(_,f))})).apply(this,arguments)}class Qr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,w,x=!1){return(0,c.Z)(function*(){const N=yield mt._fromIdTokenResponse(f,w,x),X=ac(w);return new Qr({user:N,providerId:X,_tokenResponse:w,operationType:p})})()}static _forOperation(f,p,w){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const x=ac(w);return new Qr({user:f,providerId:x,_tokenResponse:w,operationType:p})})()}}function ac(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function cc(){return(cc=(0,c.Z)(function*(_){var f;const p=gt(_);if(yield p._initializationPromise,null===(f=p.currentUser)||void 0===f?void 0:f.isAnonymous)return new Qr({user:p.currentUser,providerId:null,operationType:"signIn"});const w=yield Pr(p,{returnSecureToken:!0}),x=yield Qr._fromIdTokenResponse(p,"signIn",w,!0);return yield p._updateCurrentUser(x.user),x})).apply(this,arguments)}class vo extends U.ZR{constructor(f,p,w,x){var N;super(p.code,p.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,vo.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:p.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,p,w,x){return new vo(f,p,w,x)}}function lc(_,f,p,w){return("reauthenticate"===f?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?vo._fromErrorAndOperation(_,N,f,w):N})}function bi(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function rn(){return(rn=(0,c.Z)(function*(_,f){const p=(0,U.m9)(_);yield sn(!0,p,f);const{providerUserInfo:w}=yield yn(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),x=bi(w||[]);return p.providerData=p.providerData.filter(N=>x.has(N.providerId)),x.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function $o(_,f){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(_,f,p=!1){const w=yield ir(_,f._linkToIdToken(_.auth,yield _.getIdToken()),p);return Qr._forOperation(_,"link",w)})).apply(this,arguments)}function sn(_,f,p){return qo.apply(this,arguments)}function qo(){return(qo=(0,c.Z)(function*(_,f,p){yield xr(f);const x=!1===_?"provider-already-linked":"no-such-provider";G(bi(f.providerData).has(p)===_,f.auth,x)})).apply(this,arguments)}function Da(_,f){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,c.Z)(function*(_,f,p=!1){var w;const{auth:x}=_,N="reauthenticate";try{const X=yield ir(_,lc(x,N,f,_),p);G(X.idToken,x,"internal-error");const ge=ht(X.idToken);G(ge,x,"internal-error");const{sub:He}=ge;return G(_.uid===He,x,"user-mismatch"),Qr._forOperation(_,N,X)}catch(X){throw"auth/user-not-found"===(null===(w=X)||void 0===w?void 0:w.code)&&Pe(x,"user-mismatch"),X}})).apply(this,arguments)}function sr(_,f){return uc.apply(this,arguments)}function uc(){return(uc=(0,c.Z)(function*(_,f,p=!1){const w="signIn",x=yield lc(_,w,f),N=yield Qr._fromIdTokenResponse(_,w,x);return p||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function wn(_,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(_,f){return sr(gt(_),f)})).apply(this,arguments)}function zn(_,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(_,f){const p=(0,U.m9)(_);return yield sn(!1,p,f.providerId),$o(p,f)})).apply(this,arguments)}function es(_,f){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(_,f){return Da((0,U.m9)(_),f)})).apply(this,arguments)}function Ei(_,f){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signInWithCustomToken",Xt(_,f))})).apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(_,f){const p=gt(_),w=yield Ei(p,{token:f,returnSecureToken:!0}),x=yield Qr._fromIdTokenResponse(p,"signIn",w);return yield p._updateCurrentUser(x.user),x})).apply(this,arguments)}class bs{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?dc._fromServerResponse(f,p):Pe(f,"internal-error")}}class dc extends bs{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new dc(p)}}function Zo(_,f,p){var w;G((null===(w=p.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),G(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(G(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(G(p.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Wo(){return(Wo=(0,c.Z)(function*(_,f,p){const w=(0,U.m9)(_),x={requestType:"PASSWORD_RESET",email:f};p&&Zo(w,x,p),yield Bo(w,x)})).apply(this,arguments)}function hc(){return(hc=(0,c.Z)(function*(_,f,p){yield Pn((0,U.m9)(_),{oobCode:f,newPassword:p})})).apply(this,arguments)}function Oe(){return(Oe=(0,c.Z)(function*(_,f){yield ba((0,U.m9)(_),{oobCode:f})})).apply(this,arguments)}function qt(_,f){return Es.apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(_,f){const p=(0,U.m9)(_),w=yield Pn(p,{oobCode:f}),x=w.requestType;switch(G(x,p,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(w.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(w.mfaInfo,p,"internal-error");default:G(w.email,p,"internal-error")}let N=null;return w.mfaInfo&&(N=bs._fromServerResponse(gt(p),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:N},operation:x}})).apply(this,arguments)}function Ko(){return(Ko=(0,c.Z)(function*(_,f){const{data:p}=yield qt((0,U.m9)(_),f);return p.email})).apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(_,f,p){const w=gt(_),x=yield Pr(w,{returnSecureToken:!0,email:f,password:p}),N=yield Qr._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(N.user),N})).apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(_,f,p){const w=(0,U.m9)(_),x={requestType:"EMAIL_SIGNIN",email:f};G(p.handleCodeInApp,w,"argument-error"),p&&Zo(w,x,p),yield _r(w,x)})).apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(_,f,p){const w=(0,U.m9)(_),x=nl.credentialWithLink(f,p||Be());return G(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),wn(w,x)})).apply(this,arguments)}function wr(_,f){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(_,f){return At(_,"POST","/v1/accounts:createAuthUri",Xt(_,f))})).apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(_,f){const w={identifier:f,continueUri:pt()?Be():"http://localhost"},{signinMethods:x}=yield wr((0,U.m9)(_),w);return x||[]})).apply(this,arguments)}function gc(){return(gc=(0,c.Z)(function*(_,f){const p=(0,U.m9)(_),x={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Zo(p.auth,x,f);const{email:N}=yield fn(p.auth,x);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(_,f,p){const w=(0,U.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};p&&Zo(w.auth,N,p);const{email:X}=yield Wc(w.auth,N);X!==_.email&&(yield _.reload())})).apply(this,arguments)}function mc(_,f){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(_,f){return At(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(_,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const w=(0,U.m9)(_),N={idToken:yield w.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},X=yield ir(w,mc(w.auth,N));w.displayName=X.displayName||null,w.photoURL=X.photoUrl||null;const ge=w.providerData.find(({providerId:He})=>"password"===He);ge&&(ge.displayName=w.displayName,ge.photoURL=w.photoURL),yield w._updateTokensIfNecessary(X)})).apply(this,arguments)}function Sa(_,f,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(_,f,p){const{auth:w}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),p&&(N.password=p);const X=yield ir(_,po(w,N));yield _._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Zs{constructor(f,p,w={}){this.isNewUser=f,this.providerId=p,this.profile=w}}class ul extends Zs{constructor(f,p,w,x){super(f,p,w),this.username=x}}class Pa extends Zs{constructor(f,p){super(f,"facebook.com",p)}}class Gr extends ul{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class uu extends Zs{constructor(f,p){super(f,"google.com",p)}}class _c extends ul{constructor(f,p,w){super(f,"twitter.com",p,w)}}function Wn(_){const{user:f,_tokenResponse:p}=_;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function ll(_){var f,p;if(!_)return null;const{providerId:w}=_,x=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&(null==_?void 0:_.idToken)){const X=null===(p=null===(f=ht(_.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(X)return new Zs(N,"anonymous"!==X&&"custom"!==X?X:null)}if(!w)return null;switch(w){case"facebook.com":return new Pa(N,x);case"github.com":return new Gr(N,x);case"google.com":return new uu(N,x);case"twitter.com":return new _c(N,x,_.screenName||null);case"custom":case"anonymous":return new Zs(N,null);default:return new Zs(N,w,x)}}(p)}class rs{constructor(f,p){this.type=f,this.credential=p}static _fromIdtoken(f){return new rs("enroll",f)}static _fromMfaPendingCredential(f){return new rs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,w;if(null==f?void 0:f.multiFactorSession){if(null===(p=f.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return rs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(w=f.multiFactorSession)||void 0===w?void 0:w.idToken)return rs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ds{constructor(f,p,w){this.session=f,this.hints=p,this.signInResolver=w}static _fromError(f,p){const w=gt(f),x=p.customData._serverResponse,N=(x.mfaInfo||[]).map(ge=>bs._fromServerResponse(w,ge));G(x.mfaPendingCredential,w,"internal-error");const X=rs._fromMfaPendingCredential(x.mfaPendingCredential);return new Ds(X,N,function(){var ge=(0,c.Z)(function*(He){const st=yield He._process(w,X);delete x.mfaInfo,delete x.mfaPendingCredential;const Ct=Object.assign(Object.assign({},x),{idToken:st.idToken,refreshToken:st.refreshToken});switch(p.operationType){case"signIn":const wt=yield Qr._fromIdTokenResponse(w,p.operationType,Ct);return yield w._updateCurrentUser(wt.user),wt;case"reauthenticate":return G(p.user,w,"internal-error"),Qr._forOperation(p.user,p.operationType,Ct);default:Pe(w,"internal-error")}});return function(He){return ge.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,c.Z)(function*(){return p.signInResolver(f)})()}}function hl(_,f){return At(_,"POST","/v2/accounts/mfaEnrollment:start",Xt(_,f))}class Di{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(w=>bs._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new Di(f)}getSession(){var f=this;return(0,c.Z)(function*(){return rs._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,p){var w=this;return(0,c.Z)(function*(){const x=f,N=yield w.getSession(),X=yield ir(w.user,x._process(w.user.auth,N,p));return yield w.user._updateTokensIfNecessary(X),w.user.reload()})()}unenroll(f){var p=this;return(0,c.Z)(function*(){var w;const x="string"==typeof f?f:f.uid,N=yield p.user.getIdToken(),X=yield ir(p.user,function or(_,f){return At(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(_,f))}(p.user.auth,{idToken:N,mfaEnrollmentId:x}));p.enrolledFactors=p.enrolledFactors.filter(({uid:ge})=>ge!==x),yield p.user._updateTokensIfNecessary(X);try{yield p.user.reload()}catch(ge){if("auth/user-token-expired"!==(null===(w=ge)||void 0===w?void 0:w.code))throw ge}})()}}const ka=new WeakMap,is="__sak";class Ra{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(is,"1"),this.storage.removeItem(is),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const b=(()=>{class _ extends Ra{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,w)=>this.onStorageEvent(p,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Cd(){const _=(0,U.z$)();return uo(_)||Br(_)}()&&function nn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=yi(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),N=this.localCache[w];x!==N&&p(w,N,x)}}onStorageEvent(p,w=!1){if(!p.key)return void this.forAllChangedKeys((ge,He,st)=>{this.notifyListeners(ge,st)});const x=p.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(x);if(p.newValue!==ge)null!==p.newValue?this.storage.setItem(x,p.newValue):this.storage.removeItem(x);else if(this.localCache[x]===p.newValue&&!w)return}const N=()=>{const ge=this.storage.getItem(x);!w&&this.localCache[x]===ge||this.notifyListeners(x,ge)},X=this.storage.getItem(x);!function ho(){return(0,U.w1)()&&10===document.documentMode}()||X===p.newValue||p.newValue===p.oldValue?N():setTimeout(N,10)}notifyListeners(p,w){this.localCache[p]=w;const x=this.listeners[p];if(x)for(const N of Array.from(x))N(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,w){var x=()=>super._set,N=this;return(0,c.Z)(function*(){yield x().call(N,p,w),N.localCache[p]=JSON.stringify(w)})()}_get(p){var w=()=>super._get,x=this;return(0,c.Z)(function*(){const N=yield w().call(x,p);return x.localCache[p]=JSON.stringify(N),N})()}_remove(p){var w=()=>super._remove,x=this;return(0,c.Z)(function*(){yield w().call(x,p),delete x.localCache[p]})()}}return _.type="LOCAL",_})(),P=(()=>{class _ extends Ra{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,w){}_removeListener(p,w){}}return _.type="SESSION",_})();let Ee=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const w=this.receivers.find(N=>N.isListeningto(p));if(w)return w;const x=new _(p);return this.receivers.push(x),x}isListeningto(p){return this.eventTarget===p}handleEvent(p){var w=this;return(0,c.Z)(function*(){const x=p,{eventId:N,eventType:X,data:ge}=x.data,He=w.handlersMap[X];if(!(null==He?void 0:He.size))return;x.ports[0].postMessage({status:"ack",eventId:N,eventType:X});const st=Array.from(He).map(function(){var wt=(0,c.Z)(function*($n){return $n(x.origin,ge)});return function($n){return wt.apply(this,arguments)}}()),Ct=yield function j(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(w){return{fulfilled:!1,reason:w}}});return function(p){return f.apply(this,arguments)}}()))}(st);x.ports[0].postMessage({status:"done",eventId:N,eventType:X,response:Ct})})()}_subscribe(p,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(w)}_unsubscribe(p,w){this.handlersMap[p]&&w&&this.handlersMap[p].delete(w),(!w||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function et(_="",f=10){let p="";for(let w=0;w<f;w++)p+=Math.floor(10*Math.random());return _+p}class cn{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,w=50){var x=this;return(0,c.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let X,ge;return new Promise((He,st)=>{const Ct=et("",20);N.port1.start();const wt=setTimeout(()=>{st(new Error("unsupported_event"))},w);ge={messageChannel:N,onMessage($n){const zi=$n;if(zi.data.eventId===Ct)switch(zi.data.status){case"ack":clearTimeout(wt),X=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),He(zi.data.response);break;default:clearTimeout(wt),clearTimeout(X),st(new Error("invalid_response"))}}},x.handlers.add(ge),N.port1.addEventListener("message",ge.onMessage),x.target.postMessage({eventType:f,eventId:Ct,data:p},[N.port2])}).finally(()=>{ge&&x.removeMessageHandler(ge)})})()}}function on(){return window}function Cr(){return void 0!==on().WorkerGlobalScope&&"function"==typeof on().importScripts}function bd(){return(bd=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const yc="firebaseLocalStorageDb",Ts="firebaseLocalStorage",fl="fbase_key";class Ws{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Eo(_,f){return _.transaction([Ts],f?"readwrite":"readonly").objectStore(Ts)}function Na(){const _=indexedDB.open(yc,1);return new Promise((f,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Ts,{keyPath:fl})}catch(x){p(x)}}),_.addEventListener("success",(0,c.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Ts)?f(w):(w.close(),yield function Io(){const _=indexedDB.deleteDatabase(yc);return new Ws(_).toPromise()}(),f(yield Na()))}))})}function vc(_,f,p){return na.apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(_,f,p){const w=Eo(_,!0).put({[fl]:f,value:p});return new Ws(w).toPromise()})).apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(_,f){const p=Eo(_,!1).get(f),w=yield new Ws(p).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function wc(_,f){const p=Eo(_,!0).delete(f);return new Ws(p).toPromise()}const ia=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield Na()),p.db})()}_withRetries(p){var w=this;return(0,c.Z)(function*(){let x=0;for(;;)try{const N=yield w._openDb();return yield p(N)}catch(N){if(x++>3)throw N;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return Cr()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=Ee._getInstance(function fu(){return Cr()?self:null}()),p.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(x,N){return{keyProcessed:(yield p._poll()).includes(N.key)}});return function(x,N){return w.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(x,N){return["keyChanged"]});return function(x,N){return w.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var w,x;if(p.activeServiceWorker=yield function vt(){return bd.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new cn(p.activeServiceWorker);const N=yield p.sender._send("ping",{},800);!N||(null===(w=N[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=N[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Ed(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:p},w.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Na();return yield vc(p,is,"1"),yield wc(p,is),!0}catch(p){}return!1})()}_withPendingWrite(p){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield p()}finally{w.pendingWrites--}})()}_set(p,w){var x=this;return(0,c.Z)(function*(){return x._withPendingWrite((0,c.Z)(function*(){return yield x._withRetries(N=>vc(N,p,w)),x.localCache[p]=w,x.notifyServiceWorker(p)}))})()}_get(p){var w=this;return(0,c.Z)(function*(){const x=yield w._withRetries(N=>function ra(_,f){return Fa.apply(this,arguments)}(N,p));return w.localCache[p]=x,x})()}_remove(p){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(x=>wc(x,p)),delete w.localCache[p],w.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const w=yield p._withRetries(X=>{const ge=Eo(X,!1).getAll();return new Ws(ge).toPromise()});if(!w)return[];if(0!==p.pendingWrites)return[];const x=[],N=new Set;for(const{fbase_key:X,value:ge}of w)N.add(X),JSON.stringify(p.localCache[X])!==JSON.stringify(ge)&&(p.notifyListeners(X,ge),x.push(X));for(const X of Object.keys(p.localCache))p.localCache[X]&&!N.has(X)&&(p.notifyListeners(X,null),x.push(X));return x})()}notifyListeners(p,w){this.localCache[p]=w;const x=this.listeners[p];if(x)for(const N of Array.from(x))N(w)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function ar(_,f){return At(_,"POST","/v2/accounts/mfaSignIn:start",Xt(_,f))}function Ln(){return(Ln=(0,c.Z)(function*(_){return(yield At(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function As(_){return new Promise((f,p)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=f,w.onerror=x=>{const N=be("internal-error");N.customData=x,p(N)},w.type="text/javascript",w.charset="UTF-8",function La(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(w)})}function Do(_){return`__${_}${Math.floor(1e6*Math.random())}`}const ri=1e12;class br{constructor(f){this.auth=f,this.counter=ri,this._widgets=new Map}render(f,p){const w=this.counter;return this._widgets.set(w,new os(f,this.auth.name,p||{})),this.counter++,w}reset(f){var p;const w=f||ri;null===(p=this._widgets.get(w))||void 0===p||p.delete(),this._widgets.delete(w)}getResponse(f){var p;return(null===(p=this._widgets.get(f||ri))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,c.Z)(function*(){var w;return null===(w=p._widgets.get(f||ri))||void 0===w||w.execute(),""})()}}class os{constructor(f,p,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof f?document.getElementById(f):f;G(x,"argument-error",{appName:p}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Id(_){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gu=Do("rcb"),kn=new Jt(3e4,6e4);class Td{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(f=on().grecaptcha)||void 0===f?void 0:f.render)}load(f,p=""){return G(function Ec(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(on().grecaptcha):new Promise((w,x)=>{const N=on().setTimeout(()=>{x(be(f,"network-request-failed"))},kn.get());on()[gu]=()=>{on().clearTimeout(N),delete on()[gu];const ge=on().grecaptcha;if(!ge)return void x(be(f,"internal-error"));const He=ge.render;ge.render=(st,Ct)=>{const wt=He(st,Ct);return this.counter++,wt},this.hostLanguage=p,w(ge)},As(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:gu,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(N),x(be(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!!(null===(p=on().grecaptcha)||void 0===p?void 0:p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class as{load(f){return(0,c.Z)(function*(){return new br(f)})()}clearedOneInstance(){}}const Kh="recaptcha",sa={theme:"light",type:"image"};class Yh{constructor(f,p=Object.assign({},sa),w){this.parameters=p,this.type=Kh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gt(w),this.isInvisible="invisible"===this.parameters.size,G("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof f?document.getElementById(f):f;G(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new as:new Td,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(p)||new Promise(N=>{const X=ge=>{!ge||(f.tokenChangeListeners.delete(X),N(ge))};f.tokenChangeListeners.add(X),f.isInvisible&&w.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(w=>w(p)),"function"==typeof f)f(p);else if("string"==typeof f){const w=on()[f];"function"==typeof w&&w(p)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const w=document.createElement("div");p.appendChild(w),p=w}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){G(pt()&&!Cr(),f.auth,"internal-error"),yield function Ks(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function ni(_){return Ln.apply(this,arguments)}(f.auth);G(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ad{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=go._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Ua(){return(Ua=(0,c.Z)(function*(_,f,p){const w=gt(_),x=yield si(w,f,(0,U.m9)(p));return new Ad(x,N=>wn(w,N))})).apply(this,arguments)}function xd(){return(xd=(0,c.Z)(function*(_,f,p){const w=(0,U.m9)(_);yield sn(!1,w,"phone");const x=yield si(w.auth,f,(0,U.m9)(p));return new Ad(x,N=>zn(w,N))})).apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(_,f,p){const w=(0,U.m9)(_),x=yield si(w.auth,f,(0,U.m9)(p));return new Ad(x,N=>es(w,N))})).apply(this,arguments)}function si(_,f,p){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,c.Z)(function*(_,f,p){var w;const x=yield p.verify();try{let N;if(G("string"==typeof x,_,"argument-error"),G(p.type===Kh,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const X=N.session;if("phoneNumber"in N)return G("enroll"===X.type,_,"internal-error"),(yield hl(_,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{G("signin"===X.type,_,"internal-error");const ge=(null===(w=N.multiFactorHint)||void 0===w?void 0:w.uid)||N.multiFactorUid;return G(ge,_,"missing-multi-factor-info"),(yield ar(_,{mfaPendingCredential:X.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield cu(_,{phoneNumber:N.phoneNumber,recaptchaToken:x});return X}}finally{p._reset()}})).apply(this,arguments)}function oa(){return(oa=(0,c.Z)(function*(_,f){yield $o((0,U.m9)(_),f)})).apply(this,arguments)}let Va=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=gt(p)}verifyPhoneNumber(p,w){return si(this.auth,p,(0,U.m9)(w))}static credential(p,w){return go._fromVerification(p,w)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:w,temporaryProof:x}=p;return w&&x?go._fromTokenResponse(w,x):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function To(_,f){return f?re(f):(G(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class pl extends vi{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return ys(f,this._buildIdpRequest())}_linkToIdToken(f,p){return ys(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return ys(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Zt(_){return sr(_.auth,new pl(_),_.bypassAuthState)}function Md(_){const{auth:f,user:p}=_;return G(p,f,"internal-error"),Da(p,new pl(_),_.bypassAuthState)}function Ys(_){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(_){const{auth:f,user:p}=_;return G(p,f,"internal-error"),$o(p,new pl(_),_.bypassAuthState)})).apply(this,arguments)}class Ao{constructor(f,p,w,x,N=!1){this.auth=f,this.resolver=w,this.user=x,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,c.Z)(function*(w,x){f.pendingPromise={resolve:w,reject:x};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(w,x){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:N,tenantId:X,error:ge,type:He}=f;if(ge)return void p.reject(ge);const st={auth:p.auth,requestUri:w,sessionId:x,tenantId:X||void 0,postBody:N||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(He)(st))}catch(Ct){p.reject(Ct)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Zt;case"linkViaPopup":case"linkViaRedirect":return Ys;case"reauthViaPopup":case"reauthViaRedirect":return Md;default:Pe(this.auth,"internal-error")}}resolve(f){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xo=new Jt(2e3,1e4);function Ba(){return(Ba=(0,c.Z)(function*(_,f,p){const w=gt(_);Ze(_,f,vr);const x=To(w,p);return new Pd(w,"signInViaPopup",f,x).executeNotNull()})).apply(this,arguments)}function _u(){return(_u=(0,c.Z)(function*(_,f,p){const w=(0,U.m9)(_);Ze(w.auth,f,vr);const x=To(w.auth,p);return new Pd(w.auth,"reauthViaPopup",f,x,w).executeNotNull()})).apply(this,arguments)}function gl(){return(gl=(0,c.Z)(function*(_,f,p){const w=(0,U.m9)(_);Ze(w.auth,f,vr);const x=To(w.auth,p);return new Pd(w.auth,"linkViaPopup",f,x,w).executeNotNull()})).apply(this,arguments)}let Pd=(()=>{class _ extends Ao{constructor(p,w,x,N,X){super(p,w,N,X),this.provider=x,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const w=yield p.execute();return G(w,p.auth,"internal-error"),w})()}onExecution(){var p=this;return(0,c.Z)(function*(){ee(1===p.filter.length,"Popup operations only handle one event");const w=et();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],w),p.authWindow.associatedEvent=w,p.resolver._originValidation(p.auth).catch(x=>{p.reject(x)}),p.resolver._isIframeWebStorageSupported(p.auth,x=>{x||p.reject(be(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var w,x;this.pollId=(null===(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,xo.get())};p()}}return _.currentPopupAction=null,_})();const Er=new Map;class ml extends Ao{constructor(f,p,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,c.Z)(function*(){let w=Er.get(p.auth._key());if(!w){try{const N=(yield function Jp(_,f){return oi.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;w=()=>Promise.resolve(N)}catch(x){w=()=>Promise.reject(x)}Er.set(p.auth._key(),w)}return p.bypassAuthState||Er.set(p.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(w,f);if("unknown"!==f.type){if(f.eventId){const x=yield w.auth._redirectUserForId(f.eventId);if(x)return w.user=x,p().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function oi(){return(oi=(0,c.Z)(function*(_,f){const p=yl(f),w=_l(_);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(p));return yield w._remove(p),x})).apply(this,arguments)}function ja(_,f){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(_,f){return _l(_)._set(yl(f),"true")})).apply(this,arguments)}function kd(_,f){Er.set(_._key(),f)}function _l(_){return re(_._redirectPersistence)}function yl(_){return Zn("pendingRedirect",_.config.apiKey,_.name)}function I(){return(I=(0,c.Z)(function*(_,f,p){const w=gt(_);Ze(_,f,vr);const x=To(w,p);return yield ja(x,w),x._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function B(){return(B=(0,c.Z)(function*(_,f,p){const w=(0,U.m9)(_);Ze(w.auth,f,vr);const x=To(w.auth,p);yield ja(x,w.auth);const N=yield ft(w);return x._openRedirect(w.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(_,f,p){const w=(0,U.m9)(_);Ze(w.auth,f,vr);const x=To(w.auth,p);yield sn(!1,w,f.providerId),yield ja(x,w.auth);const N=yield ft(w);return x._openRedirect(w.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*(_,f){return yield gt(_)._initializationPromise,Mt(_,f,!1)})).apply(this,arguments)}function Mt(_,f){return kt.apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(_,f,p=!1){const w=gt(_),x=To(w,f),X=yield new ml(w,x,p).execute();return X&&!p&&(delete X.user._redirectEventId,yield w._persistUserIfCurrent(X.user),yield w._setRedirectUser(null,f)),X})).apply(this,arguments)}function ft(_){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(_){const f=et(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Mo{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(p=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function wl(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ms(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var w;if(f.error&&!Ms(f)){const x=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";p.onError(be(this.auth,x))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const w=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(So(f))}saveEventToCache(f){this.cachedEventUids.add(So(f)),this.lastProcessedEventTime=Date.now()}}function So(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Ms({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Tc(_){return aa.apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(_,f={}){return At(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Ss=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cs=/^https?/;function Xh(){return(Xh=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Tc(_);for(const p of f)try{if(bw(p))return}catch(w){}Pe(_,"unauthorized-domain")})).apply(this,arguments)}function bw(_){const f=Be(),{protocol:p,hostname:w}=new URL(f);if(_.startsWith("chrome-extension://")){const X=new URL(_);return""===X.hostname&&""===w?"chrome-extension:"===p&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&X.hostname===w}if(!cs.test(p))return!1;if(Ss.test(_))return w===_;const x=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const Qp=new Jt(3e4,6e4);function ef(){const _=on().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let Cl=null;function ca(_){return Cl=Cl||function Xp(_){return new Promise((f,p)=>{var w,x,N;function X(){ef(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{ef(),p(be(_,"network-request-failed"))},timeout:Qp.get()})}if(null===(x=null===(w=on().gapi)||void 0===w?void 0:w.iframes)||void 0===x?void 0:x.Iframe)f(gapi.iframes.getContext());else{if(!(null===(N=on().gapi)||void 0===N?void 0:N.load)){const ge=Do("iframefcb");return on()[ge]=()=>{gapi.load?X():p(be(_,"network-request-failed"))},As(`https://apis.google.com/js/api.js?onload=${ge}`).catch(He=>p(He))}X()}}).catch(f=>{throw Cl=null,f})}(_),Cl}const bl=new Jt(5e3,15e3),El={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},la=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eg(_){const f=_.config;G(f.authDomain,_,"auth-domain-config-required");const p=f.emulator?Mn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:_.name,v:pe.SDK_VERSION},x=la.get(_.config.apiHost);x&&(w.eid=x);const N=_._getFrameworks();return N.length&&(w.fw=N.join(",")),`${p}?${(0,U.xO)(w).slice(1)}`}function ua(){return ua=(0,c.Z)(function*(_){const f=yield ca(_),p=on().gapi;return G(p,_,"internal-error"),f.open({where:document.body,url:eg(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:El,dontclear:!0},w=>new Promise(function(){var x=(0,c.Z)(function*(N,X){yield w.restyle({setHideOnLeave:!1});const ge=be(_,"network-request-failed"),He=on().setTimeout(()=>{X(ge)},bl.get());function st(){on().clearTimeout(He),N(w)}w.ping(st).then(st,()=>{X(ge)})});return function(N,X){return x.apply(this,arguments)}}()))}),ua.apply(this,arguments)}const Nd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tg{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function ls(_,f,p,w,x,N){G(_.config.authDomain,_,"auth-domain-config-required"),G(_.config.apiKey,_,"invalid-api-key");const X={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:w,v:pe.SDK_VERSION,eventId:x};if(f instanceof vr){f.setDefaultLanguage(_.languageCode),X.providerId=f.providerId||"",(0,U.xb)(f.getCustomParameters())||(X.customParameters=JSON.stringify(f.getCustomParameters()));for(const[He,st]of Object.entries(N||{}))X[He]=st}if(f instanceof Ci){const He=f.getScopes().filter(st=>""!==st);He.length>0&&(X.scopes=He.join(","))}_.tenantId&&(X.tid=_.tenantId);const ge=X;for(const He of Object.keys(ge))void 0===ge[He]&&delete ge[He];return`${function da({config:_}){return _.emulator?Mn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,U.xO)(ge).slice(1)}`}const wu="webStorageSupport";class Vd extends class Iw{constructor(f){this.factorId=f}_process(f,p,w){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,w);case"signin":return this._finalizeSignIn(f,p.credential);default:return Ce("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Vd(f)}_finalizeEnroll(f,p,w){return function vd(_,f){return At(_,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(_,f))}(f,{idToken:p,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function pu(_,f){return At(_,"POST","/v2/accounts/mfaSignIn:finalize",Xt(_,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Dw=(()=>{class _{constructor(){}static assertion(p){return Vd._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var nf="@firebase/auth";class ig{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(w=>{var x;f((null===(x=w)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ac(){return window}function Ps(){return(Ps=(0,c.Z)(function*(_,f,p){var w;const{BuildInfo:x}=Ac();ee(f.sessionId,"AuthEvent did not contain a session ID");const N=yield Tw(f.sessionId),X={};return Br()?X.ibi=x.packageName:Mr()?X.apn=x.packageName:Pe(_,"operation-not-supported-in-this-environment"),x.displayName&&(X.appDisplayName=x.displayName),X.sessionId=N,ls(_,p,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,X)})).apply(this,arguments)}function jd(){return(jd=(0,c.Z)(function*(_){const{BuildInfo:f}=Ac(),p={};Br()?p.iosBundleId=f.packageName:Mr()?p.androidPackageName=f.packageName:Pe(_,"operation-not-supported-in-this-environment"),yield Tc(_,p)})).apply(this,arguments)}function sg(){return(sg=(0,c.Z)(function*(_,f,p){const{cordova:w}=Ac();let x=()=>{};try{yield new Promise((N,X)=>{let ge=null;function He(){var wt;N();const $n=null===(wt=w.plugins.browsertab)||void 0===wt?void 0:wt.close;"function"==typeof $n&&$n(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function st(){ge||(ge=window.setTimeout(()=>{X(be(_,"redirect-cancelled-by-user"))},2e3))}function Ct(){"visible"===(null==document?void 0:document.visibilityState)&&st()}f.addPassiveListener(He),document.addEventListener("resume",st,!1),Mr()&&document.addEventListener("visibilitychange",Ct,!1),x=()=>{f.removePassiveListener(He),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",Ct,!1),ge&&window.clearTimeout(ge)}})}finally{x()}})).apply(this,arguments)}function Tw(_){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,c.Z)(function*(_){const f=sf(_),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function sf(_){if(ee(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),p=new Uint8Array(f);for(let w=0;w<_.length;w++)p[w]=_.charCodeAt(w);return p}!function p_(_){(0,pe._registerComponent)(new ce.wA("auth",(f,{options:p})=>{const w=f.getProvider("app").getImmediate(),x=f.getProvider("heartbeat"),{apiKey:N,authDomain:X}=w.options;return((ge,He)=>{G(N&&!N.includes(":"),"invalid-api-key",{appName:ge.name}),G(!(null==X?void 0:X.includes(":")),"argument-error",{appName:ge.name});const st={apiKey:N,authDomain:X,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fo(_)},Ct=new Xe(ge,He,st);return function fe(_,f){const p=(null==f?void 0:f.persistence)||[],w=(Array.isArray(p)?p:[p]).map(re);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(w,null==f?void 0:f.popupRedirectResolver)}(Ct,p),Ct})(w,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,w)=>{f.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new ce.wA("auth-internal",f=>{const p=gt(f.getProvider("auth").getImmediate());return new ig(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(nf,"0.20.5",function Bd(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,pe.registerVersion)(nf,"0.20.5","esm2017")}("Browser");class $d extends Mo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Dl(_){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,c.Z)(function*(_){const f=yield Du()._get(Tl(_));return f&&(yield Du()._remove(Tl(_))),f})).apply(this,arguments)}function ag(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const w=Math.floor(Math.random()*f.length);_.push(f.charAt(w))}return _.join("")}function Du(){return re(b)}function Tl(_){return Zn("authEvent",_.config.apiKey,_.name)}function Ti(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...p]=_.split("?");return(0,U.zd)(p.join("?"))}function xc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function $a(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function dg(_=(0,U.z$)()){return!("file:"!==$a()&&"ionic:"!==$a()&&"capacitor:"!==$a()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function lf(){try{const _=self.localStorage,f=et();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Zd(_=(0,U.z$)()){return function Al(){return(0,U.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ir(_=(0,U.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,U.hl)()}catch(_){return zd()&&(0,U.hl)()}return!1}function zd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function kr(){return(function ug(){return"http:"===$a()||"https:"===$a()}()||(0,U.ru)()||dg())&&!function cf(){return(0,U.b$)()||(0,U.UG)()}()&&lf()&&!zd()}function xl(){return dg()&&"undefined"!=typeof document}function Au(){return(Au=(0,c.Z)(function*(){return!!xl()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Ai={LOCAL:"local",NONE:"none",SESSION:"session"},qa=G,df="persistence";function Mc(_){return hf.apply(this,arguments)}function hf(){return(hf=(0,c.Z)(function*(_){yield _._initializationPromise;const f=Wd(),p=Zn(df,_.config.apiKey,_.name);f&&f.setItem(p,_._getPersistence())})).apply(this,arguments)}function Wd(){var _;try{return(null===(_=function C_(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const E_=G;class Os{constructor(){this.browserResolver=re(class f_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P,this._completeRedirectFn=Mt,this._overrideRedirectResult=kd}_openPopup(f,p,w,x){var N=this;return(0,c.Z)(function*(){var X;ee(null===(X=N.eventManagers[f._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const ge=ls(f,p,w,Be(),x);return function vu(_,f,p,w=500,x=600){const N=Math.max((window.screen.availHeight-x)/2,0).toString(),X=Math.max((window.screen.availWidth-w)/2,0).toString();let ge="";const He=Object.assign(Object.assign({},Nd),{width:w.toString(),height:x.toString(),top:N,left:X}),st=(0,U.z$)().toLowerCase();p&&(ge=Uo(st)?"_blank":p),Vi(st)&&(f=f||"http://localhost",He.scrollbars="yes");const Ct=Object.entries(He).reduce(($n,[zi,Ml])=>`${$n}${zi}=${Ml},`,"");if(function _i(_=(0,U.z$)()){var f;return Br(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(st)&&"_self"!==ge)return function u_(_,f){const p=document.createElement("a");p.href=_,p.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(w)}(f||"",ge),new tg(null);const wt=window.open(f||"",ge,Ct);G(wt,_,"popup-blocked");try{wt.focus()}catch($n){}return new tg(wt)}(f,ge,et())})()}_openRedirect(f,p,w,x){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(f),function En(_){on().location.href=_}(ls(f,p,w,Be(),x)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:x,promise:N}=this.eventManagers[p];return x?Promise.resolve(x):(ee(N,"If manager is not set, promise should be"),N)}const w=this.initAndGetManager(f);return this.eventManagers[p]={promise:w},w.catch(()=>{delete this.eventManagers[p]}),w}initAndGetManager(f){var p=this;return(0,c.Z)(function*(){const w=yield function Ew(_){return ua.apply(this,arguments)}(f),x=new Mo(f);return w.register("authEvent",N=>(G(null==N?void 0:N.authEvent,f,"invalid-auth-event"),{status:x.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:x},p.iframes[f._key()]=w,x})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(wu,{type:wu},x=>{var N;const X=null===(N=null==x?void 0:x[0])||void 0===N?void 0:N[wu];void 0!==X&&p(!!X),Pe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Ha(_){return Xh.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return yi()||uo()||Br()}}),this.cordovaResolver=re(class cg{constructor(){this._redirectPersistence=P,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mt,this._overrideRedirectResult=kd}_initialize(f){var p=this;return(0,c.Z)(function*(){const w=f._key();let x=p.eventManagers.get(w);return x||(x=new $d(f),p.eventManagers.set(w,x),p.attachCallbackListeners(f,x)),x})()}_openPopup(f){Pe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,w,x){var N=this;return(0,c.Z)(function*(){!function Il(_){var f,p,w,x,N,X,ge,He,st,Ct;const wt=Ac();G("function"==typeof(null===(f=null==wt?void 0:wt.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),G(void 0!==(null===(p=null==wt?void 0:wt.BuildInfo)||void 0===p?void 0:p.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),G("function"==typeof(null===(N=null===(x=null===(w=null==wt?void 0:wt.cordova)||void 0===w?void 0:w.plugins)||void 0===x?void 0:x.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(He=null===(ge=null===(X=null==wt?void 0:wt.cordova)||void 0===X?void 0:X.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===He?void 0:He.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(Ct=null===(st=null==wt?void 0:wt.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===Ct?void 0:Ct.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const X=yield N._initialize(f);yield X.initialized(),X.resetRedirect(),function Od(){Er.clear()}(),yield N._originValidation(f);const ge=function qd(_,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:ag(),postBody:null,tenantId:_.tenantId,error:be(_,"no-auth-event")}}(f,w,x);yield function og(_,f){return Du()._set(Tl(_),f)}(f,ge);const He=yield function rf(_,f,p){return Ps.apply(this,arguments)}(f,ge,p),st=yield function Hd(_){const{cordova:f}=Ac();return new Promise(p=>{f.plugins.browsertab.isAvailable(w=>{let x=null;w?f.plugins.browsertab.openUrl(_):x=f.InAppBrowser.open(_,function Ca(_=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(x)})})}(He);return function ha(_,f,p){return sg.apply(this,arguments)}(f,X,st)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function bu(_){return jd.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:w,handleOpenURL:x,BuildInfo:N}=Ac(),X=setTimeout((0,c.Z)(function*(){yield Dl(f),p.onEvent(xc())}),500),ge=function(){var Ct=(0,c.Z)(function*(wt){clearTimeout(X);const $n=yield Dl(f);let zi=null;$n&&(null==wt?void 0:wt.url)&&(zi=function m_(_,f){var p,w;const x=function Tu(_){const f=Ti(_),p=f.link?decodeURIComponent(f.link):void 0,w=Ti(p).link,x=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Ti(x).link||x||w||p||_}(f);if(x.includes("/__/auth/callback")){const N=Ti(x),X=N.firebaseError?function __(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(N.firebaseError)):null,ge=null===(w=null===(p=null==X?void 0:X.code)||void 0===p?void 0:p.split("auth/"))||void 0===w?void 0:w[1],He=ge?be(ge):null;return He?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:x,postBody:null}}return null}($n,wt.url)),p.onEvent(zi||xc())});return function($n){return Ct.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ge);const He=x,st=`${N.packageName.toLowerCase()}://`;Ac().handleOpenURL=function(){var Ct=(0,c.Z)(function*(wt){if(wt.toLowerCase().startsWith(st)&&ge({url:wt}),"function"==typeof He)try{He(wt)}catch($n){console.error($n)}});return function(wt){return Ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P,this._completeRedirectFn=Mt,this._overrideRedirectResult=kd}_initialize(f){var p=this;return(0,c.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,w,x){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,p,w,x)})()}_openRedirect(f,p,w,x){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,p,w,x)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return xl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return E_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const p=yield function uf(){return Au.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function Kd(_){return _.unwrap()}function D_(_){return hg(_)}function hg(_){const{_tokenResponse:f}=_ instanceof U.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof U.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Va.credentialFromResult(_);const p=f.providerId;if(!p||"password"===p)return null;let w;switch(p){case"google.com":w=rl;break;case"facebook.com":w=mo;break;case"github.com":w=il;break;case"twitter.com":w=sl;break;default:const{oauthIdToken:x,oauthAccessToken:N,oauthTokenSecret:X,pendingToken:ge,nonce:He}=f;return N||X||x||ge?ge?p.startsWith("saml.")?ws._create(p,ge):Xi._fromParams({providerId:p,signInMethod:p,pendingToken:ge,idToken:x,accessToken:N}):new Hi(p).credential({idToken:x,accessToken:N,rawNonce:He}):null}return _ instanceof U.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function Zi(_,f){return f.catch(p=>{throw p instanceof U.ZR&&function Yd(_,f){var p,w;const x=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=f)||void 0===w?void 0:w.code))f.resolver=new T_(_,function jn(_,f){var p;const w=(0,U.m9)(_),x=f;return G(f.customData.operationType,w,"argument-error"),G(null===(p=x.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,w,"argument-error"),Ds._fromError(w,x)}(_,f));else if(x){const N=hg(f),X=f;N&&(X.credential=N,X.tenantId=x.tenantId||void 0,X.email=x.email||void 0,X.phoneNumber=x.phoneNumber||void 0)}}(_,p),p}).then(p=>{const x=p.user;return{operationType:p.operationType,credential:D_(p),additionalUserInfo:Wn(p),user:Qs.getOrCreate(x)}})}function ff(_,f){return pf.apply(this,arguments)}function pf(){return(pf=(0,c.Z)(function*(_,f){const p=yield f;return{verificationId:p.verificationId,confirm:w=>Zi(_,p.confirm(w))}})).apply(this,arguments)}class T_{constructor(f,p){this.resolver=p,this.auth=function I_(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Zi(Kd(this.auth),this.resolver.resolveSignIn(f))}}class Qs{constructor(f){this._delegate=f,this.multiFactor=function wd(_){const f=(0,U.m9)(_);return ka.has(f)||ka.set(f,Di._fromUser(f)),ka.get(f)}(f)}static getOrCreate(f){return Qs.USER_MAP.has(f)||Qs.USER_MAP.set(f,new Qs(f)),Qs.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,c.Z)(function*(){return Zi(p.auth,zn(p._delegate,f))})()}linkWithPhoneNumber(f,p){var w=this;return(0,c.Z)(function*(){return ff(w.auth,function Ic(_,f,p){return xd.apply(this,arguments)}(w._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,c.Z)(function*(){return Zi(p.auth,function Qh(_,f,p){return gl.apply(this,arguments)}(p._delegate,f,Os))})()}linkWithRedirect(f){var p=this;return(0,c.Z)(function*(){return yield Mc(gt(p.auth)),function ne(_,f,p){return function he(_,f,p){return Se.apply(this,arguments)}(_,f,p)}(p._delegate,f,Os)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,c.Z)(function*(){return Zi(p.auth,es(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return ff(this.auth,function Jh(_,f,p){return ii.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return Zi(this.auth,function Js(_,f,p){return _u.apply(this,arguments)}(this._delegate,f,Os))}reauthenticateWithRedirect(f){var p=this;return(0,c.Z)(function*(){return yield Mc(gt(p.auth)),function A(_,f,p){return function O(_,f,p){return B.apply(this,arguments)}(_,f,p)}(p._delegate,f,Os)})()}sendEmailVerification(f){return function Ii(_,f){return gc.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,c.Z)(function*(){return yield function ol(_,f){return rn.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function Ma(_,f){return Sa((0,U.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function cl(_,f){return Sa((0,U.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function mu(_,f){return oa.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function xa(_,f){return Xo.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function Yo(_,f,p){return Jo.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qs.USER_MAP=new WeakMap;const Mu=G;let fg=(()=>{class _{constructor(p,w){if(this.app=p,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=p.options;Mu(x,"invalid-api-key",{appName:p.name}),Mu(x,"invalid-api-key",{appName:p.name});const N="undefined"!=typeof window?Os:void 0;this._delegate=w.initialize({options:{persistence:A_(x,p.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Ue),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,w){!function Hr(_,f,p){const w=gt(_);G(w._canInitEmulator,w,"emulator-config-failed"),G(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const x=!!(null==p?void 0:p.disableWarnings),N=Bi(f),{host:X,port:ge}=function Sn(_){const f=Bi(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!p)return{host:"",port:null};const w=p[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const N=x[1];return{host:N,port:ji(w.substr(N.length+1))}}{const[N,X]=w.split(":");return{host:N,port:ji(X)}}}(f);w.config.emulator={url:`${N}//${X}${null===ge?"":`:${ge}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:X,port:ge,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function gn(){function _(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,w)}applyActionCode(p){return function Co(_,f){return Oe.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return qt(this._delegate,p)}confirmPasswordReset(p,w){return function Ta(_,f,p){return hc.apply(this,arguments)}(this._delegate,p,w)}createUserWithEmailAndPassword(p,w){var x=this;return(0,c.Z)(function*(){return Zi(x._delegate,function ts(_,f,p){return ti.apply(this,arguments)}(x._delegate,p,w))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Aa(_,f){return Is.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function al(_,f){const p=Hs.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,c.Z)(function*(){Mu(kr(),p._delegate,"operation-not-supported-in-this-environment");const w=yield function Ke(_,f){return yt.apply(this,arguments)}(p._delegate,Os);return w?Zi(p._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function lg(_,f){gt(_)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,w,x){const{next:N,error:X,complete:ge}=pg(p,w,x);return this._delegate.onAuthStateChanged(N,X,ge)}onIdTokenChanged(p,w,x){const{next:N,error:X,complete:ge}=pg(p,w,x);return this._delegate.onIdTokenChanged(N,X,ge)}sendSignInLinkToEmail(p,w){return function pc(_,f,p){return bo.apply(this,arguments)}(this._delegate,p,w)}sendPasswordResetEmail(p,w){return function zo(_,f,p){return Wo.apply(this,arguments)}(this._delegate,p,w||void 0)}setPersistence(p){var w=this;return(0,c.Z)(function*(){let x;switch(function b_(_,f){qa(Object.values(Ai).includes(f),_,"invalid-persistence-type"),(0,U.b$)()?qa(f!==Ai.SESSION,_,"unsupported-persistence-type"):(0,U.UG)()?qa(f===Ai.NONE,_,"unsupported-persistence-type"):zd()?qa(f===Ai.NONE||f===Ai.LOCAL&&(0,U.hl)(),_,"unsupported-persistence-type"):qa(f===Ai.NONE||lf(),_,"unsupported-persistence-type")}(w._delegate,p),p){case Ai.SESSION:x=P;break;case Ai.LOCAL:x=(yield re(ia)._isAvailable())?ia:b;break;case Ai.NONE:x=Wt;break;default:return Pe("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Zi(this._delegate,function $s(_){return cc.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Zi(this._delegate,wn(this._delegate,p))}signInWithCustomToken(p){return Zi(this._delegate,function wo(_,f){return It.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,w){return Zi(this._delegate,function fc(_,f,p){return wn((0,U.m9)(_),nl.credential(f,p))}(this._delegate,p,w))}signInWithEmailLink(p,w){return Zi(this._delegate,function _d(_,f,p){return ns.apply(this,arguments)}(this._delegate,p,w))}signInWithPhoneNumber(p,w){return ff(this._delegate,function Hn(_,f,p){return Ua.apply(this,arguments)}(this._delegate,p,w))}signInWithPopup(p){var w=this;return(0,c.Z)(function*(){return Mu(kr(),w._delegate,"operation-not-supported-in-this-environment"),Zi(w._delegate,function Sd(_,f,p){return Ba.apply(this,arguments)}(w._delegate,p,Os))})()}signInWithRedirect(p){var w=this;return(0,c.Z)(function*(){return Mu(kr(),w._delegate,"operation-not-supported-in-this-environment"),yield Mc(w._delegate),function vl(_,f,p){return function xs(_,f,p){return I.apply(this,arguments)}(_,f,p)}(w._delegate,p,Os)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function mn(_,f){return Ko.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Ai,_})();function pg(_,f,p){let w=_;"function"!=typeof _&&({next:w,error:f,complete:p}=_);const x=w;return{next:X=>x(X&&Qs.getOrCreate(X)),error:f,complete:p}}function A_(_,f){const p=function xu(_,f){const p=Wd();if(!p)return[];const w=Zn(df,_,f);switch(p.getItem(w)){case Ai.NONE:return[Wt];case Ai.LOCAL:return[ia,P];case Ai.SESSION:return[P];default:return[]}}(_,f);if("undefined"!=typeof self&&!p.includes(ia)&&p.push(ia),"undefined"!=typeof window)for(const w of[b,P])p.includes(w)||p.push(w);return p.includes(Wt)||p.push(Wt),p}class gf{constructor(){this.providerId="phone",this._delegate=new Va(Kd(L.Z.auth()))}static credential(f,p){return Va.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}gf.PHONE_SIGN_IN_METHOD=Va.PHONE_SIGN_IN_METHOD,gf.PROVIDER_ID=Va.PROVIDER_ID;const gg=G;class Aw{constructor(f,p,w=L.Z.app()){var x;gg(null===(x=w.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Yh(f,p,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Sc(_){_.INTERNAL.registerComponent(new ce.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new fg(p,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:nl,FacebookAuthProvider:mo,GithubAuthProvider:il,GoogleAuthProvider:rl,OAuthProvider:Hi,SAMLAuthProvider:Sr,PhoneAuthProvider:gf,PhoneMultiFactorGenerator:Dw,RecaptchaVerifier:Aw,TwitterAuthProvider:sl,Auth:fg,AuthCredential:vi,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.18")}(L.Z)},8306:(rt,oe,F)=>{"use strict";F.d(oe,{y:()=>z});var c=F(2961),L=F(727),U=F(8822),pe=F(4671);var ce=F(2416),de=F(576),ve=F(2806);let z=(()=>{class xe{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const me=new xe;return me.source=this,me.operator=Ve,me}subscribe(Ve,me,Ie){const Ne=function ze(xe){return xe&&xe instanceof c.Lv||function se(xe){return xe&&(0,de.m)(xe.next)&&(0,de.m)(xe.error)&&(0,de.m)(xe.complete)}(xe)&&(0,L.Nn)(xe)}(Ve)?Ve:new c.Hp(Ve,me,Ie);return(0,ve.x)(()=>{const{operator:Qe,source:Pe}=this;Ne.add(Qe?Qe.call(Ne,Pe):Pe?this._subscribe(Ne):this._trySubscribe(Ne))}),Ne}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(me){Ve.error(me)}}forEach(Ve,me){return new(me=Y(me))((Ie,Ne)=>{const Qe=new c.Hp({next:Pe=>{try{Ve(Pe)}catch(be){Ne(be),Qe.unsubscribe()}},error:Ne,complete:Ie});this.subscribe(Qe)})}_subscribe(Ve){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(Ve)}[U.L](){return this}pipe(...Ve){return function ye(xe){return 0===xe.length?pe.y:1===xe.length?xe[0]:function(Ve){return xe.reduce((me,Ie)=>Ie(me),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=Y(Ve))((me,Ie)=>{let Ne;this.subscribe(Qe=>Ne=Qe,Qe=>Ie(Qe),()=>me(Ne))})}}return xe.create=Ue=>new xe(Ue),xe})();function Y(xe){var Ue;return null!==(Ue=null!=xe?xe:ce.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(rt,oe,F)=>{"use strict";F.d(oe,{x:()=>ce});var c=F(8306),L=F(727);const pe=(0,F(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=F(8737),ye=F(2806);let ce=(()=>{class ve extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const se=new de(this,this);return se.operator=Y,se}_throwIfClosed(){if(this.closed)throw new pe}next(Y){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(Y)}})}error(Y){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:se}=this;for(;se.length;)se.shift().error(Y)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:se,isStopped:ze,observers:xe}=this;return se||ze?L.Lc:(this.currentObservers=null,xe.push(Y),new L.w0(()=>{this.currentObservers=null,(0,le.P)(xe,Y)}))}_checkFinalizedStatuses(Y){const{hasError:se,thrownError:ze,isStopped:xe}=this;se?Y.error(ze):xe&&Y.complete()}asObservable(){const Y=new c.y;return Y.source=this,Y}}return ve.create=(z,Y)=>new de(z,Y),ve})();class de extends ce{constructor(z,Y){super(),this.destination=z,this.source=Y}next(z){var Y,se;null===(se=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===se||se.call(Y,z)}error(z){var Y,se;null===(se=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===se||se.call(Y,z)}complete(){var z,Y;null===(Y=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===Y||Y.call(z)}_subscribe(z){var Y,se;return null!==(se=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(z))&&void 0!==se?se:L.Lc}}},2961:(rt,oe,F)=>{"use strict";F.d(oe,{Hp:()=>Ve,Lv:()=>se});var c=F(576),L=F(727),U=F(2416),pe=F(7849);function le(){}const ye=ve("C",void 0,void 0);function ve(Pe,be,Ae){return{kind:Pe,value:be,error:Ae}}var z=F(3410),Y=F(2806);class se extends L.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,L.Nn)(be)&&be.add(this)):this.destination=Qe}static create(be,Ae,Ze){return new Ve(be,Ae,Ze)}next(be){this.isStopped?Ne(function de(Pe){return ve("N",Pe,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Ne(function ce(Pe){return ve("E",void 0,Pe)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Ne(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function xe(Pe,be){return ze.call(Pe,be)}class Ue{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(be)}catch(Ze){me(Ze)}}error(be){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(be)}catch(Ze){me(Ze)}else me(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Ae){me(Ae)}}}class Ve extends se{constructor(be,Ae,Ze){let qe;if(super(),(0,c.m)(be)||!be)qe={next:null!=be?be:void 0,error:null!=Ae?Ae:void 0,complete:null!=Ze?Ze:void 0};else{let G;this&&U.v.useDeprecatedNextContext?(G=Object.create(be),G.unsubscribe=()=>this.unsubscribe(),qe={next:be.next&&xe(be.next,G),error:be.error&&xe(be.error,G),complete:be.complete&&xe(be.complete,G)}):qe=be}this.destination=new Ue(qe)}}function me(Pe){U.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Pe):(0,pe.h)(Pe)}function Ne(Pe,be){const{onStoppedNotification:Ae}=U.v;Ae&&z.z.setTimeout(()=>Ae(Pe,be))}const Qe={closed:!0,next:le,error:function Ie(Pe){throw Pe},complete:le}},727:(rt,oe,F)=>{"use strict";F.d(oe,{Lc:()=>ye,w0:()=>le,Nn:()=>ce});var c=F(576);const U=(0,F(3888).d)(ve=>function(Y){ve(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((se,ze)=>`${ze+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var pe=F(8737);class le{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const xe of Y)xe.remove(this);else Y.remove(this);const{initialTeardown:se}=this;if((0,c.m)(se))try{se()}catch(xe){z=xe instanceof U?xe.errors:[xe]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const xe of ze)try{de(xe)}catch(Ue){z=null!=z?z:[],Ue instanceof U?z=[...z,...Ue.errors]:z.push(Ue)}}if(z)throw new U(z)}}add(z){var Y;if(z&&z!==this)if(this.closed)de(z);else{if(z instanceof le){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(z)}}_hasParent(z){const{_parentage:Y}=this;return Y===z||Array.isArray(Y)&&Y.includes(z)}_addParent(z){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(z),Y):Y?[Y,z]:z}_removeParent(z){const{_parentage:Y}=this;Y===z?this._parentage=null:Array.isArray(Y)&&(0,pe.P)(Y,z)}remove(z){const{_finalizers:Y}=this;Y&&(0,pe.P)(Y,z),z instanceof le&&z._removeParent(this)}}le.EMPTY=(()=>{const ve=new le;return ve.closed=!0,ve})();const ye=le.EMPTY;function ce(ve){return ve instanceof le||ve&&"closed"in ve&&(0,c.m)(ve.remove)&&(0,c.m)(ve.add)&&(0,c.m)(ve.unsubscribe)}function de(ve){(0,c.m)(ve)?ve():ve.unsubscribe()}},2416:(rt,oe,F)=>{"use strict";F.d(oe,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,oe,F)=>{"use strict";F.d(oe,{E:()=>L});const L=new(F(8306).y)(le=>le.complete())},8996:(rt,oe,F)=>{"use strict";F.d(oe,{D:()=>be});var c=F(8421),L=F(5363),U=F(9468),ye=F(8306),de=F(2202),ve=F(576),z=F(9672);function se(Ae,Ze){if(!Ae)throw new Error("Iterable cannot be null");return new ye.y(qe=>{(0,z.f)(qe,Ze,()=>{const G=Ae[Symbol.asyncIterator]();(0,z.f)(qe,Ze,()=>{G.next().then(Ce=>{Ce.done?qe.complete():qe.next(Ce.value)})},0,!0)})})}var ze=F(3670),xe=F(8239),Ue=F(1144),Ve=F(6495),me=F(2206),Ie=F(4532),Ne=F(3260);function be(Ae,Ze){return Ze?function Pe(Ae,Ze){if(null!=Ae){if((0,ze.c)(Ae))return function pe(Ae,Ze){return(0,c.Xf)(Ae).pipe((0,U.R)(Ze),(0,L.Q)(Ze))}(Ae,Ze);if((0,Ue.z)(Ae))return function ce(Ae,Ze){return new ye.y(qe=>{let G=0;return Ze.schedule(function(){G===Ae.length?qe.complete():(qe.next(Ae[G++]),qe.closed||this.schedule())})})}(Ae,Ze);if((0,xe.t)(Ae))return function le(Ae,Ze){return(0,c.Xf)(Ae).pipe((0,U.R)(Ze),(0,L.Q)(Ze))}(Ae,Ze);if((0,me.D)(Ae))return se(Ae,Ze);if((0,Ve.T)(Ae))return function Y(Ae,Ze){return new ye.y(qe=>{let G;return(0,z.f)(qe,Ze,()=>{G=Ae[de.h](),(0,z.f)(qe,Ze,()=>{let Ce,ee;try{({value:Ce,done:ee}=G.next())}catch(ae){return void qe.error(ae)}ee?qe.complete():qe.next(Ce)},0,!0)}),()=>(0,ve.m)(null==G?void 0:G.return)&&G.return()})}(Ae,Ze);if((0,Ne.L)(Ae))return function Qe(Ae,Ze){return se((0,Ne.Q)(Ae),Ze)}(Ae,Ze)}throw(0,Ie.z)(Ae)}(Ae,Ze):(0,c.Xf)(Ae)}},8421:(rt,oe,F)=>{"use strict";F.d(oe,{Xf:()=>ze});var c=F(655),L=F(1144),U=F(8239),pe=F(8306),le=F(3670),ye=F(2206),ce=F(4532),de=F(6495),ve=F(3260),z=F(576),Y=F(7849),se=F(8822);function ze(Pe){if(Pe instanceof pe.y)return Pe;if(null!=Pe){if((0,le.c)(Pe))return function xe(Pe){return new pe.y(be=>{const Ae=Pe[se.L]();if((0,z.m)(Ae.subscribe))return Ae.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,L.z)(Pe))return function Ue(Pe){return new pe.y(be=>{for(let Ae=0;Ae<Pe.length&&!be.closed;Ae++)be.next(Pe[Ae]);be.complete()})}(Pe);if((0,U.t)(Pe))return function Ve(Pe){return new pe.y(be=>{Pe.then(Ae=>{be.closed||(be.next(Ae),be.complete())},Ae=>be.error(Ae)).then(null,Y.h)})}(Pe);if((0,ye.D)(Pe))return Ie(Pe);if((0,de.T)(Pe))return function me(Pe){return new pe.y(be=>{for(const Ae of Pe)if(be.next(Ae),be.closed)return;be.complete()})}(Pe);if((0,ve.L)(Pe))return function Ne(Pe){return Ie((0,ve.Q)(Pe))}(Pe)}throw(0,ce.z)(Pe)}function Ie(Pe){return new pe.y(be=>{(function Qe(Pe,be){var Ae,Ze,qe,G;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,c.KL)(Pe);!(Ze=yield Ae.next()).done;)if(be.next(Ze.value),be.closed)return}catch(Ce){qe={error:Ce}}finally{try{Ze&&!Ze.done&&(G=Ae.return)&&(yield G.call(Ae))}finally{if(qe)throw qe.error}}be.complete()})})(Pe,be).catch(Ae=>be.error(Ae))})}},6451:(rt,oe,F)=>{"use strict";F.d(oe,{T:()=>ye});var c=F(8189),L=F(8421),U=F(515),pe=F(7669),le=F(8996);function ye(...ce){const de=(0,pe.yG)(ce),ve=(0,pe._6)(ce,1/0),z=ce;return z.length?1===z.length?(0,L.Xf)(z[0]):(0,c.J)(ve)((0,le.D)(z,de)):U.E}},5403:(rt,oe,F)=>{"use strict";F.d(oe,{x:()=>L});var c=F(2961);function L(pe,le,ye,ce,de){return new U(pe,le,ye,ce,de)}class U extends c.Lv{constructor(le,ye,ce,de,ve,z){super(le),this.onFinalize=ve,this.shouldUnsubscribe=z,this._next=ye?function(Y){try{ye(Y)}catch(se){le.error(se)}}:super._next,this._error=de?function(Y){try{de(Y)}catch(se){le.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(Y){le.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(rt,oe,F)=>{"use strict";F.d(oe,{U:()=>U});var c=F(4482),L=F(5403);function U(pe,le){return(0,c.e)((ye,ce)=>{let de=0;ye.subscribe((0,L.x)(ce,ve=>{ce.next(pe.call(le,ve,de++))}))})}},8189:(rt,oe,F)=>{"use strict";F.d(oe,{J:()=>U});var c=F(5577),L=F(4671);function U(pe=1/0){return(0,c.z)(L.y,pe)}},5577:(rt,oe,F)=>{"use strict";F.d(oe,{z:()=>de});var c=F(4004),L=F(8421),U=F(4482),pe=F(9672),le=F(5403),ce=F(576);function de(ve,z,Y=1/0){return(0,ce.m)(z)?de((se,ze)=>(0,c.U)((xe,Ue)=>z(se,xe,ze,Ue))((0,L.Xf)(ve(se,ze))),Y):("number"==typeof z&&(Y=z),(0,U.e)((se,ze)=>function ye(ve,z,Y,se,ze,xe,Ue,Ve){const me=[];let Ie=0,Ne=0,Qe=!1;const Pe=()=>{Qe&&!me.length&&!Ie&&z.complete()},be=Ze=>Ie<se?Ae(Ze):me.push(Ze),Ae=Ze=>{xe&&z.next(Ze),Ie++;let qe=!1;(0,L.Xf)(Y(Ze,Ne++)).subscribe((0,le.x)(z,G=>{null==ze||ze(G),xe?be(G):z.next(G)},()=>{qe=!0},void 0,()=>{if(qe)try{for(Ie--;me.length&&Ie<se;){const G=me.shift();Ue?(0,pe.f)(z,Ue,()=>Ae(G)):Ae(G)}Pe()}catch(G){z.error(G)}}))};return ve.subscribe((0,le.x)(z,be,()=>{Qe=!0,Pe()})),()=>{null==Ve||Ve()}}(se,ze,ve,Y)))}},5363:(rt,oe,F)=>{"use strict";F.d(oe,{Q:()=>pe});var c=F(9672),L=F(4482),U=F(5403);function pe(le,ye=0){return(0,L.e)((ce,de)=>{ce.subscribe((0,U.x)(de,ve=>(0,c.f)(de,le,()=>de.next(ve),ye),()=>(0,c.f)(de,le,()=>de.complete(),ye),ve=>(0,c.f)(de,le,()=>de.error(ve),ye)))})}},3099:(rt,oe,F)=>{"use strict";F.d(oe,{B:()=>le});var c=F(8421),L=F(7579),U=F(2961),pe=F(4482);function le(ce={}){const{connector:de=(()=>new L.x),resetOnError:ve=!0,resetOnComplete:z=!0,resetOnRefCountZero:Y=!0}=ce;return se=>{let ze,xe,Ue,Ve=0,me=!1,Ie=!1;const Ne=()=>{null==xe||xe.unsubscribe(),xe=void 0},Qe=()=>{Ne(),ze=Ue=void 0,me=Ie=!1},Pe=()=>{const be=ze;Qe(),null==be||be.unsubscribe()};return(0,pe.e)((be,Ae)=>{Ve++,!Ie&&!me&&Ne();const Ze=Ue=null!=Ue?Ue:de();Ae.add(()=>{Ve--,0===Ve&&!Ie&&!me&&(xe=ye(Pe,Y))}),Ze.subscribe(Ae),!ze&&Ve>0&&(ze=new U.Hp({next:qe=>Ze.next(qe),error:qe=>{Ie=!0,Ne(),xe=ye(Qe,ve,qe),Ze.error(qe)},complete:()=>{me=!0,Ne(),xe=ye(Qe,z),Ze.complete()}}),(0,c.Xf)(be).subscribe(ze))})(se)}}function ye(ce,de,...ve){if(!0===de)return void ce();if(!1===de)return;const z=new U.Hp({next:()=>{z.unsubscribe(),ce()}});return de(...ve).subscribe(z)}},9468:(rt,oe,F)=>{"use strict";F.d(oe,{R:()=>L});var c=F(4482);function L(U,pe=0){return(0,c.e)((le,ye)=>{ye.add(U.schedule(()=>le.subscribe(ye),pe))})}},8505:(rt,oe,F)=>{"use strict";F.d(oe,{b:()=>le});var c=F(576),L=F(4482),U=F(5403),pe=F(4671);function le(ye,ce,de){const ve=(0,c.m)(ye)||ce||de?{next:ye,error:ce,complete:de}:ye;return ve?(0,L.e)((z,Y)=>{var se;null===(se=ve.subscribe)||void 0===se||se.call(ve);let ze=!0;z.subscribe((0,U.x)(Y,xe=>{var Ue;null===(Ue=ve.next)||void 0===Ue||Ue.call(ve,xe),Y.next(xe)},()=>{var xe;ze=!1,null===(xe=ve.complete)||void 0===xe||xe.call(ve),Y.complete()},xe=>{var Ue;ze=!1,null===(Ue=ve.error)||void 0===Ue||Ue.call(ve,xe),Y.error(xe)},()=>{var xe,Ue;ze&&(null===(xe=ve.unsubscribe)||void 0===xe||xe.call(ve)),null===(Ue=ve.finalize)||void 0===Ue||Ue.call(ve)}))}):pe.y}},4408:(rt,oe,F)=>{"use strict";F.d(oe,{o:()=>le});var c=F(727);class L extends c.w0{constructor(ce,de){super()}schedule(ce,de=0){return this}}const U={setInterval(ye,ce,...de){const{delegate:ve}=U;return(null==ve?void 0:ve.setInterval)?ve.setInterval(ye,ce,...de):setInterval(ye,ce,...de)},clearInterval(ye){const{delegate:ce}=U;return((null==ce?void 0:ce.clearInterval)||clearInterval)(ye)},delegate:void 0};var pe=F(8737);class le extends L{constructor(ce,de){super(ce,de),this.scheduler=ce,this.work=de,this.pending=!1}schedule(ce,de=0){if(this.closed)return this;this.state=ce;const ve=this.id,z=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(z,ve,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(z,this.id,de),this}requestAsyncId(ce,de,ve=0){return U.setInterval(ce.flush.bind(ce,this),ve)}recycleAsyncId(ce,de,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return de;U.clearInterval(de)}execute(ce,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(ce,de);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,de){let z,ve=!1;try{this.work(ce)}catch(Y){ve=!0,z=Y||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ce,scheduler:de}=this,{actions:ve}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(ve,this),null!=ce&&(this.id=this.recycleAsyncId(de,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,oe,F)=>{"use strict";F.d(oe,{v:()=>U});var c=F(6063);class L{constructor(le,ye=L.now){this.schedulerActionCtor=le,this.now=ye}schedule(le,ye=0,ce){return new this.schedulerActionCtor(this,le).schedule(ce,ye)}}L.now=c.l.now;class U extends L{constructor(le,ye=L.now){super(le,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(le){const{actions:ye}=this;if(this._active)return void ye.push(le);let ce;this._active=!0;do{if(ce=le.execute(le.state,le.delay))break}while(le=ye.shift());if(this._active=!1,ce){for(;le=ye.shift();)le.unsubscribe();throw ce}}}},4986:(rt,oe,F)=>{"use strict";F.d(oe,{z:()=>U});var c=F(4408);const U=new(F(7565).v)(c.o)},6063:(rt,oe,F)=>{"use strict";F.d(oe,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(rt,oe,F)=>{"use strict";F.d(oe,{z:()=>c});const c={setTimeout(L,U,...pe){const{delegate:le}=c;return(null==le?void 0:le.setTimeout)?le.setTimeout(L,U,...pe):setTimeout(L,U,...pe)},clearTimeout(L){const{delegate:U}=c;return((null==U?void 0:U.clearTimeout)||clearTimeout)(L)},delegate:void 0}},2202:(rt,oe,F)=>{"use strict";F.d(oe,{h:()=>L});const L=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,oe,F)=>{"use strict";F.d(oe,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(rt,oe,F)=>{"use strict";F.d(oe,{_6:()=>ye,jO:()=>pe,yG:()=>le});var c=F(576);function U(ce){return ce[ce.length-1]}function pe(ce){return(0,c.m)(U(ce))?ce.pop():void 0}function le(ce){return function L(ce){return ce&&(0,c.m)(ce.schedule)}(U(ce))?ce.pop():void 0}function ye(ce,de){return"number"==typeof U(ce)?ce.pop():de}},8737:(rt,oe,F)=>{"use strict";function c(L,U){if(L){const pe=L.indexOf(U);0<=pe&&L.splice(pe,1)}}F.d(oe,{P:()=>c})},3888:(rt,oe,F)=>{"use strict";function c(L){const pe=L(le=>{Error.call(le),le.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}F.d(oe,{d:()=>c})},2806:(rt,oe,F)=>{"use strict";F.d(oe,{O:()=>pe,x:()=>U});var c=F(2416);let L=null;function U(le){if(c.v.useDeprecatedSynchronousErrorHandling){const ye=!L;if(ye&&(L={errorThrown:!1,error:null}),le(),ye){const{errorThrown:ce,error:de}=L;if(L=null,ce)throw de}}else le()}function pe(le){c.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=le)}},9672:(rt,oe,F)=>{"use strict";function c(L,U,pe,le=0,ye=!1){const ce=U.schedule(function(){pe(),ye?L.add(this.schedule(null,le)):this.unsubscribe()},le);if(L.add(ce),!ye)return ce}F.d(oe,{f:()=>c})},4671:(rt,oe,F)=>{"use strict";function c(L){return L}F.d(oe,{y:()=>c})},1144:(rt,oe,F)=>{"use strict";F.d(oe,{z:()=>c});const c=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(rt,oe,F)=>{"use strict";F.d(oe,{D:()=>L});var c=F(576);function L(U){return Symbol.asyncIterator&&(0,c.m)(null==U?void 0:U[Symbol.asyncIterator])}},576:(rt,oe,F)=>{"use strict";function c(L){return"function"==typeof L}F.d(oe,{m:()=>c})},3670:(rt,oe,F)=>{"use strict";F.d(oe,{c:()=>U});var c=F(8822),L=F(576);function U(pe){return(0,L.m)(pe[c.L])}},6495:(rt,oe,F)=>{"use strict";F.d(oe,{T:()=>U});var c=F(2202),L=F(576);function U(pe){return(0,L.m)(null==pe?void 0:pe[c.h])}},8239:(rt,oe,F)=>{"use strict";F.d(oe,{t:()=>L});var c=F(576);function L(U){return(0,c.m)(null==U?void 0:U.then)}},3260:(rt,oe,F)=>{"use strict";F.d(oe,{L:()=>pe,Q:()=>U});var c=F(655),L=F(576);function U(le){return(0,c.FC)(this,arguments,function*(){const ce=le.getReader();try{for(;;){const{value:de,done:ve}=yield(0,c.qq)(ce.read());if(ve)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(de)}}finally{ce.releaseLock()}})}function pe(le){return(0,L.m)(null==le?void 0:le.getReader)}},4482:(rt,oe,F)=>{"use strict";F.d(oe,{A:()=>L,e:()=>U});var c=F(576);function L(pe){return(0,c.m)(null==pe?void 0:pe.lift)}function U(pe){return le=>{if(L(le))return le.lift(function(ye){try{return pe(ye,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(rt,oe,F)=>{"use strict";F.d(oe,{h:()=>U});var c=F(2416),L=F(3410);function U(pe){L.z.setTimeout(()=>{const{onUnhandledError:le}=c.v;if(!le)throw pe;le(pe)})}},4532:(rt,oe,F)=>{"use strict";function c(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(oe,{z:()=>c})},5226:function(rt){rt.exports=function(){"use strict";var oe={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const c=b=>{const E={};for(const P in b)E[b[P]]="swal2-"+b[P];return E},L=c(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),U=c(["success","warning","info","question","error"]),pe="SweetAlert2:",ye=b=>b.charAt(0).toUpperCase()+b.slice(1),ce=b=>{console.warn("".concat(pe," ").concat("object"==typeof b?b.join(" "):b))},de=b=>{console.error("".concat(pe," ").concat(b))},ve=[],Y=(b,E)=>{(b=>{ve.includes(b)||(ve.push(b),ce(b))})('"'.concat(b,'" is deprecated and will be removed in the next major release. Please use "').concat(E,'" instead.'))},se=b=>"function"==typeof b?b():b,ze=b=>b&&"function"==typeof b.toPromise,xe=b=>ze(b)?b.toPromise():Promise.resolve(b),Ue=b=>b&&Promise.resolve(b)===b,Ve=()=>document.body.querySelector(".".concat(L.container)),me=b=>{const E=Ve();return E?E.querySelector(b):null},Ie=b=>me(".".concat(b)),Ne=()=>Ie(L.popup),Qe=()=>Ie(L.icon),Pe=()=>Ie(L.title),be=()=>Ie(L["html-container"]),Ae=()=>Ie(L.image),Ze=()=>Ie(L["progress-steps"]),qe=()=>Ie(L["validation-message"]),G=()=>me(".".concat(L.actions," .").concat(L.confirm)),Ce=()=>me(".".concat(L.actions," .").concat(L.deny)),ae=()=>me(".".concat(L.loader)),re=()=>me(".".concat(L.actions," .").concat(L.cancel)),we=()=>Ie(L.actions),fe=()=>Ie(L.footer),Be=()=>Ie(L["timer-progress-bar"]),pt=()=>Ie(L.close),Ht=()=>{const b=Array.from(Ne().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((P,j)=>{const Ee=parseInt(P.getAttribute("tabindex")),et=parseInt(j.getAttribute("tabindex"));return Ee>et?1:Ee<et?-1:0}),E=Array.from(Ne().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(P=>"-1"!==P.getAttribute("tabindex"));return(b=>{const E=[];for(let P=0;P<b.length;P++)-1===E.indexOf(b[P])&&E.push(b[P]);return E})(b.concat(E)).filter(P=>en(P))},Je=()=>bn(document.body,L.shown)&&!bn(document.body,L["toast-shown"])&&!bn(document.body,L["no-backdrop"]),Jt=()=>Ne()&&bn(Ne(),L.toast),Qt={previousBodyPadding:null},Lt=(b,E)=>{if(b.textContent="",E){const j=(new DOMParser).parseFromString(E,"text/html");Array.from(j.querySelector("head").childNodes).forEach(Ee=>{b.appendChild(Ee)}),Array.from(j.querySelector("body").childNodes).forEach(Ee=>{Ee instanceof HTMLVideoElement||Ee instanceof HTMLAudioElement?b.appendChild(Ee.cloneNode(!0)):b.appendChild(Ee)})}},bn=(b,E)=>{if(!E)return!1;const P=E.split(/\s+/);for(let j=0;j<P.length;j++)if(!b.classList.contains(P[j]))return!1;return!0},At=(b,E,P)=>{if(((b,E)=>{Array.from(b.classList).forEach(P=>{!Object.values(L).includes(P)&&!Object.values(U).includes(P)&&!Object.values(E.showClass).includes(P)&&b.classList.remove(P)})})(b,E),E.customClass&&E.customClass[P]){if("string"!=typeof E.customClass[P]&&!E.customClass[P].forEach)return void ce("Invalid type of customClass.".concat(P,'! Expected string or iterable object, got "').concat(typeof E.customClass[P],'"'));Pt(b,E.customClass[P])}},gi=(b,E)=>{if(!E)return null;switch(E){case"select":case"textarea":case"file":return b.querySelector(".".concat(L.popup," > .").concat(L[E]));case"checkbox":return b.querySelector(".".concat(L.popup," > .").concat(L.checkbox," input"));case"radio":return b.querySelector(".".concat(L.popup," > .").concat(L.radio," input:checked"))||b.querySelector(".".concat(L.popup," > .").concat(L.radio," input:first-child"));case"range":return b.querySelector(".".concat(L.popup," > .").concat(L.range," input"));default:return b.querySelector(".".concat(L.popup," > .").concat(L.input))}},Vr=b=>{if(b.focus(),"file"!==b.type){const E=b.value;b.value="",b.value=E}},rr=(b,E,P)=>{!b||!E||("string"==typeof E&&(E=E.split(/\s+/).filter(Boolean)),E.forEach(j=>{Array.isArray(b)?b.forEach(Ee=>{P?Ee.classList.add(j):Ee.classList.remove(j)}):P?b.classList.add(j):b.classList.remove(j)}))},Pt=(b,E)=>{rr(b,E,!0)},Nn=(b,E)=>{rr(b,E,!1)},gr=(b,E)=>{const P=Array.from(b.children);for(let j=0;j<P.length;j++){const Ee=P[j];if(Ee instanceof HTMLElement&&bn(Ee,E))return Ee}},Un=(b,E,P)=>{P==="".concat(parseInt(P))&&(P=parseInt(P)),P||0===parseInt(P)?b.style[E]="number"==typeof P?"".concat(P,"px"):P:b.style.removeProperty(E)},hn=function(b){b.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},it=b=>{b.style.display="none"},Tr=(b,E,P,j)=>{const Ee=b.querySelector(E);Ee&&(Ee.style[P]=j)},yn=function(b,E){E?hn(b,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):it(b)},en=b=>!(!b||!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)),Ui=b=>b.scrollHeight>b.clientHeight,In=b=>{const E=window.getComputedStyle(b),P=parseFloat(E.getPropertyValue("animation-duration")||"0"),j=parseFloat(E.getPropertyValue("transition-duration")||"0");return P>0||j>0},Dn=function(b){let E=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const P=Be();en(P)&&(E&&(P.style.transition="none",P.style.width="100%"),setTimeout(()=>{P.style.transition="width ".concat(b/1e3,"s linear"),P.style.width="0%"},10))},nt={},xt=b=>new Promise(E=>{if(!b)return E();const P=window.scrollX,j=window.scrollY;nt.restoreFocusTimeout=setTimeout(()=>{nt.previousActiveElement instanceof HTMLElement?(nt.previousActiveElement.focus(),nt.previousActiveElement=null):document.body&&document.body.focus(),E()},100),window.scrollTo(P,j)}),ir=()=>"undefined"==typeof window||"undefined"==typeof document,Wr='\n <div aria-labelledby="'.concat(L.title,'" aria-describedby="').concat(L["html-container"],'" class="').concat(L.popup,'" tabindex="-1">\n   <button type="button" class="').concat(L.close,'"></button>\n   <ul class="').concat(L["progress-steps"],'"></ul>\n   <div class="').concat(L.icon,'"></div>\n   <img class="').concat(L.image,'" />\n   <h2 class="').concat(L.title,'" id="').concat(L.title,'"></h2>\n   <div class="').concat(L["html-container"],'" id="').concat(L["html-container"],'"></div>\n   <input class="').concat(L.input,'" />\n   <input type="file" class="').concat(L.file,'" />\n   <div class="').concat(L.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(L.select,'"></select>\n   <div class="').concat(L.radio,'"></div>\n   <label for="').concat(L.checkbox,'" class="').concat(L.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(L.label,'"></span>\n   </label>\n   <textarea class="').concat(L.textarea,'"></textarea>\n   <div class="').concat(L["validation-message"],'" id="').concat(L["validation-message"],'"></div>\n   <div class="').concat(L.actions,'">\n     <div class="').concat(L.loader,'"></div>\n     <button type="button" class="').concat(L.confirm,'"></button>\n     <button type="button" class="').concat(L.deny,'"></button>\n     <button type="button" class="').concat(L.cancel,'"></button>\n   </div>\n   <div class="').concat(L.footer,'"></div>\n   <div class="').concat(L["timer-progress-bar-container"],'">\n     <div class="').concat(L["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Ar=()=>{nt.currentInstance.resetValidationMessage()},Z=b=>{const E=(()=>{const b=Ve();return!!b&&(b.remove(),Nn([document.documentElement,document.body],[L["no-backdrop"],L["toast-shown"],L["has-column"]]),!0)})();if(ir())return void de("SweetAlert2 requires document to initialize");const P=document.createElement("div");P.className=L.container,E&&Pt(P,L["no-transition"]),Lt(P,Wr);const j=(b=>"string"==typeof b?document.querySelector(b):b)(b.target);j.appendChild(P),(b=>{const E=Ne();E.setAttribute("role",b.toast?"alert":"dialog"),E.setAttribute("aria-live",b.toast?"polite":"assertive"),b.toast||E.setAttribute("aria-modal","true")})(b),(b=>{"rtl"===window.getComputedStyle(b).direction&&Pt(Ve(),L.rtl)})(j),(()=>{const b=Ne(),E=gr(b,L.input),P=gr(b,L.file),j=b.querySelector(".".concat(L.range," input")),Ee=b.querySelector(".".concat(L.range," output")),et=gr(b,L.select),cn=b.querySelector(".".concat(L.checkbox," input")),on=gr(b,L.textarea);E.oninput=Ar,P.onchange=Ar,et.onchange=Ar,cn.onchange=Ar,on.oninput=Ar,j.oninput=()=>{Ar(),Ee.value=j.value},j.onchange=()=>{Ar(),Ee.value=j.value}})()},Q=(b,E)=>{b instanceof HTMLElement?E.appendChild(b):"object"==typeof b?$(b,E):b&&Lt(E,b)},$=(b,E)=>{b.jquery?K(E,b):Lt(E,b.toString())},K=(b,E)=>{if(b.textContent="",0 in E)for(let P=0;P in E;P++)b.appendChild(E[P].cloneNode(!0));else b.appendChild(E.cloneNode(!0))},W=(()=>{if(ir())return!1;const b=document.createElement("div"),E={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const P in E)if(Object.prototype.hasOwnProperty.call(E,P)&&void 0!==b.style[P])return E[P];return!1})(),Ge=(b,E)=>{const P=we(),j=ae();E.showConfirmButton||E.showDenyButton||E.showCancelButton?hn(P):it(P),At(P,E,"actions"),function mt(b,E,P){const j=G(),Ee=Ce(),et=re();Wt(j,"confirm",P),Wt(Ee,"deny",P),Wt(et,"cancel",P),function ln(b,E,P,j){j.buttonsStyling?(Pt([b,E,P],L.styled),j.confirmButtonColor&&(b.style.backgroundColor=j.confirmButtonColor,Pt(b,L["default-outline"])),j.denyButtonColor&&(E.style.backgroundColor=j.denyButtonColor,Pt(E,L["default-outline"])),j.cancelButtonColor&&(P.style.backgroundColor=j.cancelButtonColor,Pt(P,L["default-outline"]))):Nn([b,E,P],L.styled)}(j,Ee,et,P),P.reverseButtons&&(P.toast?(b.insertBefore(et,j),b.insertBefore(Ee,j)):(b.insertBefore(et,E),b.insertBefore(Ee,E),b.insertBefore(j,E)))}(P,j,E),Lt(j,E.loaderHtml),At(j,E,"loader")};function Wt(b,E,P){yn(b,P["show".concat(ye(E),"Button")],"inline-block"),Lt(b,P["".concat(E,"ButtonText")]),b.setAttribute("aria-label",P["".concat(E,"ButtonAriaLabel")]),b.className=L[E],At(b,P,"".concat(E,"Button")),Pt(b,P["".concat(E,"ButtonClass")])}const Bt=(b,E)=>{const P=Ve();!P||(function Kr(b,E){"string"==typeof E?b.style.background=E:E||Pt([document.documentElement,document.body],L["no-backdrop"])}(P,E.backdrop),function Vi(b,E){E in L?Pt(b,L[E]):(ce('The "position" parameter is not valid, defaulting to "center"'),Pt(b,L.center))}(P,E.position),function uo(b,E){if(E&&"string"==typeof E){const P="grow-".concat(E);P in L&&Pt(b,L[P])}}(P,E.grow),At(P,E,"container"))};const Uo=["input","file","range","select","radio","checkbox","textarea"],Mr=b=>{if(!nn[b.input])return void de('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(b.input,'"'));const E=ho(b.input),P=nn[b.input](E,b);hn(E),setTimeout(()=>{Vr(P)})},Bn=(b,E)=>{const P=gi(Ne(),b);if(P){(b=>{for(let E=0;E<b.attributes.length;E++){const P=b.attributes[E].name;["type","value","style"].includes(P)||b.removeAttribute(P)}})(P);for(const j in E)P.setAttribute(j,E[j])}},Br=b=>{const E=ho(b.input);"object"==typeof b.customClass&&Pt(E,b.customClass.input)},Ca=(b,E)=>{(!b.placeholder||E.inputPlaceholder)&&(b.placeholder=E.inputPlaceholder)},_i=(b,E,P)=>{if(P.inputLabel){b.id=L.input;const j=document.createElement("label"),Ee=L["input-label"];j.setAttribute("for",b.id),j.className=Ee,"object"==typeof P.customClass&&Pt(j,P.customClass.inputLabel),j.innerText=P.inputLabel,E.insertAdjacentElement("beforebegin",j)}},ho=b=>gr(Ne(),L[b]||L.input),yi=(b,E)=>{["string","number"].includes(typeof E)?b.value="".concat(E):Ue(E)||ce('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof E,'"'))},nn={};nn.text=nn.email=nn.password=nn.number=nn.tel=nn.url=(b,E)=>(yi(b,E.inputValue),_i(b,b,E),Ca(b,E),b.type=E.input,b),nn.file=(b,E)=>(_i(b,b,E),Ca(b,E),b),nn.range=(b,E)=>{const P=b.querySelector("input"),j=b.querySelector("output");return yi(P,E.inputValue),P.type=E.input,yi(j,E.inputValue),_i(P,b,E),b},nn.select=(b,E)=>{if(b.textContent="",E.inputPlaceholder){const P=document.createElement("option");Lt(P,E.inputPlaceholder),P.value="",P.disabled=!0,P.selected=!0,b.appendChild(P)}return _i(b,b,E),b},nn.radio=b=>(b.textContent="",b),nn.checkbox=(b,E)=>{const P=gi(Ne(),"checkbox");P.value="1",P.id=L.checkbox,P.checked=Boolean(E.inputValue);const j=b.querySelector("span");return Lt(j,E.inputPlaceholder),P},nn.textarea=(b,E)=>{yi(b,E.inputValue),Ca(b,E),_i(b,b,E);return setTimeout(()=>{if("MutationObserver"in window){const j=parseInt(window.getComputedStyle(Ne()).width);new MutationObserver(()=>{const et=b.offsetWidth+(j=>parseInt(window.getComputedStyle(j).marginLeft)+parseInt(window.getComputedStyle(j).marginRight))(b);Ne().style.width=et>j?"".concat(et,"px"):null}).observe(b,{attributes:!0,attributeFilter:["style"]})}}),b};const fo=(b,E)=>{const P=be();At(P,E,"htmlContainer"),E.html?(Q(E.html,P),hn(P,"block")):E.text?(P.textContent=E.text,hn(P,"block")):it(P),((b,E)=>{const P=Ne(),j=oe.innerParams.get(b),Ee=!j||E.input!==j.input;Uo.forEach(et=>{const cn=gr(P,L[et]);Bn(et,E.inputAttributes),cn.className=L[et],Ee&&it(cn)}),E.input&&(Ee&&Mr(E),Br(E))})(b,E)},gt=(b,E)=>{for(const P in U)E.icon!==P&&Nn(b,U[P]);Pt(b,U[E.icon]),ji(b,E),un(),At(b,E,"icon")},un=()=>{const b=Ne(),E=window.getComputedStyle(b).getPropertyValue("background-color"),P=b.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let j=0;j<P.length;j++)P[j].style.backgroundColor=E},Sn=(b,E)=>{let j,P=b.innerHTML;E.iconHtml?j=gn(E.iconHtml):"success"===E.icon?(j='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',P=P.replace(/ style=".*?"/g,"")):j="error"===E.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':gn({question:"?",warning:"!",info:"i"}[E.icon]),P.trim()!==j.trim()&&Lt(b,j)},ji=(b,E)=>{if(E.iconColor){b.style.color=E.iconColor,b.style.borderColor=E.iconColor;for(const P of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Tr(b,P,"backgroundColor",E.iconColor);Tr(b,".swal2-success-ring","borderColor",E.iconColor)}},gn=b=>'<div class="'.concat(L["icon-content"],'">').concat(b,"</div>"),Ft=(b,E)=>{b.className="".concat(L.popup," ").concat(en(b)?E.showClass.popup:""),E.toast?(Pt([document.documentElement,document.body],L["toast-shown"]),Pt(b,L.toast)):Pt(b,L.modal),At(b,E,"popup"),"string"==typeof E.customClass&&Pt(b,E.customClass),E.icon&&Pt(b,L["icon-".concat(E.icon)])},Yr=b=>{const E=document.createElement("li");return Pt(E,L["progress-step"]),Lt(E,b),E},ba=b=>{const E=document.createElement("li");return Pt(E,L["progress-step-line"]),b.progressStepsDistance&&Un(E,"width",b.progressStepsDistance),E},On=(b,E)=>{((b,E)=>{const P=Ve(),j=Ne();E.toast?(Un(P,"width",E.width),j.style.width="100%",j.insertBefore(ae(),Qe())):Un(j,"width",E.width),Un(j,"padding",E.padding),E.color&&(j.style.color=E.color),E.background&&(j.style.background=E.background),it(qe()),Ft(j,E)})(0,E),Bt(0,E),((b,E)=>{const P=Ze();E.progressSteps&&0!==E.progressSteps.length?(hn(P),P.textContent="",E.currentProgressStep>=E.progressSteps.length&&ce("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.progressSteps.forEach((j,Ee)=>{const et=Yr(j);if(P.appendChild(et),Ee===E.currentProgressStep&&Pt(et,L["active-progress-step"]),Ee!==E.progressSteps.length-1){const cn=ba(E);P.appendChild(cn)}})):it(P)})(0,E),((b,E)=>{const P=oe.innerParams.get(b),j=Qe();P&&E.icon===P.icon?(Sn(j,E),gt(j,E)):E.icon||E.iconHtml?E.icon&&-1===Object.keys(U).indexOf(E.icon)?(de('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(E.icon,'"')),it(j)):(hn(j),Sn(j,E),gt(j,E),Pt(j,E.showClass.icon)):it(j)})(b,E),((b,E)=>{const P=Ae();E.imageUrl?(hn(P,""),P.setAttribute("src",E.imageUrl),P.setAttribute("alt",E.imageAlt),Un(P,"width",E.imageWidth),Un(P,"height",E.imageHeight),P.className=L.image,At(P,E,"image")):it(P)})(0,E),((b,E)=>{const P=Pe();yn(P,E.title||E.titleText,"block"),E.title&&Q(E.title,P),E.titleText&&(P.innerText=E.titleText),At(P,E,"title")})(0,E),((b,E)=>{const P=pt();Lt(P,E.closeButtonHtml),At(P,E,"closeButton"),yn(P,E.showCloseButton),P.setAttribute("aria-label",E.closeButtonAriaLabel)})(0,E),fo(b,E),Ge(0,E),((b,E)=>{const P=fe();yn(P,E.footer),E.footer&&Q(E.footer,P),At(P,E,"footer")})(0,E),"function"==typeof E.didRender&&E.didRender(Ne())};function ms(){const b=oe.innerParams.get(this);if(!b)return;const E=oe.domCache.get(this);it(E.loader),Jt()?b.icon&&hn(Qe()):_s(E),Nn([E.popup,E.actions],L.loading),E.popup.removeAttribute("aria-busy"),E.popup.removeAttribute("data-loading"),E.confirmButton.disabled=!1,E.denyButton.disabled=!1,E.cancelButton.disabled=!1}const _s=b=>{const E=b.popup.getElementsByClassName(b.loader.getAttribute("data-button-to-replace"));E.length?hn(E[0],"inline-block"):!en(G())&&!en(Ce())&&!en(re())&&it(b.actions)};const Vo=()=>G()&&G().click(),_r=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),jo=b=>{b.keydownTarget&&b.keydownHandlerAdded&&(b.keydownTarget.removeEventListener("keydown",b.keydownHandler,{capture:b.keydownListenerCapture}),b.keydownHandlerAdded=!1)},Jr=(b,E,P)=>{const j=Ht();if(j.length)return(E+=P)===j.length?E=0:-1===E&&(E=j.length-1),j[E].focus();Ne().focus()},wi=["ArrowRight","ArrowDown"],sc=["ArrowLeft","ArrowUp"],pd=(b,E,P)=>{const j=oe.innerParams.get(b);!j||E.isComposing||229===E.keyCode||(j.stopKeydownPropagation&&E.stopPropagation(),"Enter"===E.key?Kc(b,E,j):"Tab"===E.key?yr(E,j):[...wi,...sc].includes(E.key)?ys(E.key):"Escape"===E.key&&Yc(E,j,P))},Kc=(b,E,P)=>{if(se(P.allowEnterKey)&&E.target&&b.getInput()&&E.target instanceof HTMLElement&&E.target.outerHTML===b.getInput().outerHTML){if(["textarea","file"].includes(P.input))return;Vo(),E.preventDefault()}},yr=(b,E)=>{const P=b.target,j=Ht();let Ee=-1;for(let et=0;et<j.length;et++)if(P===j[et]){Ee=et;break}Jr(0,Ee,b.shiftKey?-1:1),b.stopPropagation(),b.preventDefault()},ys=b=>{const E=G(),P=Ce(),j=re();if(document.activeElement instanceof HTMLElement&&![E,P,j].includes(document.activeElement))return;const Ee=wi.includes(b)?"nextElementSibling":"previousElementSibling";let et=document.activeElement;for(let cn=0;cn<we().children.length;cn++){if(et=et[Ee],!et)return;if(et instanceof HTMLButtonElement&&en(et))break}et instanceof HTMLButtonElement&&et.focus()},Yc=(b,E,P)=>{se(E.allowEscapeKey)&&(b.preventDefault(),P(_r.esc))};var Ea={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const cu=()=>{Array.from(document.body.children).forEach(E=>{E.hasAttribute("data-previous-aria-hidden")?(E.setAttribute("aria-hidden",E.getAttribute("data-previous-aria-hidden")),E.removeAttribute("data-previous-aria-hidden")):E.removeAttribute("aria-hidden")})},oc=()=>{const b=navigator.userAgent,E=!!b.match(/iPad/i)||!!b.match(/iPhone/i),P=!!b.match(/WebKit/i);E&&P&&!b.match(/CriOS/i)&&Ne().scrollHeight>window.innerHeight-44&&(Ve().style.paddingBottom="".concat(44,"px"))},vs=()=>{const b=Ve();let E;b.ontouchstart=P=>{E=gd(P)},b.ontouchmove=P=>{E&&(P.preventDefault(),P.stopPropagation())}},gd=b=>{const E=b.target,P=Ve();return!Qc(b)&&!lu(b)&&(E===P||!Ui(P)&&E instanceof HTMLElement&&"INPUT"!==E.tagName&&"TEXTAREA"!==E.tagName&&!(Ui(be())&&be().contains(E)))},Qc=b=>b.touches&&b.touches.length&&"stylus"===b.touches[0].touchType,lu=b=>b.touches&&b.touches.length>1,Xc=()=>{null===Qt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Qt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Qt.previousBodyPadding+(()=>{const b=document.createElement("div");b.className=L["scrollbar-measure"],document.body.appendChild(b);const E=b.getBoundingClientRect().width-b.clientWidth;return document.body.removeChild(b),E})(),"px"))};function el(b,E,P,j){Jt()?il(b,j):(xt(P).then(()=>il(b,j)),jo(nt)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(E.setAttribute("style","display:none !important"),E.removeAttribute("class"),E.innerHTML=""):E.remove(),Je()&&(null!==Qt.previousBodyPadding&&(document.body.style.paddingRight="".concat(Qt.previousBodyPadding,"px"),Qt.previousBodyPadding=null),(()=>{if(bn(document.body,L.iosfix)){const b=parseInt(document.body.style.top,10);Nn(document.body,L.iosfix),document.body.style.top="",document.body.scrollTop=-1*b}})(),cu()),function Ho(){Nn([document.documentElement,document.body],[L.shown,L["height-auto"],L["no-backdrop"],L["toast-shown"]])}()}function Hs(b){b=Hi(b);const E=Ea.swalPromiseResolve.get(this),P=nl(this);this.isAwaitingPromise()?b.isDismissed||(Ci(this),E(b)):P&&E(b)}const nl=b=>{const E=Ne();if(!E)return!1;const P=oe.innerParams.get(b);if(!P||bn(E,P.hideClass.popup))return!1;Nn(E,P.showClass.popup),Pt(E,P.hideClass.popup);const j=Ve();return Nn(j,P.showClass.backdrop),Pt(j,P.hideClass.backdrop),mo(b,E,P),!0};const Ci=b=>{b.isAwaitingPromise()&&(oe.awaitingPromise.delete(b),oe.innerParams.get(b)||b._destroy())},Hi=b=>void 0===b?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},b),mo=(b,E,P)=>{const j=Ve(),Ee=W&&In(E);"function"==typeof P.willClose&&P.willClose(E),Ee?rl(b,E,j,P.returnFocus,P.didClose):el(b,j,P.returnFocus,P.didClose)},rl=(b,E,P,j,Ee)=>{nt.swalCloseEventFinishedCallback=el.bind(null,b,P,j,Ee),E.addEventListener(W,function(et){et.target===E&&(nt.swalCloseEventFinishedCallback(),delete nt.swalCloseEventFinishedCallback)})},il=(b,E)=>{setTimeout(()=>{"function"==typeof E&&E.bind(b.params)(),b._destroy()})};function Ia(b,E,P){const j=oe.domCache.get(b);E.forEach(Ee=>{j[Ee].disabled=P})}function ws(b,E){if(b)if("radio"===b.type){const j=b.parentNode.parentNode.querySelectorAll("input");for(let Ee=0;Ee<j.length;Ee++)j[Ee].disabled=E}else b.disabled=E}const $s={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},cc=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],vo={},lc=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],bi=b=>Object.prototype.hasOwnProperty.call($s,b),ol=b=>-1!==cc.indexOf(b),rn=b=>vo[b],$o=b=>{bi(b)||ce('Unknown parameter "'.concat(b,'"'))},qs=b=>{lc.includes(b)&&ce('The parameter "'.concat(b,'" is incompatible with toasts'))},sn=b=>{rn(b)&&Y(b,rn(b))};const Cs=b=>{const E={};return Object.keys(b).forEach(P=>{ol(P)?E[P]=b[P]:ce("Invalid parameter to update: ".concat(P))}),E};const uc=b=>{wn(b),delete b.params,delete nt.keydownHandler,delete nt.keydownTarget,delete nt.currentInstance},wn=b=>{b.isAwaitingPromise()?(Xr(oe,b),oe.awaitingPromise.set(b,!0)):(Xr(Ea,b),Xr(oe,b))},Xr=(b,E)=>{for(const P in b)b[P].delete(E)};var zn=Object.freeze({hideLoading:ms,disableLoading:ms,getInput:function vn(b){const E=oe.innerParams.get(b||this),P=oe.domCache.get(b||this);return P?gi(P.popup,E.input):null},close:Hs,isAwaitingPromise:function tl(){return!!oe.awaitingPromise.get(this)},rejectPromise:function vr(b){const E=Ea.swalPromiseReject.get(this);Ci(this),E&&E(b)},handleAwaitingPromise:Ci,closePopup:Hs,closeModal:Hs,closeToast:Hs,enableButtons:function _o(){Ia(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Sr(){Ia(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function sl(){ws(this.getInput(),!1)},disableInput:function Pr(){ws(this.getInput(),!0)},showValidationMessage:function yo(b){const E=oe.domCache.get(this),P=oe.innerParams.get(this);Lt(E.validationMessage,b),E.validationMessage.className=L["validation-message"],P.customClass&&P.customClass.validationMessage&&Pt(E.validationMessage,P.customClass.validationMessage),hn(E.validationMessage);const j=this.getInput();j&&(j.setAttribute("aria-invalid",!0),j.setAttribute("aria-describedby",L["validation-message"]),Vr(j),Pt(j,L.inputerror))},resetValidationMessage:function Qr(){const b=oe.domCache.get(this);b.validationMessage&&it(b.validationMessage);const E=this.getInput();E&&(E.removeAttribute("aria-invalid"),E.removeAttribute("aria-describedby"),Nn(E,L.inputerror))},getProgressSteps:function ac(){return oe.domCache.get(this).progressSteps},update:function Da(b){const E=Ne(),P=oe.innerParams.get(this);if(!E||bn(E,P.hideClass.popup))return ce("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const j=Cs(b),Ee=Object.assign({},P,j);On(this,Ee),oe.innerParams.set(this,Ee),Object.defineProperties(this,{params:{value:Object.assign({},this.params,b),writable:!1,enumerable:!0}})},_destroy:function sr(){const b=oe.domCache.get(this),E=oe.innerParams.get(this);E?(b.popup&&nt.swalCloseEventFinishedCallback&&(nt.swalCloseEventFinishedCallback(),delete nt.swalCloseEventFinishedCallback),"function"==typeof E.didDestroy&&E.didDestroy(),uc(this)):wn(this)}});const ei=b=>{let E=Ne();E||new at,E=Ne();const P=ae();Jt()?it(Qe()):es(E,b),hn(P),E.setAttribute("data-loading","true"),E.setAttribute("aria-busy","true"),E.focus()},es=(b,E)=>{const P=we(),j=ae();!E&&en(G())&&(E=G()),hn(P),E&&(it(E),j.setAttribute("data-button-to-replace",E.className)),j.parentNode.insertBefore(j,E),Pt([b,P],L.loading)},$i=b=>b.checked?1:0,wo=b=>b.checked?b.value:null,It=b=>b.files.length?null!==b.getAttribute("multiple")?b.files:b.files[0]:null,bs=(b,E)=>{const P=Ne(),j=Ee=>{Zo[E.input](P,zo(Ee),E)};ze(E.inputOptions)||Ue(E.inputOptions)?(ei(G()),xe(E.inputOptions).then(Ee=>{b.hideLoading(),j(Ee)})):"object"==typeof E.inputOptions?j(E.inputOptions):de("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof E.inputOptions))},dc=(b,E)=>{const P=b.getInput();it(P),xe(E.inputValue).then(j=>{P.value="".concat("number"===E.input?parseFloat(j)||0:j),hn(P),P.focus(),b.hideLoading()}).catch(j=>{de("Error in inputValue promise: ".concat(j)),P.value="",hn(P),P.focus(),b.hideLoading()})},Zo={select:(b,E,P)=>{const j=gr(b,L.select),Ee=(et,cn,on)=>{const En=document.createElement("option");En.value=on,Lt(En,cn),En.selected=Wo(on,P.inputValue),et.appendChild(En)};E.forEach(et=>{const cn=et[0],on=et[1];if(Array.isArray(on)){const En=document.createElement("optgroup");En.label=cn,En.disabled=!1,j.appendChild(En),on.forEach(Cr=>Ee(En,Cr[1],Cr[0]))}else Ee(j,on,cn)}),j.focus()},radio:(b,E,P)=>{const j=gr(b,L.radio);E.forEach(et=>{const cn=et[0],on=et[1],En=document.createElement("input"),Cr=document.createElement("label");En.type="radio",En.name=L.radio,En.value=cn,Wo(cn,P.inputValue)&&(En.checked=!0);const vt=document.createElement("span");Lt(vt,on),vt.className=L.label,Cr.appendChild(En),Cr.appendChild(vt),j.appendChild(Cr)});const Ee=j.querySelectorAll("input");Ee.length&&Ee[0].focus()}},zo=b=>{const E=[];return"undefined"!=typeof Map&&b instanceof Map?b.forEach((P,j)=>{let Ee=P;"object"==typeof Ee&&(Ee=zo(Ee)),E.push([j,Ee])}):Object.keys(b).forEach(P=>{let j=b[P];"object"==typeof j&&(j=zo(j)),E.push([P,j])}),E},Wo=(b,E)=>E&&E.toString()===b.toString(),Oe=(b,E)=>{const P=oe.innerParams.get(b);if(!P.input)return void de('The "input" parameter is needed to be set when using returnInputValueOn'.concat(ye(E)));const j=((b,E)=>{const P=b.getInput();if(!P)return null;switch(E.input){case"checkbox":return $i(P);case"radio":return wo(P);case"file":return It(P);default:return E.inputAutoTrim?P.value.trim():P.value}})(b,P);P.inputValidator?qt(b,j,E):b.getInput().checkValidity()?"deny"===E?Es(b,j):ts(b,j):(b.enableButtons(),b.showValidationMessage(P.validationMessage))},qt=(b,E,P)=>{const j=oe.innerParams.get(b);b.disableInput(),Promise.resolve().then(()=>xe(j.inputValidator(E,j.validationMessage))).then(et=>{b.enableButtons(),b.enableInput(),et?b.showValidationMessage(et):"deny"===P?Es(b,E):ts(b,E)})},Es=(b,E)=>{const P=oe.innerParams.get(b||void 0);P.showLoaderOnDeny&&ei(Ce()),P.preDeny?(oe.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>xe(P.preDeny(E,P.validationMessage))).then(Ee=>{!1===Ee?(b.hideLoading(),Ci(b)):b.close({isDenied:!0,value:void 0===Ee?E:Ee})}).catch(Ee=>Ko(b||void 0,Ee))):b.close({isDenied:!0,value:E})},mn=(b,E)=>{b.close({isConfirmed:!0,value:E})},Ko=(b,E)=>{b.rejectPromise(E)},ts=(b,E)=>{const P=oe.innerParams.get(b||void 0);P.showLoaderOnConfirm&&ei(),P.preConfirm?(b.resetValidationMessage(),oe.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>xe(P.preConfirm(E,P.validationMessage))).then(Ee=>{en(qe())||!1===Ee?(b.hideLoading(),Ci(b)):mn(b,void 0===Ee?E:Ee)}).catch(Ee=>Ko(b||void 0,Ee))):mn(b,E)},fc=(b,E,P)=>{E.popup.onclick=()=>{const j=oe.innerParams.get(b);j&&(pc(j)||j.timer||j.input)||P(_r.close)}},pc=b=>b.showConfirmButton||b.showDenyButton||b.showCancelButton||b.showCloseButton;let bo=!1;const al=b=>{b.popup.onmousedown=()=>{b.container.onmouseup=function(E){b.container.onmouseup=void 0,E.target===b.container&&(bo=!0)}}},_d=b=>{b.container.onmousedown=()=>{b.popup.onmouseup=function(E){b.popup.onmouseup=void 0,(E.target===b.popup||b.popup.contains(E.target))&&(bo=!0)}}},ns=(b,E,P)=>{E.container.onclick=j=>{const Ee=oe.innerParams.get(b);bo?bo=!1:j.target===E.container&&se(Ee.allowOutsideClick)&&P(_r.backdrop)}},qr=b=>b instanceof Element||(b=>"object"==typeof b&&b.jquery)(b);const Yo=()=>{if(nt.timeout)return(()=>{const b=Be(),E=parseInt(window.getComputedStyle(b).width);b.style.removeProperty("transition"),b.style.width="100%";const j=E/parseInt(window.getComputedStyle(b).width)*100;b.style.removeProperty("transition"),b.style.width="".concat(j,"%")})(),nt.timeout.stop()},Jo=()=>{if(nt.timeout){const b=nt.timeout.start();return Dn(b),b}};let Xo=!1;const Ma={};const Sa=b=>{for(let E=b.target;E&&E!==document;E=E.parentNode)for(const P in Ma){const j=E.getAttribute(P);if(j)return void Ma[P].fire({template:j})}};var Gs=Object.freeze({isValidParameter:bi,isUpdatableParameter:ol,isDeprecatedParameter:rn,argsToParams:b=>{const E={};return"object"!=typeof b[0]||qr(b[0])?["title","html","icon"].forEach((P,j)=>{const Ee=b[j];"string"==typeof Ee||qr(Ee)?E[P]=Ee:void 0!==Ee&&de("Unexpected type of ".concat(P,'! Expected "string" or "Element", got ').concat(typeof Ee))}):Object.assign(E,b[0]),E},isVisible:()=>en(Ne()),clickConfirm:Vo,clickDeny:()=>Ce()&&Ce().click(),clickCancel:()=>re()&&re().click(),getContainer:Ve,getPopup:Ne,getTitle:Pe,getHtmlContainer:be,getImage:Ae,getIcon:Qe,getInputLabel:()=>Ie(L["input-label"]),getCloseButton:pt,getActions:we,getConfirmButton:G,getDenyButton:Ce,getCancelButton:re,getLoader:ae,getFooter:fe,getTimerProgressBar:Be,getFocusableElements:Ht,getValidationMessage:qe,isLoading:()=>Ne().hasAttribute("data-loading"),fire:function Is(){const b=this;for(var E=arguments.length,P=new Array(E),j=0;j<E;j++)P[j]=arguments[j];return new b(...P)},mixin:function Ii(b){return class E extends(this){_main(j,Ee){return super._main(j,Object.assign({},b,Ee))}}},showLoading:ei,enableLoading:ei,getTimerLeft:()=>nt.timeout&&nt.timeout.getTimerLeft(),stopTimer:Yo,resumeTimer:Jo,toggleTimer:()=>{const b=nt.timeout;return b&&(b.running?Yo():Jo())},increaseTimer:b=>{if(nt.timeout){const E=nt.timeout.increase(b);return Dn(E,!0),E}},isTimerRunning:()=>nt.timeout&&nt.timeout.isRunning(),bindClickHandler:function cl(){Ma[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Xo||(document.body.addEventListener("click",Sa),Xo=!0)}});class ll{constructor(E,P){this.callback=E,this.remaining=P,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(E){const P=this.running;return P&&this.stop(),this.remaining+=E,P&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Zs=["swal-title","swal-html","swal-footer"],Pa=b=>{const E={};return Array.from(b.querySelectorAll("swal-param")).forEach(j=>{Oa(j,["name","value"]);const Ee=j.getAttribute("name"),et=j.getAttribute("value");E[Ee]="boolean"==typeof $s[Ee]?"false"!==et:"object"==typeof $s[Ee]?JSON.parse(et):et}),E},Gr=b=>{const E={};return Array.from(b.querySelectorAll("swal-function-param")).forEach(j=>{const Ee=j.getAttribute("name"),et=j.getAttribute("value");E[Ee]=new Function("return ".concat(et))()}),E},uu=b=>{const E={};return Array.from(b.querySelectorAll("swal-button")).forEach(j=>{Oa(j,["type","color","aria-label"]);const Ee=j.getAttribute("type");E["".concat(Ee,"ButtonText")]=j.innerHTML,E["show".concat(ye(Ee),"Button")]=!0,j.hasAttribute("color")&&(E["".concat(Ee,"ButtonColor")]=j.getAttribute("color")),j.hasAttribute("aria-label")&&(E["".concat(Ee,"ButtonAriaLabel")]=j.getAttribute("aria-label"))}),E},_c=b=>{const E={},P=b.querySelector("swal-image");return P&&(Oa(P,["src","width","height","alt"]),P.hasAttribute("src")&&(E.imageUrl=P.getAttribute("src")),P.hasAttribute("width")&&(E.imageWidth=P.getAttribute("width")),P.hasAttribute("height")&&(E.imageHeight=P.getAttribute("height")),P.hasAttribute("alt")&&(E.imageAlt=P.getAttribute("alt"))),E},Wn=b=>{const E={},P=b.querySelector("swal-icon");return P&&(Oa(P,["type","color"]),P.hasAttribute("type")&&(E.icon=P.getAttribute("type")),P.hasAttribute("color")&&(E.iconColor=P.getAttribute("color")),E.iconHtml=P.innerHTML),E},zs=b=>{const E={},P=b.querySelector("swal-input");P&&(Oa(P,["type","label","placeholder","value"]),E.input=P.getAttribute("type")||"text",P.hasAttribute("label")&&(E.inputLabel=P.getAttribute("label")),P.hasAttribute("placeholder")&&(E.inputPlaceholder=P.getAttribute("placeholder")),P.hasAttribute("value")&&(E.inputValue=P.getAttribute("value")));const j=Array.from(b.querySelectorAll("swal-input-option"));return j.length&&(E.inputOptions={},j.forEach(Ee=>{Oa(Ee,["value"]);const et=Ee.getAttribute("value");E.inputOptions[et]=Ee.innerHTML})),E},Fn=(b,E)=>{const P={};for(const j in E){const Ee=E[j],et=b.querySelector(Ee);et&&(Oa(et,[]),P[Ee.replace(/^swal-/,"")]=et.innerHTML.trim())}return P},du=b=>{const E=Zs.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(b.children).forEach(P=>{const j=P.tagName.toLowerCase();E.includes(j)||ce("Unrecognized element <".concat(j,">"))})},Oa=(b,E)=>{Array.from(b.attributes).forEach(P=>{-1===E.indexOf(P.name)&&ce(['Unrecognized attribute "'.concat(P.name,'" on <').concat(b.tagName.toLowerCase(),">."),"".concat(E.length?"Allowed attributes are: ".concat(E.join(", ")):"To set the value, use HTML within the element.")])})},dl=b=>{const E=Ve(),P=Ne();"function"==typeof b.willOpen&&b.willOpen(P);const Ee=window.getComputedStyle(document.body).overflowY;rs(E,P,b),setTimeout(()=>{Wh(E,P)},10),Je()&&(ea(E,b.scrollbarPadding,Ee),Array.from(document.body.children).forEach(E=>{E===Ve()||E.contains(Ve())||(E.hasAttribute("aria-hidden")&&E.setAttribute("data-previous-aria-hidden",E.getAttribute("aria-hidden")),E.setAttribute("aria-hidden","true"))})),!Jt()&&!nt.previousActiveElement&&(nt.previousActiveElement=document.activeElement),"function"==typeof b.didOpen&&setTimeout(()=>b.didOpen(P)),Nn(E,L["no-transition"])},hu=b=>{const E=Ne();if(b.target!==E)return;const P=Ve();E.removeEventListener(W,hu),P.style.overflowY="auto"},Wh=(b,E)=>{W&&In(E)?(b.style.overflowY="hidden",E.addEventListener(W,hu)):b.style.overflowY="auto"},ea=(b,E,P)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!bn(document.body,L.iosfix)){const E=document.body.scrollTop;document.body.style.top="".concat(-1*E,"px"),Pt(document.body,L.iosfix),vs(),oc()}})(),E&&"hidden"!==P&&Xc(),setTimeout(()=>{b.scrollTop=0})},rs=(b,E,P)=>{Pt(b,P.showClass.backdrop),E.style.setProperty("opacity","0","important"),hn(E,"grid"),setTimeout(()=>{Pt(E,P.showClass.popup),E.style.removeProperty("opacity")},10),Pt([document.documentElement,document.body],L.shown),P.heightAuto&&P.backdrop&&!P.toast&&Pt([document.documentElement,document.body],L["height-auto"])};var Ds={email:(b,E)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(b)?Promise.resolve():Promise.resolve(E||"Invalid email address"),url:(b,E)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(b)?Promise.resolve():Promise.resolve(E||"Invalid URL")};function vd(b){(function jn(b){b.inputValidator||Object.keys(Ds).forEach(E=>{b.input===E&&(b.inputValidator=Ds[E])})})(b),b.showLoaderOnConfirm&&!b.preConfirm&&ce("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function hl(b){(!b.target||"string"==typeof b.target&&!document.querySelector(b.target)||"string"!=typeof b.target&&!b.target.appendChild)&&(ce('Target parameter is not valid, defaulting to "body"'),b.target="body")}(b),"string"==typeof b.title&&(b.title=b.title.split("\n").join("<br />")),Z(b)}let or;class Di{constructor(){if("undefined"==typeof window)return;or=this;for(var E=arguments.length,P=new Array(E),j=0;j<E;j++)P[j]=arguments[j];const Ee=Object.freeze(this.constructor.argsToParams(P));Object.defineProperties(this,{params:{value:Ee,writable:!1,enumerable:!0,configurable:!0}});const et=or._main(or.params);oe.promise.set(this,et)}_main(E){let P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(b=>{!1===b.backdrop&&b.allowOutsideClick&&ce('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const E in b)$o(E),b.toast&&qs(E),sn(E)})(Object.assign({},P,E)),nt.currentInstance&&(nt.currentInstance._destroy(),Je()&&cu()),nt.currentInstance=or;const j=wd(E,P);vd(j),Object.freeze(j),nt.timeout&&(nt.timeout.stop(),delete nt.timeout),clearTimeout(nt.restoreFocusTimeout);const Ee=is(or);return On(or,j),oe.innerParams.set(or,j),ka(or,Ee,j)}then(E){return oe.promise.get(this).then(E)}finally(E){return oe.promise.get(this).finally(E)}}const ka=(b,E,P)=>new Promise((j,Ee)=>{const et=cn=>{b.close({isDismissed:!0,dismiss:cn})};Ea.swalPromiseResolve.set(b,j),Ea.swalPromiseReject.set(b,Ee),E.confirmButton.onclick=()=>{(b=>{const E=oe.innerParams.get(b);b.disableButtons(),E.input?Oe(b,"confirm"):ts(b,!0)})(b)},E.denyButton.onclick=()=>{(b=>{const E=oe.innerParams.get(b);b.disableButtons(),E.returnInputValueOnDeny?Oe(b,"deny"):Es(b,!1)})(b)},E.cancelButton.onclick=()=>{((b,E)=>{b.disableButtons(),E(_r.cancel)})(b,et)},E.closeButton.onclick=()=>{et(_r.close)},((b,E,P)=>{oe.innerParams.get(b).toast?fc(b,E,P):(al(E),_d(E),ns(b,E,P))})(b,E,et),((b,E,P,j)=>{jo(E),P.toast||(E.keydownHandler=Ee=>pd(b,Ee,j),E.keydownTarget=P.keydownListenerCapture?window:Ne(),E.keydownListenerCapture=P.keydownListenerCapture,E.keydownTarget.addEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!0)})(b,nt,P,et),((b,E)=>{"select"===E.input||"radio"===E.input?bs(b,E):["text","email","number","tel","textarea"].includes(E.input)&&(ze(E.inputValue)||Ue(E.inputValue))&&(ei(G()),dc(b,E))})(b,P),dl(P),Ra(nt,P,et),Cd(E,P),setTimeout(()=>{E.container.scrollTop=0})}),wd=(b,E)=>{const P=(b=>{const E="string"==typeof b.template?document.querySelector(b.template):b.template;if(!E)return{};const P=E.content;return du(P),Object.assign(Pa(P),Gr(P),uu(P),_c(P),Wn(P),zs(P),Fn(P,Zs))})(b),j=Object.assign({},$s,E,P,b);return j.showClass=Object.assign({},$s.showClass,j.showClass),j.hideClass=Object.assign({},$s.hideClass,j.hideClass),j},is=b=>{const E={popup:Ne(),container:Ve(),actions:we(),confirmButton:G(),denyButton:Ce(),cancelButton:re(),loader:ae(),closeButton:pt(),validationMessage:qe(),progressSteps:Ze()};return oe.domCache.set(b,E),E},Ra=(b,E,P)=>{const j=Be();it(j),E.timer&&(b.timeout=new ll(()=>{P("timer"),delete b.timeout},E.timer),E.timerProgressBar&&(hn(j),At(j,E,"timerProgressBar"),setTimeout(()=>{b.timeout&&b.timeout.running&&Dn(E.timer)})))},Cd=(b,E)=>{if(!E.toast){if(!se(E.allowEnterKey))return void ta();pn(b,E)||Jr(0,-1,1)}},pn=(b,E)=>E.focusDeny&&en(b.denyButton)?(b.denyButton.focus(),!0):E.focusCancel&&en(b.cancelButton)?(b.cancelButton.focus(),!0):!(!E.focusConfirm||!en(b.confirmButton)||(b.confirmButton.focus(),0)),ta=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};"undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&(document.body.style.pointerEvents="none"),Object.assign(Di.prototype,zn),Object.assign(Di,Gs),Object.keys(zn).forEach(b=>{Di[b]=function(){if(or)return or[b](...arguments)}}),Di.DismissReason=_r,Di.version="11.5.2";const at=Di;return at.default=at,at}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(oe,F){var c=oe.createElement("style");if(oe.getElementsByTagName("head")[0].appendChild(c),c.styleSheet)c.styleSheet.disabled||(c.styleSheet.cssText=F);else try{c.innerHTML=F}catch(L){c.innerText=F}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(rt,oe,F)=>{"use strict";function pe(ee,ae){var re={};for(var we in ee)Object.prototype.hasOwnProperty.call(ee,we)&&ae.indexOf(we)<0&&(re[we]=ee[we]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(we=Object.getOwnPropertySymbols(ee);fe<we.length;fe++)ae.indexOf(we[fe])<0&&Object.prototype.propertyIsEnumerable.call(ee,we[fe])&&(re[we[fe]]=ee[we[fe]])}return re}function de(ee,ae,re,we){return new(re||(re=Promise))(function(Be,pt){function Kt(Jt){try{Je(we.next(Jt))}catch(Mn){pt(Mn)}}function Ht(Jt){try{Je(we.throw(Jt))}catch(Mn){pt(Mn)}}function Je(Jt){Jt.done?Be(Jt.value):function fe(Be){return Be instanceof re?Be:new re(function(pt){pt(Be)})}(Jt.value).then(Kt,Ht)}Je((we=we.apply(ee,ae||[])).next())})}function me(ee){return this instanceof me?(this.v=ee,this):new me(ee)}function Ie(ee,ae,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,we=re.apply(ee,ae||[]),Be=[];return fe={},pt("next"),pt("throw"),pt("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function pt(Qt){we[Qt]&&(fe[Qt]=function(Lt){return new Promise(function(bn,Xt){Be.push([Qt,Lt,bn,Xt])>1||Kt(Qt,Lt)})})}function Kt(Qt,Lt){try{!function Ht(Qt){Qt.value instanceof me?Promise.resolve(Qt.value.v).then(Je,Jt):Mn(Be[0][2],Qt)}(we[Qt](Lt))}catch(bn){Mn(Be[0][3],bn)}}function Je(Qt){Kt("next",Qt)}function Jt(Qt){Kt("throw",Qt)}function Mn(Qt,Lt){Qt(Lt),Be.shift(),Be.length&&Kt(Be[0][0],Be[0][1])}}function Qe(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,ae=ee[Symbol.asyncIterator];return ae?ae.call(ee):(ee=function se(ee){var ae="function"==typeof Symbol&&Symbol.iterator,re=ae&&ee[ae],we=0;if(re)return re.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&we>=ee.length&&(ee=void 0),{value:ee&&ee[we++],done:!ee}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),re={},we("next"),we("throw"),we("return"),re[Symbol.asyncIterator]=function(){return this},re);function we(Be){re[Be]=ee[Be]&&function(pt){return new Promise(function(Kt,Ht){!function fe(Be,pt,Kt,Ht){Promise.resolve(Ht).then(function(Je){Be({value:Je,done:Kt})},pt)}(Kt,Ht,(pt=ee[Be](pt)).done,pt.value)})}}}F.d(oe,{FC:()=>Ie,KL:()=>Qe,_T:()=>pe,mG:()=>de,qq:()=>me})},5e3:(rt,oe,F)=>{"use strict";F.d(oe,{$8M:()=>As,$Z:()=>KI,AFp:()=>Gc,ALo:()=>VD,AaK:()=>de,CHM:()=>Es,CRH:()=>Yl,CZH:()=>Tv,CqO:()=>Jg,EJc:()=>Sv,EpF:()=>QI,F4k:()=>XI,FYo:()=>ep,FiY:()=>ft,G48:()=>tu,GfV:()=>sv,Gpc:()=>Y,JOm:()=>N,LFG:()=>O,LSH:()=>xc,Lbi:()=>Zc,NdJ:()=>dy,OlP:()=>kn,Oqu:()=>Vf,PXZ:()=>Vm,Q6J:()=>rC,QGY:()=>oC,Qsj:()=>ZC,R0b:()=>Fo,RDi:()=>lc,Rgc:()=>zl,SBq:()=>Ku,Sil:()=>Cb,Suo:()=>gv,TTD:()=>Hi,TgZ:()=>Yg,VKq:()=>lt,VLi:()=>Oh,WLB:()=>Nt,X6Q:()=>Ob,XFs:()=>it,Xpm:()=>Ge,Y36:()=>Kg,YKP:()=>JC,YNc:()=>Z0,Yjl:()=>Uo,Yz7:()=>Lt,ZZ4:()=>Gv,_Bn:()=>Tm,_UZ:()=>hh,_Vd:()=>Gl,_c5:()=>aT,_uU:()=>Uf,aQg:()=>Dp,c2e:()=>wb,cJS:()=>Xt,cg1:()=>Uy,dDg:()=>Nv,deG:()=>Dd,dqk:()=>Gt,eFA:()=>xb,ekj:()=>Bl,g9A:()=>Av,h0i:()=>jc,hGG:()=>Vb,hij:()=>gh,iGM:()=>db,ifc:()=>nt,ip1:()=>vb,kL8:()=>Vy,lG2:()=>uo,n5z:()=>Ln,oAB:()=>Bt,oxw:()=>Qg,q4F:()=>ov,qLn:()=>Yd,qOj:()=>Mf,qZA:()=>kf,sBO:()=>wp,sIi:()=>sh,s_b:()=>Mm,soG:()=>gp,tBr:()=>kt,tb:()=>xv,tp0:()=>Yn,uIk:()=>Uu,vHH:()=>Ue,vpe:()=>Ja,wAp:()=>Dt,xi3:()=>Ut,xp6:()=>k_,z2F:()=>eu,zSh:()=>S0,zs3:()=>Lc});var c=F(7579),L=F(727),U=F(8306),pe=F(6451),le=F(3099);function ye(i){for(let o in i)if(i[o]===ye)return o;throw Error("Could not find renamed property on target object.")}function ce(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ve(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const z=ye({__forward_ref__:ye});function Y(i){return i.__forward_ref__=Y,i.toString=function(){return de(this())},i}function se(i){return ze(i)?i():i}function ze(i){return"function"==typeof i&&i.hasOwnProperty(z)&&i.__forward_ref__===Y}class Ue extends Error{constructor(o,a){super(function Ve(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function me(i){return"string"==typeof i?i:null==i?"":String(i)}function Ie(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():me(i)}function be(i,o){const a=o?` in ${o}`:"";throw new Ue(-201,`No provider for ${Ie(i)} found${a}`)}function Ht(i,o){null==i&&function Je(i,o,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,i,null,"!=")}function Lt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Xt(i){return{providers:i.providers||[],imports:i.imports||[]}}function At(i){return gi(i,Nn)||gi(i,Un)}function gi(i,o){return i.hasOwnProperty(o)?i[o]:null}function Pt(i){return i&&(i.hasOwnProperty(gr)||i.hasOwnProperty(hn))?i[gr]:null}const Nn=ye({\u0275prov:ye}),gr=ye({\u0275inj:ye}),Un=ye({ngInjectableDef:ye}),hn=ye({ngInjectorDef:ye});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let Tr;function en(i){const o=Tr;return Tr=i,o}function Li(i,o,a){const u=At(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&it.Optional?null:void 0!==o?o:void be(de(i),"Injector")}function In(i){return{toString:i}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),nt=(()=>{return(i=nt||(nt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",nt;var i})();const ht="undefined"!=typeof globalThis&&globalThis,xt="undefined"!=typeof window&&window,ir="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=ht||"undefined"!=typeof global&&global||xt||ir,xr={},_t=[],ps=ye({\u0275cmp:ye}),Z=ye({\u0275dir:ye}),Q=ye({\u0275pipe:ye}),$=ye({\u0275mod:ye}),K=ye({\u0275fac:ye}),W=ye({__NG_ELEMENT_ID__:ye});let ke=0;function Ge(i){return In(()=>{const a={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||_t,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||nt.Emulated,id:"c",styles:i.styles||_t,_:null,setInput:null,schemas:i.schemas||null,tView:null},h=i.directives,g=i.features,y=i.pipes;return u.id+=ke++,u.inputs=Vi(i.inputs,a),u.outputs=Vi(i.outputs),g&&g.forEach(C=>C(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(ln):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(Wt):null,u})}function ln(i){return Vn(i)||function Mr(i){return i[Z]||null}(i)}function Wt(i){return function Qi(i){return i[Q]||null}(i)}const Zn={};function Bt(i){return In(()=>{const o={type:i.type,bootstrap:i.bootstrap||_t,declarations:i.declarations||_t,imports:i.imports||_t,exports:i.exports||_t,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Zn[i.id]=i.type),o})}function Vi(i,o){if(null==i)return xr;const a={};for(const u in i)if(i.hasOwnProperty(u)){let h=i[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=u,o&&(o[h]=g)}return a}const uo=Ge;function Uo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Vn(i){return i[ps]||null}function Bn(i,o){const a=i[$]||null;if(!a&&!0===o)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return a}function $r(i){return Array.isArray(i)&&"object"==typeof i[1]}function _r(i){return Array.isArray(i)&&!0===i[1]}function jo(i){return 0!=(8&i.flags)}function Wc(i){return 2==(2&i.flags)}function Jr(i){return 1==(1&i.flags)}function wi(i){return null!==i.template}function sc(i){return 0!=(512&i[2])}function vr(i,o){return i.hasOwnProperty(K)?i[K]:null}class Ci{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Hi(){return mo}function mo(i){return i.type.prototype.ngOnChanges&&(i.setInput=il),rl}function rl(){const i=ws(this),o=null==i?void 0:i.current;if(o){const a=i.previous;if(a===xr)i.previous=o;else for(let u in o)a[u]=o[u];i.current=null,this.ngOnChanges(o)}}function il(i,o,a,u){const h=ws(i)||function _o(i,o){return i[Ia]=o}(i,{previous:xr,current:null}),g=h.current||(h.current={}),y=h.previous,C=this.declaredInputs[a],D=y[C];g[C]=new Ci(D&&D.currentValue,o,y===xr),i[u]=o}Hi.ngInherit=!0;const Ia="__ngSimpleChanges__";function ws(i){return i[Ia]||null}let vo;function lc(i){vo=i}function rn(i){return!!i.listen}const $o={createRenderer:(i,o)=>function bi(){return void 0!==vo?vo:"undefined"!=typeof document?document:void 0}()};function sn(i){for(;Array.isArray(i);)i=i[0];return i}function Cs(i,o){return sn(o[i])}function sr(i,o){return sn(o[i.index])}function wn(i,o){return i.data[o]}function zn(i,o){const a=o[i];return $r(a)?a:a[0]}function ei(i){return 4==(4&i[2])}function es(i){return 128==(128&i[2])}function Ei(i,o){return null==o?null:i[o]}function $i(i){i[18]=0}function wo(i,o){i[5]+=o;let a=i,u=i[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const It={lFrame:Zs(null),bindingsEnabled:!0};function Ta(){return It.bindingsEnabled}function Oe(){return It.lFrame.lView}function qt(){return It.lFrame.tView}function Es(i){return It.lFrame.contextLView=i,i[8]}function mn(){let i=Ko();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ko(){return It.lFrame.currentTNode}function ti(i,o){const a=It.lFrame;a.currentTNode=i,a.isParent=o}function fc(){return It.lFrame.isParent}function wr(){const i=It.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function Is(){return It.lFrame.bindingIndex++}function Jo(i,o){const a=It.lFrame;a.bindingIndex=a.bindingRootIndex=i,Qo(o)}function Qo(i){It.lFrame.currentDirectiveIndex=i}function Xo(){return It.lFrame.currentQueryIndex}function Ma(i){It.lFrame.currentQueryIndex=i}function cl(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function Sa(i,o,a){if(a&it.SkipSelf){let h=o,g=i;for(;!(h=h.parent,null!==h||a&it.Host||(h=cl(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,i=g}const u=It.lFrame=ll();return u.currentTNode=o,u.lView=i,!0}function Gs(i){const o=ll(),a=i[1];It.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function ll(){const i=It.lFrame,o=null===i?null:i.child;return null===o?Zs(i):o}function Zs(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function ul(){const i=It.lFrame;return It.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Pa=ul;function Gr(){const i=ul();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Wn(){return It.lFrame.selectedIndex}function zs(i){It.lFrame.selectedIndex=i}function Fn(){const i=It.lFrame;return wn(i.tView,i.selectedIndex)}function ea(i,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:M,ngOnDestroy:k}=g;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),C&&((i.contentHooks||(i.contentHooks=[])).push(a,C),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,C)),D&&(i.viewHooks||(i.viewHooks=[])).push(-a,D),M&&((i.viewHooks||(i.viewHooks=[])).push(a,M),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,M)),null!=k&&(i.destroyHooks||(i.destroyHooks=[])).push(a,k)}}function rs(i,o,a){hl(i,o,3,a)}function Ds(i,o,a,u){(3&i[2])===a&&hl(i,o,a,u)}function jn(i,o){let a=i[2];(3&a)===o&&(a&=2047,a+=1,i[2]=a)}function hl(i,o,a,u){const g=null!=u?u:-1,y=o.length-1;let C=0;for(let D=void 0!==u?65535&i[18]:0;D<y;D++)if("number"==typeof o[D+1]){if(C=o[D],null!=u&&C>=u)break}else o[D]<0&&(i[18]+=65536),(C<g||-1==g)&&(vd(i,a,o,D),i[18]=(4294901760&i[18])+D+2),D++}function vd(i,o,a,u){const h=a[u]<0,g=a[u+1],C=i[h?-a[u]:a[u]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class Di{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function b(i,o,a){const u=rn(i);let h=0;for(;h<a.length;){const g=a[h];if("number"==typeof g){if(0!==g)break;h++;const y=a[h++],C=a[h++],D=a[h++];u?i.setAttribute(o,C,D,y):o.setAttributeNS(y,C,D)}else{const y=g,C=a[++h];P(y)?u&&i.setProperty(o,y,C):u?i.setAttribute(o,y,C):o.setAttribute(y,C),h++}}return h}function E(i){return 3===i||4===i||6===i}function P(i){return 64===i.charCodeAt(0)}function j(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?a=h:0===a||Ee(i,a,h,null,-1===a||2===a?o[++u]:null)}}return i}function Ee(i,o,a,u,h){let g=0,y=i.length;if(-1===o)y=-1;else for(;g<i.length;){const C=i[g++];if("number"==typeof C){if(C===o){y=-1;break}if(C>o){y=g-1;break}}}for(;g<i.length;){const C=i[g];if("number"==typeof C)break;if(C===a){if(null===u)return void(null!==h&&(i[g+1]=h));if(u===i[g+1])return void(i[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==y&&(i.splice(y,0,o),g=y+1),i.splice(g++,0,a),null!==u&&i.splice(g++,0,u),null!==h&&i.splice(g++,0,h)}function et(i){return-1!==i}function cn(i){return 32767&i}function En(i,o){let a=function on(i){return i>>16}(i),u=o;for(;a>0;)u=u[15],a--;return u}let Cr=!0;function vt(i){const o=Cr;return Cr=i,o}let yc=0;function Ts(i,o){const a=Ws(i,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(i.injectorIndex=o.length,fl(u.data,i),fl(o,null),fl(u.blueprint,null));const h=Eo(i,o),g=i.injectorIndex;if(et(h)){const y=cn(h),C=En(h,o),D=C[1].data;for(let M=0;M<8;M++)o[g+M]=C[y+M]|D[y+M]}return o[g+8]=h,g}function fl(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Ws(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Eo(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,h=o;for(;null!==h;){const g=h[1],y=g.type;if(u=2===y?g.declTNode:1===y?h[6]:null,null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Io(i,o,a){!function Or(i,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(W)&&(u=a[W]),null==u&&(u=a[W]=yc++);const h=255&u;o.data[i+(h>>5)]|=1<<h}(i,o,a)}function vc(i,o,a){if(a&it.Optional)return i;be(o,"NodeInjector")}function na(i,o,a,u){if(a&it.Optional&&void 0===u&&(u=null),0==(a&(it.Self|it.Host))){const h=i[9],g=en(void 0);try{return h?h.get(o,u,a&it.Optional):Li(o,u,a&it.Optional)}finally{en(g)}}return vc(u,o,a)}function ra(i,o,a,u=it.Default,h){if(null!==i){const g=function ia(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(W)?i[W]:void 0;return"number"==typeof o?o>=0?255&o:wc:o}(a);if("function"==typeof g){if(!Sa(o,i,u))return u&it.Host?vc(h,a,u):na(o,a,u,h);try{const y=g(u);if(null!=y||u&it.Optional)return y;be(a)}finally{Pa()}}else if("number"==typeof g){let y=null,C=Ws(i,o),D=-1,M=u&it.Host?o[16][6]:null;for((-1===C||u&it.SkipSelf)&&(D=-1===C?Eo(i,o):o[C+8],-1!==D&&pu(u,!1)?(y=o[1],C=cn(D),o=En(D,o)):C=-1);-1!==C;){const k=o[1];if(ar(g,C,k.data)){const V=Cc(C,o,a,y,u,M);if(V!==Fa)return V}D=o[C+8],-1!==D&&pu(u,o[1].data[C+8]===M)&&ar(g,C,o)?(y=k,C=cn(D),o=En(D,o)):C=-1}}}return na(o,a,u,h)}const Fa={};function wc(){return new ni(mn(),Oe())}function Cc(i,o,a,u,h,g){const y=o[1],C=y.data[i+8],k=bc(C,y,a,null==u?Wc(C)&&Cr:u!=y&&0!=(3&C.type),h&it.Host&&g===C);return null!==k?qi(o,y,k,C):Fa}function bc(i,o,a,u,h){const g=i.providerIndexes,y=o.data,C=1048575&g,D=i.directiveStart,k=g>>20,J=h?C+k:i.directiveEnd;for(let ie=u?C:C+k;ie<J;ie++){const Te=y[ie];if(ie<D&&a===Te||ie>=D&&Te.type===a)return ie}if(h){const ie=y[D];if(ie&&wi(ie)&&ie.type===a)return D}return null}function qi(i,o,a,u){let h=i[a];const g=o.data;if(function ka(i){return i instanceof Di}(h)){const y=h;y.resolving&&function Ne(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Ue(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ie(g[a]));const C=vt(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?en(y.injectImpl):null;Sa(i,u,it.Default);try{h=i[a]=y.factory(void 0,g,i,u),o.firstCreatePass&&a>=u.directiveStart&&function Wh(i,o,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(u){const y=mo(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],o)}finally{null!==D&&en(D),vt(C),y.resolving=!1,Pa()}}return h}function ar(i,o,a){return!!(a[o+(i>>5)]&1<<i)}function pu(i,o){return!(i&it.Self||i&it.Host&&o)}class ni{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return ra(this._tNode,this._lView,o,u,a)}}function Ln(i){return In(()=>{const o=i.prototype.constructor,a=o[K]||La(o),u=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==u;){const g=h[K]||La(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function La(i){return ze(i)?()=>{const o=La(se(i));return o&&o()}:vr(i)}function As(i){return function Na(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const g=a[h];if(E(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(g===o)return a[h+1];h+=2}}}return null}(mn(),i)}const ss="__parameters__";function os(i,o,a){return In(()=>{const u=function br(i){return function(...a){if(i){const u=i(...a);for(const h in u)this[h]=u[h]}}}(o);function h(...g){if(this instanceof h)return u.apply(this,g),this;const y=new h(...g);return C.annotation=y,C;function C(D,M,k){const V=D.hasOwnProperty(ss)?D[ss]:Object.defineProperty(D,ss,{value:[]})[ss];for(;V.length<=k;)V.push(null);return(V[k]=V[k]||[]).push(y),D}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class kn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Lt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Dd=new kn("AnalyzeForEntryComponents");function ii(i,o){void 0===o&&(o=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(o===i&&(o=i.slice(0,a)),ii(u,o)):o!==i&&o.push(u)}return o}function si(i,o){i.forEach(a=>Array.isArray(a)?si(a,o):o(a))}function Dc(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function mu(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function cr(i,o,a){let u=xo(i,o);return u>=0?i[1|u]=a:(u=~u,function pl(i,o,a,u){let h=i.length;if(h==o)i.push(a,u);else if(1===h)i.push(u,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>o;)i[h]=i[h-2],h--;i[o]=a,i[o+1]=u}}(i,u,o,a)),u}function Ao(i,o){const a=xo(i,o);if(a>=0)return i[1|a]}function xo(i,o){return function Ba(i,o,a){let u=0,h=i.length>>a;for(;h!==u;){const g=u+(h-u>>1),y=i[g<<a];if(o===y)return g<<a;y>o?h=g:u=g+1}return~(h<<a)}(i,o,1)}const oi={},ja="__NG_DI_FLAG__",Gi="ngTempTokenPath",kd=/\n/gm,yl="__source",vl=ye({provide:String,useValue:ye});let xs;function I(i){const o=xs;return xs=i,o}function A(i,o=it.Default){if(void 0===xs)throw new Ue(203,"");return null===xs?Li(i,void 0,o):xs.get(i,o&it.Optional?null:void 0,o)}function O(i,o=it.Default){return(function yn(){return Tr}()||A)(se(i),o)}const ne=O;function he(i){const o=[];for(let a=0;a<i.length;a++){const u=se(i[a]);if(Array.isArray(u)){if(0===u.length)throw new Ue(900,"");let h,g=it.Default;for(let y=0;y<u.length;y++){const C=u[y],D=Ke(C);"number"==typeof D?-1===D?h=C.token:g|=D:h=C}o.push(O(h,g))}else o.push(O(u))}return o}function Se(i,o){return i[ja]=o,i.prototype[ja]=o,i}function Ke(i){return i[ja]}const kt=Se(os("Inject",i=>({token:i})),-1),ft=Se(os("Optional"),8),Yn=Se(os("SkipSelf"),4);class Ud{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ls(i){return i instanceof Ud?i.changingThisBreaksApplicationSecurity:i}const p_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ac=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Jn=(()=>((Jn=Jn||{})[Jn.NONE=0]="NONE",Jn[Jn.HTML=1]="HTML",Jn[Jn.STYLE=2]="STYLE",Jn[Jn.SCRIPT=3]="SCRIPT",Jn[Jn.URL=4]="URL",Jn[Jn.RESOURCE_URL=5]="RESOURCE_URL",Jn))();function xc(i){const o=function Al(){const i=Oe();return i&&i[12]}();return o?o.sanitize(Jn.URL,i)||"":function da(i,o){const a=function wu(i){return i instanceof Ud&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(i,"URL")?ls(i):function Cu(i){return(i=String(i)).match(p_)||i.match(Ac)?i:"unsafe:"+i}(me(i))}const zd="__ngContext__";function kr(i,o){i[zd]=o}function uf(i){const o=function xl(i){return i[zd]||null}(i);return o?Array.isArray(o)?o:o.lView:null}function Kd(i){return i.ngOriginalError}function D_(i,...o){i.error(...o)}class Yd{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function I_(i){return i&&i.ngErrorLogger||D_}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Kd(o);for(;a&&Kd(a);)a=Kd(a);return a||null}}const gf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function _(i){return i instanceof Function?i():i}var N=(()=>((N=N||{})[N.Important=1]="Important",N[N.DashCase=2]="DashCase",N))();function ge(i,o){return undefined(i,o)}function Ct(i){const o=i[3];return _r(o)?o[3]:o}function zi(i){return mf(i[13])}function Ml(i){return mf(i[4])}function mf(i){for(;null!==i&&!_r(i);)i=i[4];return i}function Pc(i,o,a,u,h){if(null!=u){let g,y=!1;_r(u)?g=u:$r(u)&&(y=!0,u=u[0]);const C=sn(u);0===i&&null!==a?null==h?Pw(o,a,C):Ol(o,a,C,h||null,!0):1===i&&null!==a?Ol(o,a,C,h||null,!0):2===i?function Uw(i,o,a){const u=Cg(i,o);u&&function kw(i,o,a,u){rn(i)?i.removeChild(o,a,u):o.removeChild(a)}(i,u,o,a)}(o,C,y):3===i&&o.destroyNode(C),null!=g&&function us(i,o,a,u,h){const g=a[7];g!==sn(a)&&Pc(o,i,u,g,h);for(let C=10;C<a.length;C++){const D=a[C];Xd(D[1],D,i,o,u,g)}}(o,i,g,a,h)}}function Rn(i,o,a){if(rn(i))return i.createElement(o,a);{const u=null!==a?function cc(i){const o=i.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?i.createElement(o):i.createElementNS(u,o)}}function xw(i,o){const a=i[9],u=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,wo(h,-1)),a.splice(u,1)}function vg(i,o){if(i.length<=10)return;const a=10+o,u=i[a];if(u){const h=u[17];null!==h&&h!==i&&xw(h,u),o>0&&(i[a-1][4]=u[4]);const g=mu(i,10+o);!function _f(i,o){Xd(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const y=g[19];null!==y&&y.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Mw(i,o){if(!(256&o[2])){const a=o[11];rn(a)&&a.destroyNode&&Xd(i,o,a,3,null,null),function Pu(i){let o=i[13];if(!o)return wg(i[1],i);for(;o;){let a=null;if($r(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==i;)$r(o)&&wg(o[1],o),o=o[3];null===o&&(o=i),$r(o)&&wg(o[1],o),a=o&&o[4]}o=a}}(o)}}function wg(i,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function x_(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const h=o[a[u]];if(!(h instanceof Di)){const g=a[u+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const C=h[g[y]],D=g[y+1];try{D.call(C)}finally{}}else try{g.call(h)}finally{}}}}(i,o),function Sw(i,o){const a=i.cleanup,u=o[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const y=a[g+1],C="function"==typeof y?y(o):sn(o[y]),D=u[h=a[g+2]],M=a[g+3];"boolean"==typeof M?C.removeEventListener(a[g],D,M):M>=0?u[h=M]():u[h=-M].unsubscribe(),g+=2}else{const y=u[h=a[g+1]];a[g].call(y)}if(null!==u){for(let g=h+1;g<u.length;g++)u[g]();o[7]=null}}(i,o),1===o[1].type&&rn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&_r(o[3])){a!==o[3]&&xw(a,o);const u=o[19];null!==u&&u.detachView(i)}}}function OE(i,o,a){return function Pl(i,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const h=i.data[u.directiveStart].encapsulation;if(h===nt.None||h===nt.Emulated)return null}return sr(u,a)}(i,o.parent,a)}function Ol(i,o,a,u,h){rn(i)?i.insertBefore(o,a,u,h):o.insertBefore(a,u,h)}function Pw(i,o,a){rn(i)?i.appendChild(o,a):o.appendChild(a)}function Ow(i,o,a,u,h){null!==u?Ol(i,o,a,u,h):Pw(i,o,a)}function Cg(i,o){return rn(i)?i.parentNode(o):o.parentNode}let Nw=function M_(i,o,a){return 40&i.type?sr(i,a):null};function Qd(i,o,a,u){const h=OE(i,u,o),g=o[11],C=function Rw(i,o,a){return Nw(i,o,a)}(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(a))for(let D=0;D<a.length;D++)Ow(g,h,a[D],C,!1);else Ow(g,h,a,C,!1)}function bg(i,o){if(null!==o){const a=o.type;if(3&a)return sr(o,i);if(4&a)return Eg(-1,i[o.index]);if(8&a){const u=o.child;if(null!==u)return bg(i,u);{const h=i[o.index];return _r(h)?Eg(-1,h):sn(h)}}if(32&a)return ge(o,i)()||sn(i[o.index]);{const u=Lw(i,o);return null!==u?Array.isArray(u)?u[0]:bg(Ct(i[16]),u):bg(i,o.next)}}return null}function Lw(i,o){return null!==o?i[16][6].projection[o.projection]:null}function Eg(i,o){const a=10+i+1;if(a<o.length){const u=o[a],h=u[1].firstChild;if(null!==h)return bg(u,h)}return o[7]}function Vw(i,o,a,u,h,g,y){for(;null!=a;){const C=u[a.index],D=a.type;if(y&&0===o&&(C&&kr(sn(C),u),a.flags|=4),64!=(64&a.flags))if(8&D)Vw(i,o,a.child,u,h,g,!1),Pc(o,i,h,C,g);else if(32&D){const M=ge(a,u);let k;for(;k=M();)Pc(o,i,h,k,g);Pc(o,i,h,C,g)}else 16&D?Qn(i,o,u,a,h,g):Pc(o,i,h,C,g);a=y?a.projectionNext:a.next}}function Xd(i,o,a,u,h,g){Vw(a,u,i.firstChild,o,h,g,!1)}function Qn(i,o,a,u,h,g){const y=a[16],D=y[6].projection[u.projection];if(Array.isArray(D))for(let M=0;M<D.length;M++)Pc(o,i,h,D[M],g);else Vw(i,o,D,y[3],h,g,!0)}function De(i,o,a){rn(i)?i.setAttribute(o,"style",a):o.style.cssText=a}function Xs(i,o,a){rn(i)?""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a):o.className=a}function Rt(i,o,a){let u=i.length;for(;;){const h=i.indexOf(o,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const g=o.length;if(h+g===u||i.charCodeAt(h+g)<=32)return h}a=h+1}}const P_="ng-template";function jw(i,o,a){let u=0;for(;u<i.length;){let h=i[u++];if(a&&"class"===h){if(h=i[u],-1!==Rt(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<i.length&&"string"==typeof(h=i[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Hw(i){return 4===i.type&&i.value!==P_}function NE(i,o,a){return o===(4!==i.type||a?i.value:P_)}function lr(i,o,a){let u=4;const h=i.attrs||[],g=function LE(i){for(let o=0;o<i.length;o++)if(E(i[o]))return o;return i.length}(h);let y=!1;for(let C=0;C<o.length;C++){const D=o[C];if("number"!=typeof D){if(!y)if(4&u){if(u=2|1&u,""!==D&&!NE(i,D,a)||""===D&&1===o.length){if(eo(u))return!1;y=!0}}else{const M=8&u?D:o[++C];if(8&u&&null!==i.attrs){if(!jw(i.attrs,M,a)){if(eo(u))return!1;y=!0}continue}const V=O_(8&u?"class":D,h,Hw(i),a);if(-1===V){if(eo(u))return!1;y=!0;continue}if(""!==M){let J;J=V>g?"":h[V+1].toLowerCase();const ie=8&u?J:null;if(ie&&-1!==Rt(ie,M,0)||2&u&&M!==J){if(eo(u))return!1;y=!0}}}}else{if(!y&&!eo(u)&&!eo(D))return!1;if(y&&eo(D))continue;y=!1,u=D|1&u}}return eo(u)||y}function eo(i){return 0==(1&i)}function O_(i,o,a,u){if(null===o)return-1;let h=0;if(u||!a){let g=!1;for(;h<o.length;){const y=o[h];if(y===i)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function UE(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,i)}function $w(i,o,a=!1){for(let u=0;u<o.length;u++)if(lr(i,o[u],a))return!0;return!1}function qw(i,o){return i?":not("+o.trim()+")":o}function Gw(i){let o=i[0],a=1,u=2,h="",g=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&u){const C=i[++a];h+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!eo(y)&&(o+=qw(g,h),h=""),u=y,g=g||!eo(u);a++}return""!==h&&(o+=qw(g,h)),o}const jt={};function k_(i){Zw(qt(),Oe(),Wn()+i,!1)}function Zw(i,o,a,u){if(!u)if(3==(3&o[2])){const g=i.preOrderCheckHooks;null!==g&&rs(o,g,a)}else{const g=i.preOrderHooks;null!==g&&Ds(o,g,0,a)}zs(a)}function Oc(i,o){return i<<17|o<<2}function Po(i){return i>>17&32767}function Ou(i){return 2|i}function qn(i){return(131068&i)>>2}function N_(i,o){return-131069&i|o<<2}function F_(i){return 1|i}function s0(i,o){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],g=a[u+1];if(-1!==g){const y=i.data[g];Ma(h),y.contentQueries(2,o[g],g)}}}function th(i,o,a,u,h,g,y,C,D,M){const k=o.blueprint.slice();return k[0]=h,k[2]=140|u,$i(k),k[3]=k[15]=i,k[8]=a,k[10]=y||i&&i[10],k[11]=C||i&&i[11],k[12]=D||i&&i[12]||null,k[9]=M||i&&i[9]||null,k[6]=g,k[16]=2==o.type?i[16]:k,k}function nh(i,o,a,u,h){let g=i.data[o];if(null===g)g=function B_(i,o,a,u,h){const g=Ko(),y=fc(),D=i.data[o]=function d0(i,o,a,u,h,g){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,a,o,u,h);return null===i.firstChild&&(i.firstChild=D),null!==g&&(y?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(i,o,a,u,h),function gc(){return It.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=u,g.attrs=h;const y=function ts(){const i=It.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return ti(g,!0),g}function ds(i,o,a,u){if(0===a)return-1;const h=o.length;for(let g=0;g<a;g++)o.push(u),i.blueprint.push(u),i.data.push(null);return h}function ks(i,o,a){Gs(o);try{const u=i.viewQuery;null!==u&&Rg(1,u,a);const h=i.template;null!==h&&a0(i,o,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&s0(i,o),i.staticViewQueries&&Rg(2,i.viewQuery,a);const g=i.components;null!==g&&function o0(i,o){for(let a=0;a<o.length;a++)b0(i,o[a])}(o,g)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{o[2]&=-5,Gr()}}function kc(i,o,a,u){const h=o[2];if(256!=(256&h)){Gs(o);try{$i(o),function Aa(i){return It.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&a0(i,o,a,2,u);const y=3==(3&h);if(y){const M=i.preOrderCheckHooks;null!==M&&rs(o,M,null)}else{const M=i.preOrderHooks;null!==M&&Ds(o,M,0,null),jn(o,0)}if(function aI(i){for(let o=zi(i);null!==o;o=Ml(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const h=a[u],g=h[3];0==(1024&h[2])&&wo(g,1),h[2]|=1024}}}(o),function oI(i){for(let o=zi(i);null!==o;o=Ml(o))for(let a=10;a<o.length;a++){const u=o[a],h=u[1];es(u)&&kc(h,u,h.template,u[8])}}(o),null!==i.contentQueries&&s0(i,o),y){const M=i.contentCheckHooks;null!==M&&rs(o,M)}else{const M=i.contentHooks;null!==M&&Ds(o,M,1),jn(o,1)}!function r0(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)zs(~h);else{const g=h,y=a[++u],C=a[++u];Jo(y,g),C(2,o[g])}}}finally{zs(-1)}}(i,o);const C=i.components;null!==C&&function V_(i,o){for(let a=0;a<o.length;a++)cI(i,o[a])}(o,C);const D=i.viewQuery;if(null!==D&&Rg(2,D,u),y){const M=i.viewCheckHooks;null!==M&&rs(o,M)}else{const M=i.viewHooks;null!==M&&Ds(o,M,2),jn(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[2]&=-73,1024&o[2]&&(o[2]&=-1025,wo(o[3],-1))}finally{Gr()}}}function QE(i,o,a,u){const h=o[10],y=ei(o);try{!y&&h.begin&&h.begin(),y&&ks(i,o,u),kc(i,o,a,u)}finally{!y&&h.end&&h.end()}}function a0(i,o,a,u,h){const g=Wn(),y=2&u;try{zs(-1),y&&o.length>20&&Zw(i,o,20,!1),a(u,h)}finally{zs(g)}}function Nu(i,o,a){!Ta()||(function pa(i,o,a,u){const h=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||Ts(a,o),kr(u,o);const y=a.initialInputs;for(let C=h;C<g;C++){const D=i.data[C],M=wi(D);M&&v0(o,a,D);const k=qi(o,i,C,a);kr(k,o),null!==y&&sI(0,C-h,k,D,0,y),M&&(zn(a.index,o)[8]=k)}}(i,o,a,sr(a,o)),128==(128&a.flags)&&function rI(i,o,a){const u=a.directiveStart,h=a.directiveEnd,y=a.index,C=function mc(){return It.lFrame.currentDirectiveIndex}();try{zs(y);for(let D=u;D<h;D++){const M=i.data[D],k=o[D];Qo(D),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&p0(M,k)}}finally{zs(-1),Qo(C)}}(i,o,a))}function Ag(i,o,a=sr){const u=o.localNames;if(null!==u){let h=o.index+1;for(let g=0;g<u.length;g+=2){const y=u[g+1],C=-1===y?a(o,i):i[y];i[h++]=C}}}function c0(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Tf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function Tf(i,o,a,u,h,g,y,C,D,M){const k=20+u,V=k+h,J=function XE(i,o){const a=[];for(let u=0;u<o;u++)a.push(u<i?null:jt);return a}(k,V),ie="function"==typeof M?M():M;return J[1]={type:i,blueprint:J,template:a,queries:null,viewQuery:C,declTNode:o,data:J.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:ie,incompleteFirstPass:!1}}function j_(i,o,a,u){const h=fI(o);null===a?h.push(u):(h.push(a),i.firstCreatePass&&E0(i).push(u,h.length-1))}function Af(i,o,a){for(let u in i)if(i.hasOwnProperty(u)){const h=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,h):a[u]=[o,h]}return a}function Mg(i,o,a,u){let h=!1;if(Ta()){const g=function iI(i,o,a){const u=i.directiveRegistry;let h=null;if(u)for(let g=0;g<u.length;g++){const y=u[g];$w(a,y.selectors,!1)&&(h||(h=[]),Io(Ts(a,o),i,y.type),wi(y)?(g0(i,a),h.unshift(y)):h.push(y))}return h}(i,o,a),y=null===u?null:{"":-1};if(null!==g){h=!0,_0(a,i.data.length,g.length);for(let k=0;k<g.length;k++){const V=g[k];V.providersResolver&&V.providersResolver(V)}let C=!1,D=!1,M=ds(i,o,g.length,null);for(let k=0;k<g.length;k++){const V=g[k];a.mergedAttrs=j(a.mergedAttrs,V.hostAttrs),y0(i,a,o,M,V),Fu(M,V,y),null!==V.contentQueries&&(a.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(a.flags|=128);const J=V.type.prototype;!C&&(J.ngOnChanges||J.ngOnInit||J.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),C=!0),!D&&(J.ngOnChanges||J.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),D=!0),M++}!function H_(i,o){const u=o.directiveEnd,h=i.data,g=o.attrs,y=[];let C=null,D=null;for(let M=o.directiveStart;M<u;M++){const k=h[M],V=k.inputs,J=null===g||Hw(o)?null:w0(V,g);y.push(J),C=Af(V,M,C),D=Af(k.outputs,M,D)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=C,o.outputs=D}(i,a)}y&&function m0(i,o,a){if(o){const u=i.localNames=[];for(let h=0;h<o.length;h+=2){const g=a[o[h+1]];if(null==g)throw new Ue(-301,!1);u.push(o[h],g)}}}(a,u,y)}return a.mergedAttrs=j(a.mergedAttrs,a.attrs),h}function f0(i,o,a,u,h,g){const y=g.hostBindings;if(y){let C=i.hostBindingOpCodes;null===C&&(C=i.hostBindingOpCodes=[]);const D=~o.index;(function nI(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(C)!=D&&C.push(D),C.push(u,h,y)}}function p0(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function g0(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function Fu(i,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=i;wi(o)&&(a[""]=i)}}function _0(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}function y0(i,o,a,u,h){i.data[u]=h;const g=h.factory||(h.factory=vr(h.type)),y=new Di(g,wi(h),null);i.blueprint[u]=y,a[u]=y,f0(i,o,0,u,ds(i,a,h.hostVars,jt),h)}function v0(i,o,a){const u=sr(o,i),h=c0(a),g=i[10],y=Sg(i,th(i,h,null,a.onPush?64:16,u,o,g,g.createRenderer(u,a),null,null));i[o.index]=y}function Ga(i,o,a,u,h,g){const y=sr(i,o);!function $_(i,o,a,u,h,g,y){if(null==g)rn(i)?i.removeAttribute(o,h,a):o.removeAttribute(h);else{const C=null==y?me(g):y(g,u||"",h);rn(i)?i.setAttribute(o,h,C,a):a?o.setAttributeNS(a,h,C):o.setAttribute(h,C)}}(o[11],y,g,i.value,a,u,h)}function sI(i,o,a,u,h,g){const y=g[o];if(null!==y){const C=u.setInput;for(let D=0;D<y.length;){const M=y[D++],k=y[D++],V=y[D++];null!==C?u.setInput(a,V,M,k):a[k]=V}}}function w0(i,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],o[u+1])),u+=2}else u+=2;else u+=4}return a}function q_(i,o,a,u){return new Array(i,!0,!1,o,null,0,u,a,null,null)}function cI(i,o){const a=zn(o,i);if(es(a)){const u=a[1];80&a[2]?kc(u,a,u.template,a[8]):a[5]>0&&G_(a)}}function G_(i){for(let u=zi(i);null!==u;u=Ml(u))for(let h=10;h<u.length;h++){const g=u[h];if(1024&g[2]){const y=g[1];kc(y,g,y.template,g[8])}else g[5]>0&&G_(g)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=zn(a[u],i);es(h)&&h[5]>0&&G_(h)}}function b0(i,o){const a=zn(o,i),u=a[1];(function lI(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(u,a),ks(u,a,a[8])}function Sg(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function Pg(i){for(;i;){i[2]|=64;const o=Ct(i);if(sc(i)&&!o)return i;i=o}return null}function kg(i){!function Og(i){for(let o=0;o<i.components.length;o++){const a=i.components[o],u=uf(a),h=u[1];QE(h,u,h.template,a)}}(i[8])}function Rg(i,o,a){Ma(0),o(i,a)}const kx=(()=>Promise.resolve(null))();function fI(i){return i[7]||(i[7]=[])}function E0(i){return i.cleanup||(i.cleanup=[])}function D0(i,o){const a=i[9],u=a?a.get(Yd,null):null;u&&u.handleError(o)}function T0(i,o,a,u,h){for(let g=0;g<a.length;){const y=a[g++],C=a[g++],D=o[y],M=i.data[y];null!==M.setInput?M.setInput(D,h,u,C):D[C]=h}}function Rc(i,o,a){const u=Cs(o,i);!function Jd(i,o,a){rn(i)?i.setValue(o,a):o.textContent=a}(i[11],u,a)}function Ng(i,o,a){let u=a?i.styles:null,h=a?i.classes:null,g=0;if(null!==o)for(let y=0;y<o.length;y++){const C=o[y];"number"==typeof C?g=C:1==g?h=ve(h,C):2==g&&(u=ve(u,C+": "+o[++y]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=h:i.classesWithoutHost=h}const x0=new kn("INJECTOR",-1);class M0{get(o,a=oi){if(a===oi){const u=new Error(`NullInjectorError: No provider for ${de(o)}!`);throw u.name="NullInjectorError",u}return a}}const S0=new kn("Set Injector scope."),Fg={},gI={};let z_;function xf(){return void 0===z_&&(z_=new M0),z_}function W_(i,o=null,a=null,u){const h=K_(i,o,a,u);return h._resolveInjectorDefTypes(),h}function K_(i,o=null,a=null,u){return new Nc(i,a,o||xf(),u)}class Nc{constructor(o,a,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&si(a,C=>this.processProvider(C,o,a)),si([o],C=>this.processInjectorType(C,[],g)),this.records.set(x0,ih(void 0,this));const y=this.records.get(S0);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:de(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=oi,u=it.Default){this.assertNotDestroyed();const h=I(this),g=en(void 0);try{if(!(u&it.SkipSelf)){let C=this.records.get(o);if(void 0===C){const D=function Y_(i){return"function"==typeof i||"object"==typeof i&&i instanceof kn}(o)&&At(o);C=D&&this.injectableDefInScope(D)?ih(Lg(o),Fg):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(u&it.Self?xf():this.parent).get(o,a=u&it.Optional&&a===oi?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Gi]=y[Gi]||[]).unshift(de(o)),h)throw y;return function yt(i,o,a,u){const h=i[Gi];throw o[yl]&&h.unshift(o[yl]),i.message=function Mt(i,o,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let h=de(o);if(Array.isArray(o))h=o.map(de).join(" -> ");else if("object"==typeof o){let g=[];for(let y in o)if(o.hasOwnProperty(y)){let C=o[y];g.push(y+":"+("string"==typeof C?JSON.stringify(C):de(C)))}h=`{${g.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${i.replace(kd,"\n  ")}`}("\n"+i.message,h,a,u),i.ngTokenPath=h,i[Gi]=null,i}(y,o,"R3InjectorError",this.source)}throw y}finally{en(g),I(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(de(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processInjectorType(o,a,u){if(!(o=se(o)))return!1;let h=Pt(o);const g=null==h&&o.ngModule||void 0,y=void 0===g?o:g,C=-1!==u.indexOf(y);if(void 0!==g&&(h=Pt(g)),null==h)return!1;if(null!=h.imports&&!C){let k;u.push(y);try{si(h.imports,V=>{this.processInjectorType(V,a,u)&&(void 0===k&&(k=[]),k.push(V))})}finally{}if(void 0!==k)for(let V=0;V<k.length;V++){const{ngModule:J,providers:ie}=k[V];si(ie,Te=>this.processProvider(Te,J,ie||_t))}}this.injectorDefTypes.add(y);const D=vr(y)||(()=>new y);this.records.set(y,ih(D,Fg));const M=h.providers;if(null!=M&&!C){const k=o;si(M,V=>this.processProvider(V,k,M))}return void 0!==g&&void 0!==o.providers}processProvider(o,a,u){let h=Fc(o=se(o))?o:se(o&&o.provide);const g=function mI(i,o,a){return k0(i)?ih(void 0,i.useValue):ih(O0(i),Fg)}(o);if(Fc(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=ih(void 0,Fg,!0),y.factory=()=>he(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,g)}hydrate(o,a){return a.value===Fg&&(a.value=gI,a.value=a.factory()),"object"==typeof a.value&&a.value&&function vI(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=se(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Lg(i){const o=At(i),a=null!==o?o.factory:vr(i);if(null!==a)return a;if(i instanceof kn)throw new Ue(204,!1);if(i instanceof Function)return function P0(i){const o=i.length;if(o>0)throw function oa(i,o){const a=[];for(let u=0;u<i;u++)a.push(o);return a}(o,"?"),new Ue(204,!1);const a=function Vr(i){const o=i&&(i[Nn]||i[Un]);if(o){const a=function rr(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ue(204,!1)}function O0(i,o,a){let u;if(Fc(i)){const h=se(i);return vr(h)||Lg(h)}if(k0(i))u=()=>se(i.useValue);else if(function R0(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...he(i.deps||[]));else if(function _I(i){return!(!i||!i.useExisting)}(i))u=()=>O(se(i.useExisting));else{const h=se(i&&(i.useClass||i.provide));if(!function Nx(i){return!!i.deps}(i))return vr(h)||Lg(h);u=()=>new h(...he(i.deps))}return u}function ih(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function k0(i){return null!==i&&"object"==typeof i&&vl in i}function Fc(i){return"function"==typeof i}let Lc=(()=>{class i{static create(a,u){var h;if(Array.isArray(a))return W_({name:""},u,a,"");{const g=null!==(h=a.name)&&void 0!==h?h:"";return W_({name:g},a.parent,a.providers,g)}}}return i.THROW_IF_NOT_FOUND=oi,i.NULL=new M0,i.\u0275prov=Lt({token:i,providedIn:"any",factory:()=>O(x0)}),i.__NG_ELEMENT_ID__=-1,i})();function hs(i,o){ea(uf(i)[1],mn())}function Mf(i){let o=function Q_(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;o;){let h;if(wi(i))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ue(903,"");h=o.\u0275dir}if(h){if(a){u.push(h);const y=i;y.inputs=Sf(i.inputs),y.declaredInputs=Sf(i.declaredInputs),y.outputs=Sf(i.outputs);const C=h.hostBindings;C&&TI(i,C);const D=h.viewQuery,M=h.contentQueries;if(D&&X_(i,D),M&&DI(i,M),ce(i.inputs,h.inputs),ce(i.declaredInputs,h.declaredInputs),ce(i.outputs,h.outputs),wi(h)&&h.data.animation){const k=i.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const C=g[y];C&&C.ngInherit&&C(i),C===Mf&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Bg(i){let o=0,a=null;for(let u=i.length-1;u>=0;u--){const h=i[u];h.hostVars=o+=h.hostVars,h.hostAttrs=j(h.hostAttrs,a=j(a,h.hostAttrs))}}(u)}function Sf(i){return i===xr?{}:i===_t?[]:i}function X_(i,o){const a=i.viewQuery;i.viewQuery=a?(u,h)=>{o(u,h),a(u,h)}:o}function DI(i,o){const a=i.contentQueries;i.contentQueries=a?(u,h,g)=>{o(u,h,g),a(u,h,g)}:o}function TI(i,o){const a=i.hostBindings;i.hostBindings=a?(u,h)=>{o(u,h),a(u,h)}:o}let Nl=null;function Lu(){if(!Nl){const i=Gt.Symbol;if(i&&i.iterator)Nl=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Nl=u)}}}return Nl}function sh(i){return!!ey(i)&&(Array.isArray(i)||!(i instanceof Map)&&Lu()in i)}function ey(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Za(i,o,a){return i[o]=a}function ai(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Uu(i,o,a,u){const h=Oe();return ai(h,Is(),o)&&(qt(),Ga(Fn(),h,i,o,a,u)),Uu}function Z0(i,o,a,u,h,g,y,C){const D=Oe(),M=qt(),k=i+20,V=M.firstCreatePass?function Gg(i,o,a,u,h,g,y,C,D){const M=o.consts,k=nh(o,i,4,y||null,Ei(M,C));Mg(o,a,k,Ei(M,D)),ea(o,k);const V=k.tViews=Tf(2,k,u,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,k),V.queries=o.queries.embeddedTView(k)),k}(k,M,D,o,a,u,h,g,y):M.data[k];ti(V,!1);const J=D[11].createComment("");Qd(M,D,J,V),kr(J,D),Sg(D,D[k]=q_(J,D,J,V)),Jr(V)&&Nu(M,D,V),null!=y&&Ag(D,V,C)}function Kg(i,o=it.Default){const a=Oe();return null===a?O(i,o):ra(mn(),a,se(i),o)}function KI(){throw new Error("invalid")}function rC(i,o,a){const u=Oe();return ai(u,Is(),o)&&function to(i,o,a,u,h,g,y,C){const D=sr(o,a);let k,M=o.inputs;!C&&null!=M&&(k=M[u])?(T0(i,a,k,u,h),Wc(o)&&function h0(i,o){const a=zn(o,i);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function eI(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),h=null!=y?y(h,o.value||"",u):h,rn(g)?g.setProperty(D,u,h):P(u)||(D.setProperty?D.setProperty(u,h):D[u]=h))}(qt(),Fn(),u,i,o,u[11],a,!1),rC}function iC(i,o,a,u,h){const y=h?"class":"style";T0(i,a,o.inputs[y],y,u)}function Yg(i,o,a,u){const h=Oe(),g=qt(),y=20+i,C=h[11],D=h[y]=Rn(C,o,function hu(){return It.lFrame.currentNamespace}()),M=g.firstCreatePass?function YI(i,o,a,u,h,g,y){const C=o.consts,M=nh(o,i,2,h,Ei(C,g));return Mg(o,a,M,Ei(C,y)),null!==M.attrs&&Ng(M,M.attrs,!1),null!==M.mergedAttrs&&Ng(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(y,g,h,0,o,a,u):g.data[y];ti(M,!0);const k=M.mergedAttrs;null!==k&&b(C,D,k);const V=M.classes;null!==V&&Xs(C,D,V);const J=M.styles;return null!==J&&De(C,D,J),64!=(64&M.flags)&&Qd(g,h,D,M),0===function Zo(){return It.lFrame.elementDepthCount}()&&kr(D,h),function zo(){It.lFrame.elementDepthCount++}(),Jr(M)&&(Nu(g,h,M),function Ru(i,o,a){if(jo(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const y=i.data[g];y.contentQueries&&y.contentQueries(1,a[g],g)}}}(g,M,h)),null!==u&&Ag(h,M),Yg}function kf(){let i=mn();fc()?function pc(){It.lFrame.isParent=!1}():(i=i.parent,ti(i,!1));const o=i;!function Wo(){It.lFrame.elementDepthCount--}();const a=qt();return a.firstCreatePass&&(ea(a,i),jo(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Cd(i){return 0!=(16&i.flags)}(o)&&iC(a,o,Oe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function pn(i){return 0!=(32&i.flags)}(o)&&iC(a,o,Oe(),o.stylesWithoutHost,!1),kf}function hh(i,o,a,u){return Yg(i,o,a,u),kf(),hh}function QI(){return Oe()}function oC(i){return!!i&&"function"==typeof i.then}function XI(i){return!!i&&"function"==typeof i.subscribe}const Jg=XI;function dy(i,o,a,u){const h=Oe(),g=qt(),y=mn();return function cC(i,o,a,u,h,g,y,C){const D=Jr(u),k=i.firstCreatePass&&E0(i),V=o[8],J=fI(o);let ie=!0;if(3&u.type||C){const Ye=sr(u,o),ut=C?C(Ye):Ye,Re=J.length,Tt=C?Yt=>C(sn(Yt[u.index])):u.index;if(rn(a)){let Yt=null;if(!C&&D&&(Yt=function Wx(i,o,a,u){const h=i.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===a&&h[g+1]===u){const C=o[7],D=h[g+2];return C.length>D?C[D]:null}"string"==typeof y&&(g+=2)}return null}(i,o,h,u.index)),null!==Yt)(Yt.__ngLastListenerFn__||Yt).__ngNextListenerFn__=g,Yt.__ngLastListenerFn__=g,ie=!1;else{g=ct(u,o,V,g,!1);const _n=a.listen(ut,h,g);J.push(g,_n),k&&k.push(h,Tt,Re,Re+1)}}else g=ct(u,o,V,g,!0),ut.addEventListener(h,g,y),J.push(g),k&&k.push(h,Tt,Re,y)}else g=ct(u,o,V,g,!1);const Te=u.outputs;let $e;if(ie&&null!==Te&&($e=Te[h])){const Ye=$e.length;if(Ye)for(let ut=0;ut<Ye;ut+=2){const Vs=o[$e[ut]][$e[ut+1]].subscribe(g),ru=J.length;J.push(g,Vs),k&&k.push(h,u.index,ru,-(ru+1))}}}(g,h,h[11],y,i,o,!!a,u),dy}function za(i,o,a,u){try{return!1!==a(u)}catch(h){return D0(i,h),!1}}function ct(i,o,a,u,h){return function g(y){if(y===Function)return u;const C=2&i.flags?zn(i.index,o):o;0==(32&o[2])&&Pg(C);let D=za(o,0,u,y),M=g.__ngNextListenerFn__;for(;M;)D=za(o,0,M,y)&&D,M=M.__ngNextListenerFn__;return h&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function Qg(i=1){return function uu(i){return(It.lFrame.contextLView=function _c(i,o){for(;i>0;)o=o[15],i--;return o}(i,It.lFrame.contextLView))[8]}(i)}function py(i,o,a,u,h){const g=i[a+1],y=null===o;let C=u?Po(g):qn(g),D=!1;for(;0!==C&&(!1===D||y);){const k=i[C+1];tD(i[C],o)&&(D=!0,i[C+1]=u?F_(k):Ou(k)),C=u?Po(k):qn(k)}D&&(i[a+1]=u?Ou(g):F_(g))}function tD(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&xo(i,o)>=0}function Bl(i,o){return function ko(i,o,a,u){const h=Oe(),g=qt(),y=function Ii(i){const o=It.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);g.firstUpdatePass&&function sm(i,o,a,u){const h=i.data;if(null===h[a+1]){const g=h[Wn()],y=function im(i,o){return o>=i.expandoStartIndex}(i,a);(function Lf(i,o){return 0!=(i.flags&(o?16:32))})(g,u)&&null===o&&!y&&(o=!1),o=function wy(i,o,a,u){const h=function xa(i){const o=It.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let g=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(a=Nf(a=om(null,i,o,a,u),o.attrs,u),g=null);else{const y=o.directiveStylingLast;if(-1===y||i[y]!==h)if(a=om(h,i,o,a,u),null===g){let D=function nD(i,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==qn(u))return i[Po(u)]}(i,o,u);void 0!==D&&Array.isArray(D)&&(D=om(null,i,o,D[1],u),D=Nf(D,o.attrs,u),function rD(i,o,a,u){i[Po(a?o.classBindings:o.styleBindings)]=u}(i,o,u,D))}else g=function Cy(i,o,a){let u;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)u=Nf(u,i[g].hostAttrs,a);return Nf(u,o.attrs,a)}(i,o,u)}return void 0!==g&&(u?o.residualClasses=g:o.residualStyles=g),a}(h,g,o,u),function eD(i,o,a,u,h,g){let y=g?o.classBindings:o.styleBindings,C=Po(y),D=qn(y);i[u]=a;let k,M=!1;if(Array.isArray(a)){const V=a;k=V[1],(null===k||xo(V,k)>0)&&(M=!0)}else k=a;if(h)if(0!==D){const J=Po(i[C+1]);i[u+1]=Oc(J,C),0!==J&&(i[J+1]=N_(i[J+1],u)),i[C+1]=function Cf(i,o){return 131071&i|o<<17}(i[C+1],u)}else i[u+1]=Oc(C,0),0!==C&&(i[C+1]=N_(i[C+1],u)),C=u;else i[u+1]=Oc(D,0),0===C?C=u:i[D+1]=N_(i[D+1],u),D=u;M&&(i[u+1]=Ou(i[u+1])),py(i,k,u,!0),py(i,k,u,!1),function hC(i,o,a,u,h){const g=h?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof o&&xo(g,o)>=0&&(a[u+1]=F_(a[u+1]))}(o,k,i,u,g),y=Oc(C,D),g?o.classBindings=y:o.styleBindings=y}(h,g,o,a,y,u)}}(g,i,y,u),o!==jt&&ai(h,y,o)&&function yC(i,o,a,u,h,g,y,C){if(!(3&o.type))return;const D=i.data,M=D[C+1];am(function Ww(i){return 1==(1&i)}(M)?ph(D,o,a,h,qn(M),y):void 0)||(am(g)||function R_(i){return 2==(2&i)}(M)&&(g=ph(D,null,a,h,C,y)),function Bw(i,o,a,u,h){const g=rn(i);if(o)h?g?i.addClass(a,u):a.classList.add(u):g?i.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:N.DashCase;if(null==h)g?i.removeStyle(a,u,y):a.style.removeProperty(u);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),y|=N.Important),g?i.setStyle(a,u,h,y):a.style.setProperty(u,h,C?"important":"")}}}(u,y,Cs(Wn(),a),h,g))}(g,g.data[Wn()],h,h[11],i,h[y+1]=function sD(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=de(ls(i)))),i}(o,a),u,y)}(i,o,null,!0),Bl}function om(i,o,a,u,h){let g=null;const y=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<y&&(g=o[C],u=Nf(u,g.hostAttrs,h),g!==i);)C++;return null!==i&&(a.directiveStylingLast=C),u}function Nf(i,o,a){const u=a?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const y=o[g];"number"==typeof y?h=y:h===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),cr(i,y,!!a||o[++g]))}return void 0===i?null:i}function ph(i,o,a,u,h,g){const y=null===o;let C;for(;h>0;){const D=i[h],M=Array.isArray(D),k=M?D[1]:D,V=null===k;let J=a[h+1];J===jt&&(J=V?_t:void 0);let ie=V?Ao(J,u):k===u?J:void 0;if(M&&!am(ie)&&(ie=Ao(D,u)),am(ie)&&(C=ie,y))return C;const Te=i[h+1];h=y?Po(Te):qn(Te)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(C=Ao(D,u))}return C}function am(i){return void 0!==i}function Uf(i,o=""){const a=Oe(),u=qt(),h=i+20,g=u.firstCreatePass?nh(u,h,1,o,null):u.data[h],y=a[h]=function Su(i,o){return rn(i)?i.createText(o):i.createTextNode(o)}(a[11],o);Qd(u,a,y,g),ti(g,!1)}function Vf(i){return gh("",i,""),Vf}function gh(i,o,a){const u=Oe(),h=function Ll(i,o,a,u){return ai(i,Is(),a)?o+me(a)+u:jt}(u,i,o,a);return h!==jt&&Rc(u,Wn(),h),gh}const Ka=void 0;var fD=["en",[["a","p"],["AM","PM"],Ka],[["AM","PM"],Ka,Ka],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ka,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ka,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ka,"{1} 'at' {0}",Ka],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hD(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let _a={};function Uy(i){const o=function IC(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=jf(o);if(a)return a;const u=o.split("-")[0];if(a=jf(u),a)return a;if("en"===u)return fD;throw new Error(`Missing locale data for the locale "${i}".`)}function Vy(i){return Uy(i)[Dt.PluralCase]}function jf(i){return i in _a||(_a[i]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[i]),_a[i]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const jl="en-US";let vh=jl;function Dh(i,o,a,u,h){if(i=se(i),Array.isArray(i))for(let g=0;g<i.length;g++)Dh(i[g],o,a,u,h);else{const g=qt(),y=Oe();let C=Fc(i)?i:se(i.provide),D=O0(i);const M=mn(),k=1048575&M.providerIndexes,V=M.directiveStart,J=M.providerIndexes>>20;if(Fc(i)||!i.multi){const ie=new Di(D,h,Kg),Te=Dm(C,o,h?k:k+J,V);-1===Te?(Io(Ts(M,y),g,C),Im(g,i,o.length),o.push(C),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),a.push(ie),y.push(ie)):(a[Te]=ie,y[Te]=ie)}else{const ie=Dm(C,o,k+J,V),Te=Dm(C,o,k,k+J),$e=ie>=0&&a[ie],Ye=Te>=0&&a[Te];if(h&&!Ye||!h&&!$e){Io(Ts(M,y),g,C);const ut=function $C(i,o,a,u,h){const g=new Di(i,a,Kg);return g.multi=[],g.index=o,g.componentProviders=0,Ya(g,h,u&&!a),g}(h?tv:PD,a.length,h,u,D);!h&&Ye&&(a[Te].providerFactory=ut),Im(g,i,o.length,0),o.push(C),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),a.push(ut),y.push(ut)}else Im(g,i,ie>-1?ie:Te,Ya(a[h?Te:ie],D,!h&&u));!h&&u&&Ye&&a[Te].componentProviders++}}}function Im(i,o,a,u){const h=Fc(o),g=function yI(i){return!!i.useClass}(o);if(h||g){const D=(g?se(o.useClass):o).prototype.ngOnDestroy;if(D){const M=i.destroyHooks||(i.destroyHooks=[]);if(!h&&o.multi){const k=M.indexOf(a);-1===k?M.push(a,[u,D]):M[k+1].push(u,D)}else M.push(a,D)}}}function Ya(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function Dm(i,o,a,u){for(let h=a;h<u;h++)if(o[h]===i)return h;return-1}function PD(i,o,a,u){return zu(this.multi,[])}function tv(i,o,a,u){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=qi(a,a[1],this.providerFactory.index,u);g=C.slice(0,y),zu(h,g);for(let D=y;D<C.length;D++)g.push(C[D])}else g=[],zu(h,g);return g}function zu(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function Tm(i,o=[]){return a=>{a.providersResolver=(u,h)=>function HC(i,o,a){const u=qt();if(u.firstCreatePass){const h=wi(i);Dh(a,u.data,u.blueprint,h,!0),Dh(o,u.data,u.blueprint,h,!1)}}(u,h?h(i):i,o)}}class nv{}class qC{resolveComponentFactory(o){throw function rv(i){const o=Error(`No component factory found for ${de(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let Gl=(()=>{class i{}return i.NULL=new qC,i})();function GC(){return Wu(mn(),Oe())}function Wu(i,o){return new Ku(sr(i,o))}let Ku=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=GC,i})();function iv(i){return i instanceof Ku?i.nativeElement:i}class ep{}let ZC=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Yu(){const i=Oe(),a=zn(mn().index,i);return function zC(i){return i[11]}($r(a)?a:i)}(),i})(),WC=(()=>{class i{}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:()=>null}),i})();class sv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const ov=new sv("13.3.11"),xm={};function Ju(i,o,a,u,h=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&u.push(sn(g)),_r(g))for(let C=10;C<g.length;C++){const D=g[C],M=D[1].firstChild;null!==M&&Ju(D[1],D,M,u)}const y=a.type;if(8&y)Ju(i,o,a.child,u);else if(32&y){const C=ge(a,o);let D;for(;D=C();)u.push(D)}else if(16&y){const C=Lw(o,a);if(Array.isArray(C))u.push(...C);else{const D=Ct(o[16]);Ju(D[1],D,C,u,!0)}}a=h?a.projectionNext:a.next}return u}class ki{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Ju(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(_r(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(vg(o,u),mu(a,u))}this._attachedToViewContainer=!1}Mw(this._lView[1],this._lView)}onDestroy(o){j_(this._lView[1],this._lView,null,o)}markForCheck(){Pg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Z_(i,o,a){const u=o[10];u.begin&&u.begin();try{kc(i,o,i.template,a)}catch(h){throw D0(o,h),h}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vf(i,o){Xd(i,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ue(902,"");this._appRef=o}}class KC extends ki{constructor(o){super(o),this._view=o}detectChanges(){kg(this._view)}checkNoChanges(){}get context(){return null}}class av extends Gl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Vn(o);return new tp(a,this.ngModule)}}function Qu(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class tp extends nv{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function BE(i){return i.map(Gw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Qu(this.componentDef.inputs)}get outputs(){return Qu(this.componentDef.outputs)}create(o,a,u,h){const g=(h=h||this.ngModule)?function RD(i,o){return{get:(a,u,h)=>{const g=i.get(a,xm,h);return g!==xm||u===xm?g:o.get(a,u,h)}}}(o,h.injector):o,y=g.get(ep,$o),C=g.get(WC,null),D=y.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",k=u?function u0(i,o,a){if(rn(i))return i.selectRootElement(o,a===nt.ShadowDom);let u="string"==typeof o?i.querySelector(o):o;return u.textContent="",u}(D,u,this.componentDef.encapsulation):Rn(y.createRenderer(null,this.componentDef),M,function kD(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),V=this.componentDef.onPush?576:528,J=function H0(i,o){return{components:[],scheduler:i||gf,clean:kx,playerHandler:o||null,flags:0}}(),ie=Tf(0,null,null,1,0,null,null,null,null,null),Te=th(null,ie,J,V,null,null,y,D,C,g);let $e,Ye;Gs(Te);try{const ut=function B0(i,o,a,u,h,g){const y=a[1];a[20]=i;const D=nh(y,20,2,"#host",null),M=D.mergedAttrs=o.hostAttrs;null!==M&&(Ng(D,M,!0),null!==i&&(b(h,i,M),null!==D.classes&&Xs(h,i,D.classes),null!==D.styles&&De(h,i,D.styles)));const k=u.createRenderer(i,o),V=th(a,c0(o),null,o.onPush?64:16,a[20],D,u,k,g||null,null);return y.firstCreatePass&&(Io(Ts(D,a),y,o.type),g0(y,D),_0(D,a.length,1)),Sg(a,V),a[20]=V}(k,this.componentDef,Te,y,D);if(k)if(u)b(D,k,["ng-version",ov.full]);else{const{attrs:Re,classes:Tt}=function jE(i){const o=[],a=[];let u=1,h=2;for(;u<i.length;){let g=i[u];if("string"==typeof g)2===h?""!==g&&o.push(g,i[++u]):8===h&&a.push(g);else{if(!eo(h))break;h=g}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Re&&b(D,k,Re),Tt&&Tt.length>0&&Xs(D,k,Tt.join(" "))}if(Ye=wn(ie,20),void 0!==a){const Re=Ye.projection=[];for(let Tt=0;Tt<this.ngContentSelectors.length;Tt++){const Yt=a[Tt];Re.push(null!=Yt?Array.from(Yt):null)}}$e=function j0(i,o,a,u,h){const g=a[1],y=function rh(i,o,a){const u=mn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),y0(i,u,o,ds(i,o,1,null),a));const h=qi(o,i,u.directiveStart,u);kr(h,o);const g=sr(u,o);return g&&kr(g,o),h}(g,a,o);if(u.components.push(y),i[8]=y,h&&h.forEach(D=>D(y,o)),o.contentQueries){const D=mn();o.contentQueries(1,y,D.directiveStart)}const C=mn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(zs(C.index),f0(a[1],C,0,C.directiveStart,C.directiveEnd,o),p0(o,y)),y}(ut,this.componentDef,Te,J,[hs]),ks(ie,Te,null)}finally{Gr()}return new YC(this.componentType,$e,Wu(Ye,Te),Te,Ye)}}class YC extends class Am{}{constructor(o,a,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new KC(h),this.componentType=o}get injector(){return new ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class jc{}class JC{}const Xu=new Map;class ur extends jc{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new av(this);const u=Bn(o);this._bootstrapComponents=_(u.bootstrap),this._r3Injector=K_(o,a,[{provide:jc,useValue:this},{provide:Gl,useValue:this.componentFactoryResolver}],de(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Lc.THROW_IF_NOT_FOUND,u=it.Default){return o===Lc||o===jc||o===x0?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Hc extends JC{constructor(o){super(),this.moduleType=o,null!==Bn(o)&&function Zl(i){const o=new Set;!function a(u){const h=Bn(u,!0),g=h.id;null!==g&&(function ed(i,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${i} - ${de(o)} vs ${de(o.name)}`)}(g,Xu.get(g),u),Xu.set(g,u));const y=_(h.imports);for(const C of y)o.has(C)||(o.add(C),a(C))}(i)}(o)}create(o){return new ur(this.moduleType,o)}}function lt(i,o,a,u){return function tb(i,o,a,u,h,g){const y=o+a;return ai(i,y,h)?Za(i,y+1,g?u.call(g,h):u(h)):np(i,y+1)}(Oe(),wr(),i,o,a,u)}function Nt(i,o,a,u,h){return nb(Oe(),wr(),i,o,a,u,h)}function np(i,o){const a=i[o];return a===jt?void 0:a}function nb(i,o,a,u,h,g,y){const C=o+a;return function Fl(i,o,a,u){const h=ai(i,o,a);return ai(i,o+1,u)||h}(i,C,h,g)?Za(i,C+2,y?u.call(y,h,g):u(h,g)):np(i,C+2)}function VD(i,o){const a=qt();let u;const h=i+20;a.firstCreatePass?(u=function BD(i,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(i===u.name)return u}}(o,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,u.onDestroy)):u=a.data[h];const g=u.factory||(u.factory=vr(u.type)),y=en(Kg);try{const C=vt(!1),D=g();return vt(C),function OI(i,o,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=u}(a,Oe(),h,D),D}finally{en(y)}}function Ut(i,o,a,u){const h=i+20,g=Oe(),y=function Xr(i,o){return i[o]}(g,h);return function St(i,o){return i[1].data[o].pure}(g,h)?nb(g,wr(),o,y.transform,a,u,y):y.transform(a,u)}function tn(i){return o=>{setTimeout(i,void 0,o)}}const Ja=class rp extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var h,g,y;let C=o,D=a||(()=>null),M=u;if(o&&"object"==typeof o){const V=o;C=null===(h=V.next)||void 0===h?void 0:h.bind(V),D=null===(g=V.error)||void 0===g?void 0:g.bind(V),M=null===(y=V.complete)||void 0===y?void 0:y.bind(V)}this.__isAsync&&(D=tn(D),C&&(C=tn(C)),M&&(M=tn(M)));const k=super.subscribe({next:C,error:D,complete:M});return o instanceof L.w0&&o.add(k),k}};function dr(){return this._results[Lu()]()}class We{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Lu(),u=We.prototype;u[a]||(u[a]=dr)}get changes(){return this._changes||(this._changes=new Ja)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const h=ii(o);(this._changesDetected=!function Jh(i,o,a){if(i.length!==o.length)return!1;for(let u=0;u<i.length;u++){let h=i[u],g=o[u];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let zl=(()=>{class i{}return i.__NG_ELEMENT_ID__=jD,i})();const uv=zl,td=class extends uv{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=th(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(a)),ks(a,u,o),new ki(u)}};function jD(){return nd(mn(),Oe())}function nd(i,o){return 4&i.type?new td(o,i,Wu(i,o)):null}let Mm=(()=>{class i{}return i.__NG_ELEMENT_ID__=ip,i})();function ip(){return hv(mn(),Oe())}const ab=Mm,dv=class extends ab{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return Wu(this._hostTNode,this._hostLView)}get injector(){return new ni(this._hostTNode,this._hostLView)}get parentInjector(){const o=Eo(this._hostTNode,this._hostLView);if(et(o)){const a=En(o,this._hostLView),u=cn(o);return new ni(a[1].data[u+8],a)}return new ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Fs(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const h=o.createEmbeddedView(a||{});return this.insert(h,u),h}createComponent(o,a,u,h,g){const y=o&&!function Ic(i){return"function"==typeof i}(o);let C;if(y)C=a;else{const V=a||{};C=V.index,u=V.injector,h=V.projectableNodes,g=V.ngModuleRef}const D=y?o:new tp(Vn(o)),M=u||this.parentInjector;if(!g&&null==D.ngModule){const J=(y?M:this.parentInjector).get(jc,null);J&&(g=J)}const k=D.create(M,h,void 0,g);return this.insert(k.hostView,C),k}insert(o,a){const u=o._lView,h=u[1];if(function Go(i){return _r(i[3])}(u)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const V=u[3],J=new dv(V,V[6],V[3]);J.detach(J.indexOf(o))}}const g=this._adjustIndex(a),y=this._lContainer;!function Sl(i,o,a,u){const h=10+u,g=a.length;u>0&&(a[h-1][4]=o),u<g-10?(o[4]=a[h],Dc(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function PE(i,o){const a=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===a?i[9]=[o]:a.push(o)}(y,o);const C=o[19];null!==C&&C.insertView(i),o[2]|=128}(h,u,y,g);const C=Eg(g,y),D=u[11],M=Cg(D,y[7]);return null!==M&&function yf(i,o,a,u,h,g){u[0]=h,u[6]=o,Xd(i,u,a,1,h,g)}(h,y[6],D,u,M,C),o.attachToViewContainerRef(),Dc(sp(y),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Fs(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=vg(this._lContainer,a);u&&(mu(sp(this._lContainer),a),Mw(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=vg(this._lContainer,a);return u&&null!=mu(sp(this._lContainer),a)?new ki(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Fs(i){return i[8]}function sp(i){return i[8]||(i[8]=[])}function hv(i,o){let a;const u=o[i.index];if(_r(u))a=u;else{let h;if(8&i.type)h=sn(u);else{const g=o[11];h=g.createComment("");const y=sr(i,o);Ol(g,Cg(g,y),h,function kE(i,o){return rn(i)?i.nextSibling(o):o.nextSibling}(g,y),!1)}o[i.index]=a=q_(u,o,h,i),Sg(o,a)}return new dv(a,i,o)}class ue{constructor(o){this.queryList=o,this.matches=null}clone(){return new ue(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ah{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let g=0;g<u;g++){const y=a.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new Ah(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Cn(o,a).matches&&this.queries[a].setDirty()}}class Ro{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class fv{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,g=this.getByIndex(u).embeddedTView(o,h);g&&(g.indexInDeclarationView=u,null!==a?a.push(g):a=[g])}return null!==a?new fv(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class rd{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new rd(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(o,a,Kl(a,g)),this.matchTNodeWithReadOption(o,a,bc(a,o,g,!1,!1))}else u===zl?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,bc(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Ku||h===Mm||h===zl&&4&a.type)this.addMatch(a.index,-2);else{const g=bc(a,o,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Kl(i,o){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function id(i,o,a,u){return-1===a?function HD(i,o){return 11&i.type?Wu(i,o):4&i.type?nd(i,o):null}(o,i):-2===a?function ub(i,o,a){return a===Ku?Wu(o,i):a===zl?nd(o,i):a===Mm?hv(o,i):void 0}(i,o,u):qi(i,i[1],a,o)}function Sm(i,o,a,u){const h=o[19].queries[u];if(null===h.matches){const g=i.data,y=a.matches,C=[];for(let D=0;D<y.length;D+=2){const M=y[D];C.push(M<0?null:id(o,g[M],y[D+1],a.metadata.read))}h.matches=C}return h.matches}function pv(i,o,a,u){const h=i.queries.getByIndex(a),g=h.matches;if(null!==g){const y=Sm(i,o,h,a);for(let C=0;C<g.length;C+=2){const D=g[C];if(D>0)u.push(y[C/2]);else{const M=g[C+1],k=o[-D];for(let V=10;V<k.length;V++){const J=k[V];J[17]===J[3]&&pv(J[1],J,M,u)}if(null!==k[9]){const V=k[9];for(let J=0;J<V.length;J++){const ie=V[J];pv(ie[1],ie,M,u)}}}}}return u}function db(i){const o=Oe(),a=qt(),u=Xo();Ma(u+1);const h=Cn(a,u);if(i.dirty&&ei(o)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const g=h.crossesNgTemplate?pv(a,o,u,[]):Sm(a,o,h,u);i.reset(g,iv),i.notifyOnChanges()}return!0}return!1}function gv(i,o,a,u){const h=qt();if(h.firstCreatePass){const g=mn();(function op(i,o,a){null===i.queries&&(i.queries=new fv),i.queries.track(new rd(o,a))})(h,new Ro(o,a,u),g.index),function Ni(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function tr(i,o,a){const u=new We(4==(4&a));j_(i,o,u,u.destroy),null===o[19]&&(o[19]=new Ah),o[19].queries.push(new ue(u))}(h,Oe(),a)}function Yl(){return function hb(i,o){return i[19].queries[o].queryList}(Oe(),Xo())}function Cn(i,o){return i.queries.getByIndex(o)}function Om(...i){}const vb=new kn("Application Initializer");let Tv=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Om,this.reject=Om,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(oC(g))a.push(g);else if(Jg(g)){const y=new Promise((C,D)=>{g.subscribe({complete:C,error:D})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(O(vb,8))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Gc=new kn("AppId",{providedIn:"root",factory:function od(){return`${km()}${km()}${km()}`}});function km(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Av=new kn("Platform Initializer"),Zc=new kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xv=new kn("appBootstrapListener");let wb=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const gp=new kn("LocaleId",{providedIn:"root",factory:()=>ne(gp,it.Optional|it.SkipSelf)||function Mv(){return"undefined"!=typeof $localize&&$localize.locale||jl}()}),Sv=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class _p{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Cb=(()=>{class i{compileModuleSync(a){return new Hc(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),g=_(Bn(a).declarations).reduce((y,C)=>{const D=Vn(C);return D&&y.push(new tp(D)),y},[]);return new _p(u,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Eb=(()=>Promise.resolve(0))();function Rm(i){"undefined"==typeof Zone?Eb.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Fo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ja(!1),this.onMicrotaskEmpty=new Ja(!1),this.onStable=new Ja(!1),this.onError=new Ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function YD(){let i=Gt.requestAnimationFrame,o=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function JD(i){const o=()=>{!function Fm(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Gt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,kv(i),i.isCheckStableRunning=!0,Nm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),kv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,g,y,C)=>{try{return Rv(i),a.invokeTask(h,g,y,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&o(),ad(i)}},onInvoke:(a,u,h,g,y,C,D)=>{try{return Rv(i),a.invoke(h,g,y,C,D)}finally{i.shouldCoalesceRunChangeDetection&&o(),ad(i)}},onHasTask:(a,u,h,g)=>{a.hasTask(h,g),u===h&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,kv(i),Nm(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,u,h,g)=>(a.handleError(h,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,o,Ib,Om,Om);try{return g.runTask(y,a,u)}finally{g.cancelTask(y)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const Ib={};function Nm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function kv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Rv(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function ad(i){i._nesting--,Nm(i)}class cd{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ja,this.onMicrotaskEmpty=new Ja,this.onStable=new Ja,this.onError=new Ja}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,h){return o.apply(a,u)}}let Nv=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fo.assertNotInAngularZone(),Rm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(O(Fo))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac}),i})(),ld=(()=>{class i{constructor(){this._applications=new Map,Lm.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Lm.findTestabilityInTree(this,a,u)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();class Db{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function Oh(i){Lm=i}let Lm=new Db,Ql=null;const kh=new kn("AllowMultipleToken"),Tb=new kn("PlatformOnDestroy");class Vm{constructor(o,a){this.name=o,this.token=a}}function xb(i,o,a=[]){const u=`Platform: ${o}`,h=new kn(u);return(g=[])=>{let y=Xl();if(!y||y.injector.get(kh,!1)){const C=[...a,...g,{provide:h,useValue:!0}];i?i(C):function Ab(i){if(Ql&&!Ql.get(kh,!1))throw new Ue(400,"");Ql=i;const o=i.get(ec),a=i.get(Av,null);a&&a.forEach(u=>u())}(function XD(i=[],o){return Lc.create({name:o,providers:[{provide:S0,useValue:"platform"},{provide:Tb,useValue:()=>Ql=null},...i]})}(C,u))}return function yp(i){const o=Xl();if(!o)throw new Ue(401,"");return o}()}}function Xl(){var i;return null!==(i=null==Ql?void 0:Ql.get(ec))&&void 0!==i?i:null}let ec=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const C=function Mb(i,o){let a;return a="noop"===i?new cd:("zone.js"===i?void 0:i)||new Fo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),D=[{provide:Fo,useValue:C}];return C.run(()=>{const M=Lc.create({providers:D,parent:this.injector,name:a.moduleType.name}),k=a.create(M),V=k.injector.get(Yd,null);if(!V)throw new Ue(402,"");return C.runOutsideAngular(()=>{const J=C.onError.subscribe({next:ie=>{V.handleError(ie)}});k.onDestroy(()=>{vp(this._modules,k),J.unsubscribe()})}),function Sb(i,o,a){try{const u=a();return oC(u)?u.catch(h=>{throw o.runOutsideAngular(()=>i.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>i.handleError(u)),u}}(V,C,()=>{const J=k.injector.get(Tv);return J.runInitializers(),J.donePromise.then(()=>(function By(i){Ht(i,"Expected localeId to be defined"),"string"==typeof i&&(vh=i.toLowerCase().replace(/_/g,"-"))}(k.injector.get(gp,jl)||jl),this._moduleDoBootstrap(k),k))})})}bootstrapModule(a,u=[]){const h=Fv({},u);return function QD(i,o,a){const u=new Hc(a);return Promise.resolve(u)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const u=a.injector.get(eu);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ue(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(Tb,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(O(Lc))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Fv(i,o){return Array.isArray(o)?o.reduce(Fv,i):Object.assign(Object.assign({},i),o)}let eu=(()=>{class i{constructor(a,u,h,g){this._zone=a,this._injector=u,this._exceptionHandler=h,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new U.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),C=new U.y(D=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Fo.assertNotInAngularZone(),Rm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Fo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,pe.T)(y,C.pipe((0,le.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Ue(405,"");let h;h=a instanceof nv?a:this._injector.get(Gl).resolveComponentFactory(a),this.componentTypes.push(h.componentType);const g=function Um(i){return i.isBoundToModule}(h)?void 0:this._injector.get(jc),C=h.create(Lc.NULL,[],u||h.selector,g),D=C.location.nativeElement,M=C.injector.get(Nv,null),k=M&&C.injector.get(ld);return M&&k&&k.registerApplication(D,M),C.onDestroy(()=>{this.detachView(C.hostView),vp(this.components,C),k&&k.unregisterApplication(D)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ue(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;vp(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(xv,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(O(Fo),O(Lc),O(Yd),O(Tv))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function vp(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}let an=!0,Lv=!1;function Ob(){return Lv=!0,an}function tu(){if(Lv)throw new Error("Cannot enable prod mode after platform setup.");an=!1}let wp=(()=>{class i{}return i.__NG_ELEMENT_ID__=kb,i})();function kb(i){return function tc(i,o,a){if(Wc(i)&&!a){const u=zn(i.index,o);return new ki(u,u)}return 47&i.type?new ki(o[16],o):null}(mn(),Oe(),16==(16&i))}class zr{constructor(){}supports(o){return sh(o)}create(o){return new Nb(o)}}const Hv=(i,o)=>o;class Nb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Hv}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,h=0,g=null;for(;a||u;){const y=!u||a&&a.currentIndex<$v(u,h,g)?a:u,C=$v(y,h,g),D=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{g||(g=[]);const M=C-h,k=D-h;if(M!=k){for(let J=0;J<M;J++){const ie=J<g.length?g[J]:g[J]=0,Te=ie+J;k<=Te&&Te<M&&(g[J]=ie+1)}g[y.previousIndex]=k-M}}C!==D&&o(y,C,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!sh(o))throw new Ue(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,y,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)g=o[C],y=this._trackByFn(C,g),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,g,y,C)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,y,C),u=!0),a=a._next}else h=0,function PI(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Lu()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,C=>{y=this._trackByFn(h,C),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,C,y,h)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,y,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,h)):o=this._addAfter(new Ip(a,u),g,h),o}_verifyReinsertion(o,a,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Gm),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gm),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Ip{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nc{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class Gm{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new nc,this.map.set(a,u)),u.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $v(i,o,a){const u=i.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+o+h}class Rh{constructor(){}supports(o){return o instanceof Map||ey(o)}create(){return new Fb}}class Fb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||ey(o)))throw new Ue(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const u=new Lb(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class Lb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qv(){return new Gv([new zr])}let Gv=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||qv()),deps:[[i,new Yn,new ft]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Ue(901,"")}}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:qv}),i})();function Nh(){return new Dp([new Rh])}let Dp=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||Nh()),deps:[[i,new Yn,new ft]]}}find(a){const u=this.factories.find(g=>g.supports(a));if(u)return u;throw new Ue(901,"")}}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:Nh}),i})();const aT=xb(null,"core",[]);let Vb=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(O(eu))},i.\u0275mod=Bt({type:i}),i.\u0275inj=Xt({}),i})()},3942:(rt,oe,F)=>{"use strict";F.d(oe,{Z:()=>Ue});var c=F(2090),L=F(4859),U=F(9681),pe=F(1877);class le{constructor(me,Ie){this._delegate=me,this.firebase=Ie,(0,U._addComponent)(me,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(me,Ie=U._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(me);return!Qe.isInitialized()&&"EXPLICIT"===(null===(Ne=Qe.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Ie})}_removeServiceInstance(me,Ie=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Ie)}_addComponent(me){(0,U._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,U._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function ve(){const Ve=function de(Ve){const me={},Ie={__esModule:!0,initializeApp:function Pe(qe,G={}){const Ce=U.initializeApp(qe,G);if((0,c.r3)(me,Ce.name))return me[Ce.name];const ee=new Ve(Ce,Ie);return me[Ce.name]=ee,ee},app:Qe,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function Ae(qe){const G=qe.name,Ce=G.replace("-compat","");if(U._registerComponent(qe)&&"PUBLIC"===qe.type){const ee=(ae=Qe())=>{if("function"!=typeof ae[Ce])throw ce.create("invalid-app-argument",{appName:G});return ae[Ce]()};void 0!==qe.serviceProps&&(0,c.ZB)(ee,qe.serviceProps),Ie[Ce]=ee,Ve.prototype[Ce]=function(...ae){return this._getService.bind(this,G).apply(this,qe.multipleInstances?ae:[])}}return"PUBLIC"===qe.type?Ie[Ce]:null},removeApp:function Ne(qe){delete me[qe]},useAsService:function Ze(qe,G){return"serverAuth"===G?null:G},modularAPIs:U}};function Qe(qe){if(!(0,c.r3)(me,qe=qe||U._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:qe});return me[qe]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function be(){return Object.keys(me).map(qe=>me[qe])}}),Qe.App=Ve,Ie}(le);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function me(Ie){(0,c.ZB)(Ve,Ie)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ve}(),Y=new pe.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ue=z;!function xe(Ve){(0,U.registerVersion)("@firebase/app-compat","0.1.32",Ve)}()},9681:(rt,oe,F)=>{"use strict";F.r(oe),F.d(oe,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Nn,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>Qt,_addOrOverwriteComponent:()=>Lt,_apps:()=>Jt,_clearComponents:()=>gi,_components:()=>Mn,_getProvider:()=>Xt,_registerComponent:()=>bn,_removeServiceInstance:()=>At,deleteApp:()=>it,getApp:()=>Un,getApps:()=>hn,initializeApp:()=>gr,onLog:()=>en,registerVersion:()=>yn,setLogLevel:()=>Li});var c=F(5861),L=F(4859),U=F(1877),pe=F(2090),le=F(8766);class ye{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(W=>{if(function ce($){const K=$.getComponent();return"VERSION"===(null==K?void 0:K.type)}(W)){const ke=W.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(W=>W).join(" ")}}const de="@firebase/app",z=new U.Yd("@firebase/app"),Ht="[DEFAULT]",Je={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Jt=new Map,Mn=new Map;function Qt($,K){try{$.container.addComponent(K)}catch(W){z.debug(`Component ${K.name} failed to register with FirebaseApp ${$.name}`,W)}}function Lt($,K){$.container.addOrOverwriteComponent(K)}function bn($){const K=$.name;if(Mn.has(K))return z.debug(`There were multiple attempts to register component ${K}.`),!1;Mn.set(K,$);for(const W of Jt.values())Qt(W,$);return!0}function Xt($,K){const W=$.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),$.container.getProvider(K)}function At($,K,W=Ht){Xt($,K).clearInstance(W)}function gi(){Mn.clear()}const rr=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pt{constructor(K,W,ke){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const Nn="9.9.3";function gr($,K={}){"object"!=typeof K&&(K={name:K});const W=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},K),ke=W.name;if("string"!=typeof ke||!ke)throw rr.create("bad-app-name",{appName:String(ke)});const Ge=Jt.get(ke);if(Ge){if((0,pe.vZ)($,Ge.options)&&(0,pe.vZ)(W,Ge.config))return Ge;throw rr.create("duplicate-app",{appName:ke})}const mt=new L.H0(ke);for(const Wt of Mn.values())mt.addComponent(Wt);const ln=new Pt($,W,mt);return Jt.set(ke,ln),ln}function Un($=Ht){const K=Jt.get($);if(!K)throw rr.create("no-app",{appName:$});return K}function hn(){return Array.from(Jt.values())}function it($){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,c.Z)(function*($){const K=$.name;Jt.has(K)&&(Jt.delete(K),yield Promise.all($.container.getProviders().map(W=>W.delete())),$.isDeleted=!0)})).apply(this,arguments)}function yn($,K,W){var ke;let Ge=null!==(ke=Je[$])&&void 0!==ke?ke:$;W&&(Ge+=`-${W}`);const mt=Ge.match(/\s|\//),ln=K.match(/\s|\//);if(mt||ln){const Wt=[`Unable to register library "${Ge}" with version "${K}":`];return mt&&Wt.push(`library name "${Ge}" contains illegal characters (whitespace or "/")`),mt&&ln&&Wt.push("and"),ln&&Wt.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void z.warn(Wt.join(" "))}bn(new L.wA(`${Ge}-version`,()=>({library:Ge,version:K}),"VERSION"))}function en($,K){if(null!==$&&"function"!=typeof $)throw rr.create("invalid-log-argument");(0,U.Am)($,K)}function Li($){(0,U.Ub)($)}const Dn="firebase-heartbeat-store";let mi=null;function lo(){return mi||(mi=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:($,K)=>{0===K&&$.createObjectStore(Dn)}}).catch($=>{throw rr.create("idb-open",{originalErrorMessage:$.message})})),mi}function ht(){return(ht=(0,c.Z)(function*($){var K;try{return(yield lo()).transaction(Dn).objectStore(Dn).get(Wr($))}catch(W){if(W instanceof pe.ZR)z.warn(W.message);else{const ke=rr.create("idb-get",{originalErrorMessage:null===(K=W)||void 0===K?void 0:K.message});z.warn(ke.message)}}})).apply(this,arguments)}function xt($,K){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*($,K){var W;try{const Ge=(yield lo()).transaction(Dn,"readwrite");return yield Ge.objectStore(Dn).put(K,Wr($)),Ge.done}catch(ke){if(ke instanceof pe.ZR)z.warn(ke.message);else{const Ge=rr.create("idb-set",{originalErrorMessage:null===(W=ke)||void 0===W?void 0:W.message});z.warn(Ge.message)}}})).apply(this,arguments)}function Wr($){return`${$.name}!${$.options.appId}`}class mr{constructor(K){this.container=K,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this._storage=new ps(W),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var K=this;return(0,c.Z)(function*(){const ke=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ge=xr();if(null===K._heartbeatsCache&&(K._heartbeatsCache=yield K._heartbeatsCachePromise),K._heartbeatsCache.lastSentHeartbeatDate!==Ge&&!K._heartbeatsCache.heartbeats.some(mt=>mt.date===Ge))return K._heartbeatsCache.heartbeats.push({date:Ge,agent:ke}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(mt=>{const ln=new Date(mt.date).valueOf();return Date.now()-ln<=2592e6}),K._storage.overwrite(K._heartbeatsCache)})()}getHeartbeatsHeader(){var K=this;return(0,c.Z)(function*(){if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null===K._heartbeatsCache||0===K._heartbeatsCache.heartbeats.length)return"";const W=xr(),{heartbeatsToSend:ke,unsentEntries:Ge}=function _t($,K=1024){const W=[];let ke=$.slice();for(const Ge of $){const mt=W.find(ln=>ln.agent===Ge.agent);if(mt){if(mt.dates.push(Ge.date),Z(W)>K){mt.dates.pop();break}}else if(W.push({agent:Ge.agent,dates:[Ge.date]}),Z(W)>K){W.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:W,unsentEntries:ke}}(K._heartbeatsCache.heartbeats),mt=(0,pe.L)(JSON.stringify({version:2,heartbeats:ke}));return K._heartbeatsCache.lastSentHeartbeatDate=W,Ge.length>0?(K._heartbeatsCache.heartbeats=Ge,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),mt})()}}function xr(){return(new Date).toISOString().substring(0,10)}class ps{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,c.Z)(function*(){return(yield K._canUseIndexedDBPromise)&&(yield function nt($){return ht.apply(this,arguments)}(K.app))||{heartbeats:[]}})()}overwrite(K){var W=this;return(0,c.Z)(function*(){var ke;if(yield W._canUseIndexedDBPromise){const mt=yield W.read();return xt(W.app,{lastSentHeartbeatDate:null!==(ke=K.lastSentHeartbeatDate)&&void 0!==ke?ke:mt.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var W=this;return(0,c.Z)(function*(){var ke;if(yield W._canUseIndexedDBPromise){const mt=yield W.read();return xt(W.app,{lastSentHeartbeatDate:null!==(ke=K.lastSentHeartbeatDate)&&void 0!==ke?ke:mt.lastSentHeartbeatDate,heartbeats:[...mt.heartbeats,...K.heartbeats]})}})()}}function Z($){return(0,pe.L)(JSON.stringify({version:2,heartbeats:$})).length}!function Q($){bn(new L.wA("platform-logger",K=>new ye(K),"PRIVATE")),bn(new L.wA("heartbeat",K=>new mr(K),"PRIVATE")),yn(de,"0.7.31",$),yn(de,"0.7.31","esm2017"),yn("fire-js","")}("")},4859:(rt,oe,F)=>{"use strict";F.d(oe,{H0:()=>de,wA:()=>U});var c=F(5861),L=F(2090);class U{constructor(z,Y,se){this.name=z,this.instanceFactory=Y,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const pe="[DEFAULT]";class le{constructor(z,Y){this.name=z,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const Y=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(Y)){const se=new L.BH;if(this.instancesDeferred.set(Y,se),this.isInitialized(Y)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:Y});ze&&se.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(Y).promise}getImmediate(z){var Y;const se=this.normalizeInstanceIdentifier(null==z?void 0:z.identifier),ze=null!==(Y=null==z?void 0:z.optional)&&void 0!==Y&&Y;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(xe){if(ze)return null;throw xe}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ce(ve){return"EAGER"===ve.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:pe})}catch(Y){}for(const[Y,se]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(Y);try{const xe=this.getOrInitializeService({instanceIdentifier:ze});se.resolve(xe)}catch(xe){}}}}clearInstance(z=pe){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,c.Z)(function*(){const Y=Array.from(z.instances.values());yield Promise.all([...Y.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...Y.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=pe){return this.instances.has(z)}getOptions(z=pe){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:Y={}}=z,se=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:se,options:Y});for(const[xe,Ue]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(xe)&&Ue.resolve(ze);return ze}onInit(z,Y){var se;const ze=this.normalizeInstanceIdentifier(Y),xe=null!==(se=this.onInitCallbacks.get(ze))&&void 0!==se?se:new Set;xe.add(z),this.onInitCallbacks.set(ze,xe);const Ue=this.instances.get(ze);return Ue&&z(Ue,ze),()=>{xe.delete(z)}}invokeOnInitCallbacks(z,Y){const se=this.onInitCallbacks.get(Y);if(se)for(const ze of se)try{ze(z,Y)}catch(xe){}}getOrInitializeService({instanceIdentifier:z,options:Y={}}){let se=this.instances.get(z);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=z,ve===pe?void 0:ve),options:Y}),this.instances.set(z,se),this.instancesOptions.set(z,Y),this.invokeOnInitCallbacks(se,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,se)}catch(ze){}var ve;return se||null}normalizeInstanceIdentifier(z=pe){return this.component?this.component.multipleInstances?z:pe:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const Y=this.getProvider(z.name);if(Y.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);Y.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const Y=new le(z,this);return this.providers.set(z,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,oe,F)=>{"use strict";F.d(oe,{Am:()=>ve,Ub:()=>de,Yd:()=>ce,in:()=>L});const c=[];var L=(()=>{return(z=L||(L={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",L;var z})();const U={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},pe=L.INFO,le={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ye=(z,Y,...se)=>{if(Y<z.logLevel)return;const ze=(new Date).toISOString(),xe=le[Y];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[xe](`[${ze}]  ${z.name}:`,...se)};class ce{constructor(Y){this.name=Y,this._logLevel=pe,this._logHandler=ye,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in L))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?U[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...Y),this._logHandler(this,L.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...Y),this._logHandler(this,L.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,L.INFO,...Y),this._logHandler(this,L.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,L.WARN,...Y),this._logHandler(this,L.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...Y),this._logHandler(this,L.ERROR,...Y)}}function de(z){c.forEach(Y=>{Y.setLogLevel(z)})}function ve(z,Y){for(const se of c){let ze=null;Y&&Y.level&&(ze=U[Y.level]),se.userLogHandler=null===z?null:(xe,Ue,...Ve)=>{const me=Ve.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch(Ne){return null}}).filter(Ie=>Ie).join(" ");Ue>=(null!=ze?ze:xe.logLevel)&&z({level:L[Ue].toLowerCase(),message:me,args:Ve,type:xe.name})}}}},8766:(rt,oe,F)=>{"use strict";F.d(oe,{Lj:()=>Pe,X3:()=>Qe});var c=F(5861);let U,pe;const ce=new WeakMap,de=new WeakMap,ve=new WeakMap,z=new WeakMap,Y=new WeakMap;let xe={get(G,Ce,ee){if(G instanceof IDBTransaction){if("done"===Ce)return de.get(G);if("objectStoreNames"===Ce)return G.objectStoreNames||ve.get(G);if("store"===Ce)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Ie(G[Ce])},set:(G,Ce,ee)=>(G[Ce]=ee,!0),has:(G,Ce)=>G instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in G};function me(G){return"function"==typeof G?function Ve(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...Ce){return G.apply(Ne(this),Ce),Ie(ce.get(this))}:function(...Ce){return Ie(G.apply(Ne(this),Ce))}:function(Ce,...ee){const ae=G.call(Ne(this),Ce,...ee);return ve.set(ae,Ce.sort?Ce.sort():[Ce]),Ie(ae)}}(G):(G instanceof IDBTransaction&&function ze(G){if(de.has(G))return;const Ce=new Promise((ee,ae)=>{const re=()=>{G.removeEventListener("complete",we),G.removeEventListener("error",fe),G.removeEventListener("abort",fe)},we=()=>{ee(),re()},fe=()=>{ae(G.error||new DOMException("AbortError","AbortError")),re()};G.addEventListener("complete",we),G.addEventListener("error",fe),G.addEventListener("abort",fe)});de.set(G,Ce)}(G),((G,Ce)=>Ce.some(ee=>G instanceof ee))(G,function le(){return U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,xe):G)}function Ie(G){if(G instanceof IDBRequest)return function se(G){const Ce=new Promise((ee,ae)=>{const re=()=>{G.removeEventListener("success",we),G.removeEventListener("error",fe)},we=()=>{ee(Ie(G.result)),re()},fe=()=>{ae(G.error),re()};G.addEventListener("success",we),G.addEventListener("error",fe)});return Ce.then(ee=>{ee instanceof IDBCursor&&ce.set(ee,G)}).catch(()=>{}),Y.set(Ce,G),Ce}(G);if(z.has(G))return z.get(G);const Ce=me(G);return Ce!==G&&(z.set(G,Ce),Y.set(Ce,G)),Ce}const Ne=G=>Y.get(G);function Qe(G,Ce,{blocked:ee,upgrade:ae,blocking:re,terminated:we}={}){const fe=indexedDB.open(G,Ce),Be=Ie(fe);return ae&&fe.addEventListener("upgradeneeded",pt=>{ae(Ie(fe.result),pt.oldVersion,pt.newVersion,Ie(fe.transaction))}),ee&&fe.addEventListener("blocked",()=>ee()),Be.then(pt=>{we&&pt.addEventListener("close",()=>we()),re&&pt.addEventListener("versionchange",()=>re())}).catch(()=>{}),Be}function Pe(G,{blocked:Ce}={}){const ee=indexedDB.deleteDatabase(G);return Ce&&ee.addEventListener("blocked",()=>Ce()),Ie(ee).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Ze=new Map;function qe(G,Ce){if(!(G instanceof IDBDatabase)||Ce in G||"string"!=typeof Ce)return;if(Ze.get(Ce))return Ze.get(Ce);const ee=Ce.replace(/FromIndex$/,""),ae=Ce!==ee,re=Ae.includes(ee);if(!(ee in(ae?IDBIndex:IDBObjectStore).prototype)||!re&&!be.includes(ee))return;const we=function(){var fe=(0,c.Z)(function*(Be,...pt){const Kt=this.transaction(Be,re?"readwrite":"readonly");let Ht=Kt.store;return ae&&(Ht=Ht.index(pt.shift())),(yield Promise.all([Ht[ee](...pt),re&&Kt.done]))[0]});return function(pt){return fe.apply(this,arguments)}}();return Ze.set(Ce,we),we}!function Ue(G){xe=G(xe)}(G=>oO(sO({},G),{get:(Ce,ee,ae)=>qe(Ce,ee)||G.get(Ce,ee,ae),has:(Ce,ee)=>!!qe(Ce,ee)||G.has(Ce,ee)}))},5861:(rt,oe,F)=>{"use strict";function c(U,pe,le,ye,ce,de,ve){try{var z=U[de](ve),Y=z.value}catch(se){return void le(se)}z.done?pe(Y):Promise.resolve(Y).then(ye,ce)}function L(U){return function(){var pe=this,le=arguments;return new Promise(function(ye,ce){var de=U.apply(pe,le);function ve(Y){c(de,ye,ce,ve,z,"next",Y)}function z(Y){c(de,ye,ce,ve,z,"throw",Y)}ve(void 0)})}}F.d(oe,{Z:()=>L})}},rt=>{rt(rt.s=6086)}]);