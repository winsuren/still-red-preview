var f2=Object.defineProperty,p2=Object.defineProperties,g2=Object.getOwnPropertyDescriptors,kP=Object.getOwnPropertySymbols,m2=Object.prototype.hasOwnProperty,_2=Object.prototype.propertyIsEnumerable,RP=(rt,oe,F)=>oe in rt?f2(rt,oe,{enumerable:!0,configurable:!0,writable:!0,value:F}):rt[oe]=F,NP=(rt,oe)=>{for(var F in oe||(oe={}))m2.call(oe,F)&&RP(rt,F,oe[F]);if(kP)for(var F of kP(oe))_2.call(oe,F)&&RP(rt,F,oe[F]);return rt},FP=(rt,oe)=>p2(rt,g2(oe));(self.webpackChunkstill_red=self.webpackChunkstill_red||[]).push([[179],{2011:(rt,oe,F)=>{"use strict";F.d(oe,{Dh:()=>de,GT:()=>ye,cc:()=>xe,hO:()=>ze,on:()=>Z,pX:()=>ce,xv:()=>ve});var l=F(5e3),L=F(127),V=F(5813);rt=F.hmd(rt);const pe=["ngOnDestroy"],ce=(Ie,Ne,Je,Me={})=>new Proxy(Ie,{get:(be,Ae)=>Je.runOutsideAngular(()=>{var Ze;if(Ie[Ae])return(null===(Ze=null==Me?void 0:Me.spy)||void 0===Ze?void 0:Ze.get)&&Me.spy.get(Ae,Ie[Ae]),Ie[Ae];if(pe.indexOf(Ae)>-1)return()=>{};const qe=Ne.toPromise().then(q=>{const Ce=q&&q[Ae];return"function"==typeof Ce?Ce.bind(q):Ce&&Ce.then?Ce.then(ee=>Je.run(()=>ee)):Je.run(()=>Ce)});return new Proxy(()=>{},{get:(q,Ce)=>qe[Ce],apply:(q,Ce,ee)=>qe.then(ae=>{var ne;const we=ae&&ae(...ee);return(null===(ne=null==Me?void 0:Me.spy)||void 0===ne?void 0:ne.apply)&&Me.spy.apply(Ae,ee,we),we})})})}),ye=(Ie,Ne)=>{Ne.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(Me=>{Object.defineProperty(Ie.prototype,Me,Object.getOwnPropertyDescriptor(Je.prototype||Je,Me))})})};class le{constructor(Ne){return Ne}}const de=new l.OlP("angularfire2.app.options"),ve=new l.OlP("angularfire2.app.name");function Z(Ie,Ne,Je){const be="object"==typeof Je&&Je||{};be.name=be.name||"string"==typeof Je&&Je||"[DEFAULT]";const Ze=L.Z.apps.filter(qe=>qe&&qe.name===be.name)[0]||Ne.runOutsideAngular(()=>L.Z.initializeApp(Ie,be));try{JSON.stringify(Ie)!==JSON.stringify(Ze.options)&&K("error",`${Ze.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(qe){}return new le(Ze)}const K=(Ie,...Ne)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ie](...Ne)},ie={provide:le,useFactory:Z,deps:[de,l.R0b,[new l.FiY,ve]]};let ze=(()=>{class Ie{constructor(Je){L.Z.registerVersion("angularfire",V.q4.full,"core"),L.Z.registerVersion("angularfire",V.q4.full,"app-compat"),L.Z.registerVersion("angular",l.q4F.full,Je.toString())}static initializeApp(Je,Me){return{ngModule:Ie,providers:[{provide:de,useValue:Je},{provide:ve,useValue:Me}]}}}return Ie.\u0275fac=function(Je){return new(Je||Ie)(l.LFG(l.Lbi))},Ie.\u0275mod=l.oAB({type:Ie}),Ie.\u0275inj=l.cJS({providers:[ie]}),Ie})();function xe(Ie,Ne,Je,Me,be){const[,Ae,Ze]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===Ie)||[];if(Ae)return function Le(Ie,Ne){try{return Ie.toString()===Ne.toString()}catch(Je){return Ie===Ne}}(be,Ze)||(me("error",`${Ne} was already initialized on the ${Je} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:be,was:Ze})),Ae;{const qe=Me();return globalThis.\u0275AngularfireInstanceCache.push([Ie,qe,be]),qe}}const Ve=!!rt.hot,me=(Ie,...Ne)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ie](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(rt,oe,F)=>{"use strict";F.d(oe,{q4:()=>Zt,iC:()=>ml,fc:()=>Md,HU:()=>Zp,vb:()=>Sd,JM:()=>pl});var l=F(5e3),L=F(5867),V=F(5861),pe=F(9681),ce=F(2090),ye=F(4859),le=F(1877),de=F(8766);const ve="@firebase/installations",Z="0.5.12",ie=`w:${Z}`,ze="FIS_v2",Ne=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(I){return I instanceof ce.ZR&&I.code.includes("request-failed")}function Me({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function be(I){return{token:I.token,requestStatus:2,expiresIn:ae(I.expiresIn),creationTime:Date.now()}}function Ae(I,A){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,V.Z)(function*(I,A){const B=(yield A.json()).error;return Ne.create("request-failed",{requestName:I,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function qe({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function q(I,{refreshToken:A}){const O=qe(I);return O.append("Authorization",function ne(I){return`${ze} ${I}`}(A)),O}function Ce(I){return ee.apply(this,arguments)}function ee(){return(ee=(0,V.Z)(function*(I){const A=yield I();return A.status>=500&&A.status<600?I():A})).apply(this,arguments)}function ae(I){return Number(I.replace("s","000"))}function we(I,A){return fe.apply(this,arguments)}function fe(){return(fe=(0,V.Z)(function*({appConfig:I,heartbeatServiceProvider:A},{fid:O}){const B=Me(I),te=qe(I),he=A.getImmediate({optional:!0});if(he){const xt=yield he.getHeartbeatsHeader();xt&&te.append("x-firebase-client",xt)}const Ke={method:"POST",headers:te,body:JSON.stringify({fid:O,authVersion:ze,appId:I.appId,sdkVersion:ie})},_t=yield Ce(()=>fetch(B,Ke));if(_t.ok){const xt=yield _t.json();return{fid:xt.fid||O,registrationStatus:2,refreshToken:xt.refreshToken,authToken:be(xt.authToken)}}throw yield Ae("Create Installation",_t)})).apply(this,arguments)}function Ue(I){return new Promise(A=>{setTimeout(A,I)})}const Kt=/^[cdef][\w-]{21}$/;function Qe(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const O=function Qt(I){return function ht(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Kt.test(O)?O:""}catch(I){return""}}function xn(I){return`${I.appName}!${I.appId}`}const Jt=new Map;function Lt(I,A){const O=xn(I);Tt(O,A),function pi(I,A){const O=function rr(){return!Ur&&"BroadcastChannel"in self&&(Ur=new BroadcastChannel("[Firebase] FID Change"),Ur.onmessage=I=>{Tt(I.data.key,I.data.fid)}),Ur}();O&&O.postMessage({key:I,fid:A}),function Pt(){0===Jt.size&&Ur&&(Ur.close(),Ur=null)}()}(O,A)}function Tt(I,A){const O=Jt.get(I);if(O)for(const B of O)B(A)}let Ur=null;const Ln="firebase-installations-store";let hn=null;function it(){return hn||(hn=(0,de.X3)("firebase-installations-database",1,{upgrade:(I,A)=>{0===A&&I.createObjectStore(Ln)}})),hn}function Tr(I,A){return yn.apply(this,arguments)}function yn(){return(yn=(0,V.Z)(function*(I,A){const O=xn(I),te=(yield it()).transaction(Ln,"readwrite"),he=te.objectStore(Ln),Se=yield he.get(O);return yield he.put(A,O),yield te.done,(!Se||Se.fid!==A.fid)&&Lt(I,A.fid),A})).apply(this,arguments)}function en(I){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,V.Z)(function*(I){const A=xn(I),B=(yield it()).transaction(Ln,"readwrite");yield B.objectStore(Ln).delete(A),yield B.done})).apply(this,arguments)}function Li(I,A){return En.apply(this,arguments)}function En(){return(En=(0,V.Z)(function*(I,A){const O=xn(I),te=(yield it()).transaction(Ln,"readwrite"),he=te.objectStore(Ln),Se=yield he.get(O),Ke=A(Se);return void 0===Ke?yield he.delete(O):yield he.put(Ke,O),yield te.done,Ke&&(!Se||Se.fid!==Ke.fid)&&Lt(I,Ke.fid),Ke})).apply(this,arguments)}function In(I){return gi.apply(this,arguments)}function gi(){return(gi=(0,V.Z)(function*(I){let A;const O=yield Li(I.appConfig,B=>{const te=co(B),he=nt(I,te);return A=he.registrationPromise,he.installationEntry});return""===O.fid?{installationEntry:yield A}:{installationEntry:O,registrationPromise:A}})).apply(this,arguments)}function co(I){return Ar(I||{fid:Qe(),registrationStatus:0})}function nt(I,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Ne.create("app-offline"))};const O={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},B=function ut(I,A){return At.apply(this,arguments)}(I,O);return{installationEntry:O,registrationPromise:B}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:ir(I)}:{installationEntry:A}}function At(){return(At=(0,V.Z)(function*(I,A){try{const O=yield we(I,A);return Tr(I.appConfig,O)}catch(O){throw Je(O)&&409===O.customData.serverCode?yield en(I.appConfig):yield Tr(I.appConfig,{fid:A.fid,registrationStatus:0}),O}})).apply(this,arguments)}function ir(I){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,V.Z)(function*(I){let A=yield Gt(I.appConfig);for(;1===A.registrationStatus;)yield Ue(100),A=yield Gt(I.appConfig);if(0===A.registrationStatus){const{installationEntry:O,registrationPromise:B}=yield In(I);return B||O}return A})).apply(this,arguments)}function Gt(I){return Li(I,A=>{if(!A)throw Ne.create("installation-not-found");return Ar(A)})}function Ar(I){return function mr(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function xr(I,A){return mt.apply(this,arguments)}function mt(){return(mt=(0,V.Z)(function*({appConfig:I,heartbeatServiceProvider:A},O){const B=hs(I,O),te=q(I,O),he=A.getImmediate({optional:!0});if(he){const xt=yield he.getHeartbeatsHeader();xt&&te.append("x-firebase-client",xt)}const Ke={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:ie,appId:I.appId}})},_t=yield Ce(()=>fetch(B,Ke));if(_t.ok)return be(yield _t.json());throw yield Ae("Generate Auth Token",_t)})).apply(this,arguments)}function hs(I,{fid:A}){return`${Me(I)}/${A}/authTokens:generate`}function G(I){return Q.apply(this,arguments)}function Q(){return(Q=(0,V.Z)(function*(I,A=!1){let O;const B=yield Li(I.appConfig,he=>{if(!gt(he))throw Ne.create("not-registered");const Se=he.authToken;if(!A&&ln(Se))return he;if(1===Se.requestStatus)return O=H(I,A),he;{if(!navigator.onLine)throw Ne.create("app-offline");const Ke=Zn(he);return O=Oe(I,Ke),Ke}});return O?yield O:B.authToken})).apply(this,arguments)}function H(I,A){return W.apply(this,arguments)}function W(){return(W=(0,V.Z)(function*(I,A){let O=yield z(I.appConfig);for(;1===O.authToken.requestStatus;)yield Ue(100),O=yield z(I.appConfig);const B=O.authToken;return 0===B.requestStatus?G(I,A):B})).apply(this,arguments)}function z(I){return Li(I,A=>{if(!gt(A))throw Ne.create("not-registered");return function Bt(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Oe(I,A){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,V.Z)(function*(I,A){try{const O=yield xr(I,A),B=Object.assign(Object.assign({},A),{authToken:O});return yield Tr(I.appConfig,B),O}catch(O){if(!Je(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const B=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Tr(I.appConfig,B)}else yield en(I.appConfig);throw O}})).apply(this,arguments)}function gt(I){return void 0!==I&&2===I.registrationStatus}function ln(I){return 2===I.requestStatus&&!function Wt(I){const A=Date.now();return A<I.creationTime||I.creationTime+I.expiresIn<A+36e5}(I)}function Zn(I){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:A})}function Vi(){return(Vi=(0,V.Z)(function*(I){const A=I,{installationEntry:O,registrationPromise:B}=yield In(A);return B?B.catch(console.error):G(A).catch(console.error),O.fid})).apply(this,arguments)}function Fo(){return(Fo=(0,V.Z)(function*(I,A=!1){const O=I;return yield Vn(O),(yield G(O,A)).token})).apply(this,arguments)}function Vn(I){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,V.Z)(function*(I){const{registrationPromise:A}=yield In(I);A&&(yield A)})).apply(this,arguments)}function ho(I){return Ne.create("missing-app-config-values",{valueName:I})}const jr="installations",ft=I=>{const A=I.getProvider("app").getImmediate(),O=function nn(I){if(!I||!I.options)throw ho("App Configuration");if(!I.name)throw ho("App Name");const A=["projectId","apiKey","appId"];for(const O of A)if(!I.options[O])throw ho(O);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(A);return{app:A,appConfig:O,heartbeatServiceProvider:(0,pe._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},un=I=>{const A=I.getProvider("app").getImmediate(),O=(0,pe._getProvider)(A,jr).getImmediate();return{getId:()=>function Kr(I){return Vi.apply(this,arguments)}(O),getToken:te=>function lo(I){return Fo.apply(this,arguments)}(O,te)}};(function Hr(){(0,pe._registerComponent)(new ye.wA(jr,ft,"PUBLIC")),(0,pe._registerComponent)(new ye.wA("installations-internal",un,"PRIVATE"))})(),(0,pe.registerVersion)(ve,Z),(0,pe.registerVersion)(ve,Z,"esm2017");const Ui="@firebase/remote-config",Mn=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hd{constructor(A,O,B,te){this.client=A,this.storage=O,this.storageCache=B,this.logger=te}isCachedDataFresh(A,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-O,te=B<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${te}.`),te}fetch(A){var O=this;return(0,V.Z)(function*(){const[B,te]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(te&&O.isCachedDataFresh(A.cacheMaxAgeMillis,B))return te;A.eTag=te&&te.eTag;const he=yield O.client.fetch(A),Se=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&Se.push(O.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(Se),he})()}}function Wc(I=navigator){return I.languages&&I.languages[0]||I.language}class yr{constructor(A,O,B,te,he,Se){this.firebaseInstallations=A,this.sdkVersion=O,this.namespace=B,this.projectId=te,this.apiKey=he,this.appId=Se}fetch(A){var O=this;return(0,V.Z)(function*(){var B,te,he;const[Se,Ke]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,kt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},dt={sdk_version:O.sdkVersion,app_instance_id:Se,app_instance_id_token:Ke,app_id:O.appId,language_code:Wc()},Kn={method:"POST",headers:kt,body:JSON.stringify(dt)},Yn=fetch(xt,Kn),Ao=new Promise((Ss,os)=>{A.signal.addEventListener(()=>{const Ba=new Error("The operation was aborted.");Ba.name="AbortError",os(Ba)})});let xo;try{yield Promise.race([Yn,Ao]),xo=yield Yn}catch(Ss){let os="fetch-client-network";throw"AbortError"===(null===(B=Ss)||void 0===B?void 0:B.name)&&(os="fetch-timeout"),Mn.create(os,{originalErrorMessage:null===(te=Ss)||void 0===te?void 0:te.message})}let xs=xo.status;const vl=xo.headers.get("ETag")||void 0;let Dc,oa;if(200===xo.status){let Ss;try{Ss=yield xo.json()}catch(os){throw Mn.create("fetch-client-parse",{originalErrorMessage:null===(he=os)||void 0===he?void 0:he.message})}Dc=Ss.entries,oa=Ss.state}if("INSTANCE_STATE_UNSPECIFIED"===oa?xs=500:"NO_CHANGE"===oa?xs=304:("NO_TEMPLATE"===oa||"EMPTY_CONFIG"===oa)&&(Dc={}),304!==xs&&200!==xs)throw Mn.create("fetch-status",{httpStatus:xs});return{status:xs,eTag:vl,config:Dc}})()}}class Ca{constructor(A,O){this.client=A,this.storage=O}fetch(A){var O=this;return(0,V.Z)(function*(){const B=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(A,B)})()}attemptFetch(A,{throttleEndTimeMillis:O,backoffCount:B}){var te=this;return(0,V.Z)(function*(){yield function ms(I,A){return new Promise((O,B)=>{const te=Math.max(A-Date.now(),0),he=setTimeout(O,te);I.addEventListener(()=>{clearTimeout(he),B(Mn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,O);try{const he=yield te.client.fetch(A);return yield te.storage.deleteThrottleMetadata(),he}catch(he){if(!function Kc(I){if(!(I instanceof ce.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(he))throw he;const Se={throttleEndTimeMillis:Date.now()+(0,ce.$s)(B),backoffCount:B+1};return yield te.storage.setThrottleMetadata(Se),te.attemptFetch(A,Se)}})()}}class Yc{constructor(A,O,B,te,he){this.app=A,this._client=O,this._storageCache=B,this._storage=te,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sc(I,A){var O;const B=I.target.error||void 0;return Mn.create(A,{originalErrorMessage:B&&(null===(O=B)||void 0===O?void 0:O.message)})}const _s="app_namespace_store";class pd{constructor(A,O,B,te=function au(){return new Promise((I,A)=>{var O;try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=te=>{A(sc(te,"storage-open"))},B.onsuccess=te=>{I(te.target.result)},B.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(_s,{keyPath:"compositeKey"})}}catch(B){A(Mn.create("storage-open",{originalErrorMessage:null===(O=B)||void 0===O?void 0:O.message}))}})}()){this.appId=A,this.appName=O,this.namespace=B,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var O=this;return(0,V.Z)(function*(){const B=yield O.openDbPromise;return new Promise((te,he)=>{var Se;const _t=B.transaction([_s],"readonly").objectStore(_s),xt=O.createCompositeKey(A);try{const kt=_t.get(xt);kt.onerror=dt=>{he(sc(dt,"storage-get"))},kt.onsuccess=dt=>{const Kn=dt.target.result;te(Kn?Kn.value:void 0)}}catch(kt){he(Mn.create("storage-get",{originalErrorMessage:null===(Se=kt)||void 0===Se?void 0:Se.message}))}})})()}set(A,O){var B=this;return(0,V.Z)(function*(){const te=yield B.openDbPromise;return new Promise((he,Se)=>{var Ke;const xt=te.transaction([_s],"readwrite").objectStore(_s),kt=B.createCompositeKey(A);try{const dt=xt.put({compositeKey:kt,value:O});dt.onerror=Kn=>{Se(sc(Kn,"storage-set"))},dt.onsuccess=()=>{he()}}catch(dt){Se(Mn.create("storage-set",{originalErrorMessage:null===(Ke=dt)||void 0===Ke?void 0:Ke.message}))}})})()}delete(A){var O=this;return(0,V.Z)(function*(){const B=yield O.openDbPromise;return new Promise((te,he)=>{var Se;const _t=B.transaction([_s],"readwrite").objectStore(_s),xt=O.createCompositeKey(A);try{const kt=_t.delete(xt);kt.onerror=dt=>{he(sc(dt,"storage-delete"))},kt.onsuccess=()=>{te()}}catch(kt){he(Mn.create("storage-delete",{originalErrorMessage:null===(Se=kt)||void 0===Se?void 0:Se.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class Jc{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,V.Z)(function*(){const O=A.storage.getLastFetchStatus(),B=A.storage.getLastSuccessfulFetchTimestampMillis(),te=A.storage.getActiveConfig(),he=yield O;he&&(A.lastFetchStatus=he);const Se=yield B;Se&&(A.lastSuccessfulFetchTimestampMillis=Se);const Ke=yield te;Ke&&(A.activeConfig=Ke)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function js(){return el.apply(this,arguments)}function el(){return(el=(0,V.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(I){return!1}})).apply(this,arguments)}!function fo(){(0,pe._registerComponent)(new ye.wA("remote-config",function I(A,{instanceIdentifier:O}){const B=A.getProvider("app").getImmediate(),te=A.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Mn.create("registration-window");if(!(0,ce.hl)())throw Mn.create("indexed-db-unavailable");const{projectId:he,apiKey:Se,appId:Ke}=B.options;if(!he)throw Mn.create("registration-project-id");if(!Se)throw Mn.create("registration-api-key");if(!Ke)throw Mn.create("registration-app-id");const _t=new pd(Ke,B.name,O=O||"firebase"),xt=new Jc(_t),kt=new le.Yd(Ui);kt.logLevel=le.in.ERROR;const dt=new yr(te,pe.SDK_VERSION,O,he,Se,Ke),Kn=new Ca(dt,_t),Yn=new hd(Kn,_t,xt,kt),Ao=new Yc(B,Yn,xt,_t,kt);return function fn(I){const A=(0,ce.m9)(I);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Ao),Ao},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Ui,"0.3.11"),(0,pe.registerVersion)(Ui,"0.3.11","esm2017")}();const tl="/firebase-messaging-sw.js",vr="/firebase-cloud-messaging-push-scope",wi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",po="google.c.a.c_id",nl="google.c.a.c_l",rl="google.c.a.ts",ba="google.c.a.e";var go=(()=>{return(I=go||(go={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",go;var I})();function Mr(I){const A=new Uint8Array(I);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function il(I){const O=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(O),te=new Uint8Array(B.length);for(let he=0;he<B.length;++he)te[he]=B.charCodeAt(he);return te}const Pr="fcm_token_details_db",Jr="fcm_token_object_Store";function oc(I){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,V.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(Pr))return null;let A=null;return(yield(0,de.X3)(Pr,5,{upgrade:(B=(0,V.Z)(function*(te,he,Se,Ke){var _t;if(he<2||!te.objectStoreNames.contains(Jr))return;const xt=Ke.objectStore(Jr),kt=yield xt.index("fcmSenderId").get(I);if(yield xt.clear(),kt)if(2===he){const dt=kt;if(!dt.auth||!dt.p256dh||!dt.endpoint)return;A={token:dt.fcmToken,createTime:null!==(_t=dt.createTime)&&void 0!==_t?_t:Date.now(),subscriptionOptions:{auth:dt.auth,p256dh:dt.p256dh,endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:"string"==typeof dt.vapidKey?dt.vapidKey:Mr(dt.vapidKey)}}}else if(3===he){const dt=kt;A={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:Mr(dt.auth),p256dh:Mr(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:Mr(dt.vapidKey)}}}else if(4===he){const dt=kt;A={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:Mr(dt.auth),p256dh:Mr(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:Mr(dt.vapidKey)}}}}),function(he,Se,Ke,_t){return B.apply(this,arguments)})})).close(),yield(0,de.Lj)(Pr),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),ac(A)?A:null;var B}),Hs.apply(this,arguments)}function ac(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:A}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const Ci="firebase-messaging-store";let sl=null;function an(){return sl||(sl=(0,de.X3)("firebase-messaging-database",1,{upgrade:(I,A)=>{0===A&&I.createObjectStore(Ci)}})),sl}function Ho(I){return $s.apply(this,arguments)}function $s(){return($s=(0,V.Z)(function*(I){const A=sr(I),B=yield(yield an()).transaction(Ci).objectStore(Ci).get(A);if(B)return B;{const te=yield oc(I.appConfig.senderId);if(te)return yield rn(I,te),te}})).apply(this,arguments)}function rn(I,A){return $o.apply(this,arguments)}function $o(){return($o=(0,V.Z)(function*(I,A){const O=sr(I),te=(yield an()).transaction(Ci,"readwrite");return yield te.objectStore(Ci).put(A,O),yield te.done,A})).apply(this,arguments)}function Ea(I){return vs.apply(this,arguments)}function vs(){return(vs=(0,V.Z)(function*(I){const A=sr(I),B=(yield an()).transaction(Ci,"readwrite");yield B.objectStore(Ci).delete(A),yield B.done})).apply(this,arguments)}function sr({appConfig:I}){return I.appId}const vn=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xr(I,A){return zn.apply(this,arguments)}function zn(){return(zn=(0,V.Z)(function*(I,A){var O;const B=yield yo(I),te=ws(A),he={method:"POST",headers:B,body:JSON.stringify(te)};let Se;try{Se=yield(yield fetch(Hi(I.appConfig),he)).json()}catch(Ke){throw vn.create("token-subscribe-failed",{errorInfo:null===(O=Ke)||void 0===O?void 0:O.toString()})}if(Se.error)throw vn.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw vn.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function ei(I,A){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,V.Z)(function*(I,A){var O;const B=yield yo(I),te=ws(A.subscriptionOptions),he={method:"PATCH",headers:B,body:JSON.stringify(te)};let Se;try{Se=yield(yield fetch(`${Hi(I.appConfig)}/${A.token}`,he)).json()}catch(Ke){throw vn.create("token-update-failed",{errorInfo:null===(O=Ke)||void 0===O?void 0:O.toString()})}if(Se.error)throw vn.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw vn.create("token-update-no-token");return Se.token})).apply(this,arguments)}function qo(I,A){return bi.apply(this,arguments)}function bi(){return(bi=(0,V.Z)(function*(I,A){var O;const te={method:"DELETE",headers:yield yo(I)};try{const Se=yield(yield fetch(`${Hi(I.appConfig)}/${A}`,te)).json();if(Se.error)throw vn.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(he){throw vn.create("token-unsubscribe-failed",{errorInfo:null===(O=he)||void 0===O?void 0:O.toString()})}})).apply(this,arguments)}function Hi({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function yo(I){return wt.apply(this,arguments)}function wt(){return(wt=(0,V.Z)(function*({appConfig:I,installations:A}){const O=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function ws({p256dh:I,auth:A,endpoint:O,vapidKey:B}){const te={web:{endpoint:O,auth:A,p256dh:I}};return B!==wi&&(te.web.applicationPubKey=B),te}const uc=6048e5;function Go(I){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,V.Z)(function*(I){const A=yield Cs(I.swRegistration,I.vapidKey),O={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:A.endpoint,auth:Mr(A.getKey("auth")),p256dh:Mr(A.getKey("p256dh"))},B=yield Ho(I.firebaseDependencies);if(B){if(Wo(B.subscriptionOptions,O))return Date.now()>=B.createTime+uc?dc(I,{token:B.token,createTime:Date.now(),subscriptionOptions:O}):B.token;try{yield qo(I.firebaseDependencies,B.token)}catch(te){console.warn(te)}return Pe(I.firebaseDependencies,O)}return Pe(I.firebaseDependencies,O)})).apply(this,arguments)}function zo(I){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,V.Z)(function*(I){const A=yield Ho(I.firebaseDependencies);A&&(yield qo(I.firebaseDependencies,A.token),yield Ea(I.firebaseDependencies));const O=yield I.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function dc(I,A){return vo.apply(this,arguments)}function vo(){return(vo=(0,V.Z)(function*(I,A){try{const O=yield ei(I.firebaseDependencies,A),B=Object.assign(Object.assign({},A),{token:O,createTime:Date.now()});return yield rn(I.firebaseDependencies,B),O}catch(O){throw yield zo(I),O}})).apply(this,arguments)}function Pe(I,A){return qt.apply(this,arguments)}function qt(){return(qt=(0,V.Z)(function*(I,A){const B={token:yield Xr(I,A),createTime:Date.now(),subscriptionOptions:A};return yield rn(I,B),B.token})).apply(this,arguments)}function Cs(I,A){return mn.apply(this,arguments)}function mn(){return(mn=(0,V.Z)(function*(I,A){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:il(A)})})).apply(this,arguments)}function Wo(I,A){return A.vapidKey===I.vapidKey&&A.endpoint===I.endpoint&&A.auth===I.auth&&A.p256dh===I.p256dh}function es(I){const A={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function ti(I,A){if(!A.notification)return;I.notification={};const O=A.notification.title;O&&(I.notification.title=O);const B=A.notification.body;B&&(I.notification.body=B);const te=A.notification.image;te&&(I.notification.image=te)}(A,I),function hc(I,A){!A.data||(I.data=A.data)}(A,I),function fc(I,A){var O,B,te,he,Se;if(!A.fcmOptions&&!(null===(O=A.notification)||void 0===O?void 0:O.click_action))return;I.fcmOptions={};const Ke=null!==(te=null===(B=A.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==te?te:null===(he=A.notification)||void 0===he?void 0:he.click_action;Ke&&(I.fcmOptions.link=Ke);const _t=null===(Se=A.fcmOptions)||void 0===Se?void 0:Se.analytics_label;_t&&(I.fcmOptions.analyticsLabel=_t)}(A,I),A}function wo(I){return"object"==typeof I&&!!I&&po in I}function ol(I,A){const O=[];for(let B=0;B<I.length;B++)O.push(I.charAt(B)),B<A.length&&O.push(A.charAt(B));return O.join("")}function ts(I){return vn.create("missing-app-config-values",{valueName:I})}ol("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ol("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class wr{constructor(A,O,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function gd(I){if(!I||!I.options)throw ts("App Configuration Object");if(!I.name)throw ts("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:O}=I;for(const B of A)if(!O[B])throw ts(B);return{appName:I.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:te,installations:O,analyticsProvider:B}}_delete(){return Promise.resolve()}}function qr(I){return Da.apply(this,arguments)}function Da(){return(Da=(0,V.Z)(function*(I){var A;try{I.swRegistration=yield navigator.serviceWorker.register(tl,{scope:vr}),I.swRegistration.update().catch(()=>{})}catch(O){throw vn.create("failed-service-worker-registration",{browserErrorMessage:null===(A=O)||void 0===A?void 0:A.message})}})).apply(this,arguments)}function bs(I,A){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,V.Z)(function*(I,A){if(!A&&!I.swRegistration&&(yield qr(I)),A||!I.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw vn.create("invalid-sw-registration");I.swRegistration=A}})).apply(this,arguments)}function pc(I,A){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,V.Z)(function*(I,A){A?I.vapidKey=A:I.vapidKey||(I.vapidKey=wi)})).apply(this,arguments)}function gc(){return(gc=(0,V.Z)(function*(I,A){if(!navigator)throw vn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vn.create("permission-blocked");return yield pc(I,null==A?void 0:A.vapidKey),yield bs(I,null==A?void 0:A.serviceWorkerRegistration),Go(I)})).apply(this,arguments)}function Qo(I,A,O){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,V.Z)(function*(I,A,O){const B=Jo(A);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:O[po],message_name:O[nl],message_time:O[rl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Jo(I){switch(I){case go.NOTIFICATION_CLICKED:return"notification_open";case go.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function al(){return(al=(0,V.Z)(function*(I,A){const O=A.data;if(!O.isFirebaseMessaging)return;I.onMessageHandler&&O.messageType===go.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(es(O)):I.onMessageHandler.next(es(O)));const B=O.data;wo(B)&&"1"===B[ba]&&(yield Qo(I,O.messageType,B))})).apply(this,arguments)}const xa="@firebase/messaging",cl=I=>{const A=new wr(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Aa(I,A){return al.apply(this,arguments)}(A,O)),A},Gs=I=>{const A=I.getProvider("messaging").getImmediate();return{getToken:B=>function Yo(I,A){return gc.apply(this,arguments)}(A,B)}};function Sa(){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,V.Z)(function*(){try{yield(0,ce.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ll(){(0,pe._registerComponent)(new ye.wA("messaging",cl,"PUBLIC")),(0,pe._registerComponent)(new ye.wA("messaging-internal",Gs,"PRIVATE")),(0,pe.registerVersion)(xa,"0.9.16"),(0,pe.registerVersion)(xa,"0.9.16","esm2017")}();const ul="analytics",uu="firebase_id",ns="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Es="https://www.googletagmanager.com/gtag/js",Bn=new le.Yd("@firebase/analytics");function dl(I){return Promise.all(I.map(A=>A.catch(O=>O)))}function _d(I,A){const O=document.createElement("script");O.src=`${Es}?l=${I}&id=${A}`,O.async=!0,document.head.appendChild(O)}function Ii(I,A,O,B,te,he){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,V.Z)(function*(I,A,O,B,te,he){const Se=B[te];try{if(Se)yield A[Se];else{const _t=(yield dl(O)).find(xt=>xt.measurementId===te);_t&&(yield A[_t.appId])}}catch(Ke){Bn.error(Ke)}I("config",te,he)})).apply(this,arguments)}function yd(I,A,O,B,te){return rs.apply(this,arguments)}function rs(){return(rs=(0,V.Z)(function*(I,A,O,B,te){try{let he=[];if(te&&te.send_to){let Se=te.send_to;Array.isArray(Se)||(Se=[Se]);const Ke=yield dl(O);for(const _t of Se){const xt=Ke.find(dt=>dt.measurementId===_t),kt=xt&&A[xt.appId];if(!kt){he=[];break}he.push(kt)}}0===he.length&&(he=Object.values(A)),yield Promise.all(he),I("event",B,te||{})}catch(he){Bn.error(he)}})).apply(this,arguments)}function pn(){const I=window.document.getElementsByTagName("script");for(const A of Object.values(I))if(A.src&&A.src.includes(Es))return A;return null}const ot=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),j=new class P{constructor(A={},O=1e3){this.throttleMetadata=A,this.intervalMillis=O}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,O){this.throttleMetadata[A]=O}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Ee(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function et(I){return cn.apply(this,arguments)}function cn(){return(cn=(0,V.Z)(function*(I){var A;const{appId:O,apiKey:B}=I,te={method:"GET",headers:Ee(B)},he=ns.replace("{app-id}",O),Se=yield fetch(he,te);if(200!==Se.status&&304!==Se.status){let Ke="";try{const _t=yield Se.json();(null===(A=_t.error)||void 0===A?void 0:A.message)&&(Ke=_t.error.message)}catch(_t){}throw ot.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Ke})}return Se.json()})).apply(this,arguments)}function sn(I){return bn.apply(this,arguments)}function bn(){return(bn=(0,V.Z)(function*(I,A=j,O){const{appId:B,apiKey:te,measurementId:he}=I.options;if(!B)throw ot.create("no-app-id");if(!te){if(he)return{measurementId:he,appId:B};throw ot.create("no-api-key")}const Se=A.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new du;return setTimeout((0,V.Z)(function*(){Ke.abort()}),void 0!==O?O:6e4),Cr({appId:B,apiKey:te,measurementId:he},Se,Ke,A)})).apply(this,arguments)}function Cr(I,A,O){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,V.Z)(function*(I,{throttleEndTimeMillis:A,backoffCount:O},B,te=j){var he,Se;const{appId:Ke,measurementId:_t}=I;try{yield wd(B,A)}catch(xt){if(_t)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${null===(he=xt)||void 0===he?void 0:he.message}]`),{appId:Ke,measurementId:_t};throw xt}try{const xt=yield et(I);return te.deleteThrottleMetadata(Ke),xt}catch(xt){const kt=xt;if(!Cd(kt)){if(te.deleteThrottleMetadata(Ke),_t)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${null==kt?void 0:kt.message}]`),{appId:Ke,measurementId:_t};throw xt}const dt=503===Number(null===(Se=null==kt?void 0:kt.customData)||void 0===Se?void 0:Se.httpStatus)?(0,ce.$s)(O,te.intervalMillis,30):(0,ce.$s)(O,te.intervalMillis),Kn={throttleEndTimeMillis:Date.now()+dt,backoffCount:O+1};return te.setThrottleMetadata(Ke,Kn),Bn.debug(`Calling attemptFetch again in ${dt} millis`),Cr(I,Kn,B,te)}})).apply(this,arguments)}function wd(I,A){return new Promise((O,B)=>{const te=Math.max(A-Date.now(),0),he=setTimeout(O,te);I.addEventListener(()=>{clearTimeout(he),B(ot.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function Cd(I){if(!(I instanceof ce.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}class du{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let _c,Ra;function Is(){return(Is=(0,V.Z)(function*(I,A,O,B,te){if(te&&te.global)I("event",O,B);else{const he=yield A;I("event",O,Object.assign(Object.assign({},B),{send_to:he}))}})).apply(this,arguments)}function vc(I){Ra=I}function wc(I){_c=I}function Cc(){return $i.apply(this,arguments)}function $i(){return($i=(0,V.Z)(function*(){var I;if(!(0,ce.hl)())return Bn.warn(ot.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(A){return Bn.warn(ot.create("indexeddb-unavailable",{errorInfo:null===(I=A)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function ar(){return(ar=(0,V.Z)(function*(I,A,O,B,te,he,Se){var Ke;const _t=sn(I);_t.then(Yn=>{O[Yn.measurementId]=Yn.appId,I.options.measurementId&&Yn.measurementId!==I.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Yn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yn=>Bn.error(Yn)),A.push(_t);const xt=Cc().then(Yn=>{if(Yn)return B.getId()}),[kt,dt]=yield Promise.all([_t,xt]);pn()||_d(he,kt.measurementId),Ra&&(te("consent","default",Ra),vc(void 0)),te("js",new Date);const Kn=null!==(Ke=null==Se?void 0:Se.config)&&void 0!==Ke?Ke:{};return Kn.origin="firebase",Kn.update=!0,null!=dt&&(Kn[uu]=dt),te("config",kt.measurementId,Kn),_c&&(te("set",_c),wc(void 0)),kt.measurementId})).apply(this,arguments)}class hu{constructor(A){this.app=A}_delete(){return delete ni[this.app.options.appId],Promise.resolve()}}let ni={},Fn=[];const Na={};let is,Pn,Ds="dataLayer",ri=!1;function bd(I,A,O){!function Ts(){const I=[];if((0,ce.ru)()&&I.push("This is a browser extension environment."),(0,ce.zI)()||I.push("Cookies are not available."),I.length>0){const A=I.map((B,te)=>`(${te+1}) ${B}`).join(" "),O=ot.create("invalid-analytics-context",{errorInfo:A});Bn.warn(O.message)}}();const B=I.options.appId;if(!B)throw ot.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw ot.create("no-api-key");Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ni[B])throw ot.create("already-exists",{id:B});if(!ri){!function or(I){let A=[];Array.isArray(window[I])?A=window[I]:window[I]=A}(Ds);const{wrappedGtag:he,gtagCore:Se}=function vd(I,A,O,B,te){let he=function(...Se){window[B].push(arguments)};return window[te]&&"function"==typeof window[te]&&(he=window[te]),window[te]=function Oa(I,A,O,B){function he(){return(he=(0,V.Z)(function*(Se,Ke,_t){try{"event"===Se?yield yd(I,A,O,Ke,_t):"config"===Se?yield Ii(I,A,O,B,Ke,_t):"consent"===Se?I("consent","update",_t):I("set",Ke)}catch(xt){Bn.error(xt)}})).apply(this,arguments)}return function te(Se,Ke,_t){return he.apply(this,arguments)}}(he,I,A,O),{gtagCore:he,wrappedGtag:window[te]}}(ni,Fn,Na,Ds,"gtag");Pn=he,is=Se,ri=!0}return ni[B]=function ra(I,A,O,B,te,he,Se){return ar.apply(this,arguments)}(I,Fn,Na,A,is,Ds,O),new hu(I)}function Ed(){return Id.apply(this,arguments)}function Id(){return(Id=(0,V.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(I){return!1}})).apply(this,arguments)}const jn="@firebase/analytics";!function Ec(){(0,pe._registerComponent)(new ye.wA(ul,(A,{options:O})=>bd(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,pe._registerComponent)(new ye.wA("analytics-internal",function I(A){try{const O=A.getProvider(ul).getImmediate();return{logEvent:(B,te,he)=>function Ws(I,A,O,B){I=(0,ce.m9)(I),function Or(I,A,O,B,te){return Is.apply(this,arguments)}(Pn,ni[I.app.options.appId],A,O,B).catch(te=>Bn.error(te))}(O,B,te,he)}}catch(O){throw ot.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,pe.registerVersion)(jn,"0.8.0"),(0,pe.registerVersion)(jn,"0.8.0","esm2017")}();var Td=F(4408),ii=F(7565);const Ic=new class si extends ii.v{}(class zh extends Td.o{constructor(A,O){super(A,O),this.scheduler=A,this.work=O}schedule(A,O=0){return O>0?super.schedule(A,O):(this.delay=O,this.state=A,this.scheduler.flush(this),this)}execute(A,O){return O>0||this.closed?super.execute(A,O):this._execute(A,O)}requestAsyncId(A,O,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(A,O,B):A.flush(this)}});var sa=F(4986),La=F(8505),Io=F(5363),fl=F(9468);const Zt=new l.GfV("7.4.1"),Ad="__angularfire_symbol__analyticsIsSupportedValue",Ks="__angularfire_symbol__analyticsIsSupported",cr="__angularfire_symbol__remoteConfigIsSupportedValue",Do="__angularfire_symbol__remoteConfigIsSupported",To="__angularfire_symbol__messagingIsSupportedValue",xd="__angularfire_symbol__messagingIsSupported";function pl(I,A,O){if(A){if(1===A.length)return A[0];const he=A.filter(Se=>Se.app===O);if(1===he.length)return he[0]}return O.container.getProvider(I).getImmediate({optional:!0})}globalThis[Ks]||(globalThis[Ks]=Ed().then(I=>globalThis[Ad]=I).catch(()=>globalThis[Ad]=!1)),globalThis[xd]||(globalThis[xd]=Sa().then(I=>globalThis[To]=I).catch(()=>globalThis[To]=!1)),globalThis[Do]||(globalThis[Do]=js().then(I=>globalThis[cr]=I).catch(()=>globalThis[cr]=!1));const Sd=(I,A)=>{const O=A?[A]:(0,L.C6)(),B=[];return O.forEach(te=>{te.container.getProvider(I).instances.forEach(Se=>{B.includes(Se)||B.push(Se)})}),B};function Tn(){}class Er{constructor(A,O=Ic){this.zone=A,this.delegate=O}now(){return this.delegate.now()}schedule(A,O,B){const te=this.zone;return this.delegate.schedule(function(Se){te.runGuarded(()=>{A.apply(this,[Se])})},O,B)}}class gl{constructor(A){this.zone=A,this.task=null}call(A,O){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tn,{},Tn,Tn)),O.pipe((0,La.b)({next:B,complete:B,error:B})).subscribe(A).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zp=(()=>{class I{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Er(Zone.current)),this.insideAngular=O.run(()=>new Er(Zone.current,sa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(O){return new(O||I)(l.LFG(l.R0b))},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function oi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Md(I){return I.pipe((0,Io.Q)(oi().outsideAngular))}function ml(I){return oi(),function _l(I){return function(O){return(O=O.lift(new gl(I.ngZone))).pipe((0,fl.R)(I.outsideAngular),(0,Io.Q)(I.insideAngular))}}(oi())(I)}},2090:(rt,oe,F)=>{"use strict";F.d(oe,{$s:()=>mr,BH:()=>ze,G6:()=>qe,L:()=>de,LL:()=>fe,Mn:()=>Ae,Sg:()=>xe,UG:()=>me,US:()=>ye,ZB:()=>K,ZR:()=>we,b$:()=>Je,d:()=>Me,eu:()=>Ce,hl:()=>q,jU:()=>Ie,m9:()=>hs,ne:()=>it,pd:()=>Ln,r3:()=>Cn,ru:()=>Ne,tV:()=>ve,uI:()=>Ve,vZ:()=>Ur,w1:()=>be,xO:()=>kn,xb:()=>Tt,z$:()=>Le,zI:()=>ee,zd:()=>gr});const pe=function(G){const Q=[];let H=0;for(let W=0;W<G.length;W++){let z=G.charCodeAt(W);z<128?Q[H++]=z:z<2048?(Q[H++]=z>>6|192,Q[H++]=63&z|128):55296==(64512&z)&&W+1<G.length&&56320==(64512&G.charCodeAt(W+1))?(z=65536+((1023&z)<<10)+(1023&G.charCodeAt(++W)),Q[H++]=z>>18|240,Q[H++]=z>>12&63|128,Q[H++]=z>>6&63|128,Q[H++]=63&z|128):(Q[H++]=z>>12|224,Q[H++]=z>>6&63|128,Q[H++]=63&z|128)}return Q},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,Q){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,W=[];for(let z=0;z<G.length;z+=3){const Oe=G[z],Ge=z+1<G.length,gt=Ge?G[z+1]:0,ln=z+2<G.length,Wt=ln?G[z+2]:0;let Kr=(15&gt)<<2|Wt>>6,Vi=63&Wt;ln||(Vi=64,Ge||(Kr=64)),W.push(H[Oe>>2],H[(3&Oe)<<4|gt>>4],H[Kr],H[Vi])}return W.join("")},encodeString(G,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(G):this.encodeByteArray(pe(G),Q)},decodeString(G,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(G):function(G){const Q=[];let H=0,W=0;for(;H<G.length;){const z=G[H++];if(z<128)Q[W++]=String.fromCharCode(z);else if(z>191&&z<224){const Oe=G[H++];Q[W++]=String.fromCharCode((31&z)<<6|63&Oe)}else if(z>239&&z<365){const ln=((7&z)<<18|(63&G[H++])<<12|(63&G[H++])<<6|63&G[H++])-65536;Q[W++]=String.fromCharCode(55296+(ln>>10)),Q[W++]=String.fromCharCode(56320+(1023&ln))}else{const Oe=G[H++],Ge=G[H++];Q[W++]=String.fromCharCode((15&z)<<12|(63&Oe)<<6|63&Ge)}}return Q.join("")}(this.decodeStringToByteArray(G,Q))},decodeStringToByteArray(G,Q){this.init_();const H=Q?this.charToByteMapWebSafe_:this.charToByteMap_,W=[];for(let z=0;z<G.length;){const Oe=H[G.charAt(z++)],gt=z<G.length?H[G.charAt(z)]:0;++z;const Wt=z<G.length?H[G.charAt(z)]:64;++z;const Bt=z<G.length?H[G.charAt(z)]:64;if(++z,null==Oe||null==gt||null==Wt||null==Bt)throw Error();W.push(Oe<<2|gt>>4),64!==Wt&&(W.push(gt<<4&240|Wt>>2),64!==Bt&&W.push(Wt<<6&192|Bt))}return W},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},de=function(G){return function(G){const Q=pe(G);return ye.encodeByteArray(Q,!0)}(G).replace(/\./g,"")},ve=function(G){try{return ye.decodeString(G,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function K(G,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return Q}for(const H in Q)!Q.hasOwnProperty(H)||!ie(H)||(G[H]=K(G[H],Q[H]));return G}function ie(G){return"__proto__"!==G}class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,H)=>{this.resolve=Q,this.reject=H})}wrapCallback(Q){return(H,W)=>{H?this.reject(H):this.resolve(W),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(H):Q(H,W))}}}function xe(G,Q){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const W=Q||"demo-project",z=G.iat||0,Oe=G.sub||G.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${W}`,aud:W,iat:z,exp:z+3600,auth_time:z,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},G);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Ge)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function Ie(){return"object"==typeof self&&self.self===self}function Ne(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Me(){return Le().indexOf("Electron/")>=0}function be(){const G=Le();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ae(){return Le().indexOf("MSAppHost/")>=0}function qe(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){return"object"==typeof indexedDB}function Ce(){return new Promise((G,Q)=>{try{let H=!0;const W="validate-browser-context-for-indexeddb-analytics-module",z=self.indexedDB.open(W);z.onsuccess=()=>{z.result.close(),H||self.indexedDB.deleteDatabase(W),G(!0)},z.onupgradeneeded=()=>{H=!1},z.onerror=()=>{var Oe;Q((null===(Oe=z.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(H){Q(H)}})}function ee(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class we extends Error{constructor(Q,H,W){super(H),this.code=Q,this.customData=W,this.name="FirebaseError",Object.setPrototypeOf(this,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}}class fe{constructor(Q,H,W){this.service=Q,this.serviceName=H,this.errors=W}create(Q,...H){const W=H[0]||{},z=`${this.service}/${Q}`,Oe=this.errors[Q],Ge=Oe?function Ue(G,Q){return G.replace(ht,(H,W)=>{const z=Q[W];return null!=z?String(z):`<${W}?>`})}(Oe,W):"Error";return new we(z,`${this.serviceName}: ${Ge} (${z}).`,W)}}const ht=/\{\$([^}]+)}/g;function Cn(G,Q){return Object.prototype.hasOwnProperty.call(G,Q)}function Tt(G){for(const Q in G)if(Object.prototype.hasOwnProperty.call(G,Q))return!1;return!0}function Ur(G,Q){if(G===Q)return!0;const H=Object.keys(G),W=Object.keys(Q);for(const z of H){if(!W.includes(z))return!1;const Oe=G[z],Ge=Q[z];if(rr(Oe)&&rr(Ge)){if(!Ur(Oe,Ge))return!1}else if(Oe!==Ge)return!1}for(const z of W)if(!H.includes(z))return!1;return!0}function rr(G){return null!==G&&"object"==typeof G}function kn(G){const Q=[];for(const[H,W]of Object.entries(G))Array.isArray(W)?W.forEach(z=>{Q.push(encodeURIComponent(H)+"="+encodeURIComponent(z))}):Q.push(encodeURIComponent(H)+"="+encodeURIComponent(W));return Q.length?"&"+Q.join("&"):""}function gr(G){const Q={};return G.replace(/^\?/,"").split("&").forEach(W=>{if(W){const[z,Oe]=W.split("=");Q[decodeURIComponent(z)]=decodeURIComponent(Oe)}}),Q}function Ln(G){const Q=G.indexOf("?");if(!Q)return"";const H=G.indexOf("#",Q);return G.substring(Q,H>0?H:void 0)}function it(G,Q){const H=new Tr(G,Q);return H.subscribe.bind(H)}class Tr{constructor(Q,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{Q(this)}).catch(W=>{this.error(W)})}next(Q){this.forEachObserver(H=>{H.next(Q)})}error(Q){this.forEachObserver(H=>{H.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,H,W){let z;if(void 0===Q&&void 0===H&&void 0===W)throw new Error("Missing Observer.");z=function en(G,Q){if("object"!=typeof G||null===G)return!1;for(const H of Q)if(H in G&&"function"==typeof G[H])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:H,complete:W},void 0===z.next&&(z.next=Fi),void 0===z.error&&(z.error=Fi),void 0===z.complete&&(z.complete=Fi);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?z.error(this.finalError):z.complete()}catch(Ge){}}),this.observers.push(z),Oe}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,Q)}sendOne(Q,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{H(this.observers[Q])}catch(W){"undefined"!=typeof console&&console.error&&console.error(W)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fi(){}function mr(G,Q=1e3,H=2){const W=Q*Math.pow(H,G),z=Math.round(.5*W*(Math.random()-.5)*2);return Math.min(144e5,W+z)}function hs(G){return G&&G._delegate?G._delegate:G}},2826:(rt,oe,F)=>{"use strict";var l=F(5e3);let L=null;function V(){return L}const le=new l.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ve(){return(0,l.LFG)(K)}()},providedIn:"platform"}),n})();const Z=new l.OlP("Location Initialized");let K=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(t){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){ie()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){ie()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ze(){return new K((0,l.LFG)(le))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ie(n){const e=(0,l.LFG)(le).location;return new Je((0,l.LFG)(de),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ne=new l.OlP("appBaseHref");let Je=(()=>{class n extends me{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,c){const d=this.prepareExternalUrl(o+Ve(c));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,c){const d=this.prepareExternalUrl(o+Ve(c));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(Ne,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,c){let d=this.prepareExternalUrl(o+Ve(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,c){let d=this.prepareExternalUrl(o+Ve(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(Ne,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),be=(()=>{class n{constructor(t,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Le(qe(o)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ve(r))}normalize(t){return n.stripTrailingSlash(function Ze(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=xe,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(l.LFG(me),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ae(){return new be((0,l.LFG)(me),(0,l.LFG)(de))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}var ae=(()=>((ae=ae||{})[ae.Format=0]="Format",ae[ae.Standalone=1]="Standalone",ae))(),ne=(()=>((ne=ne||{})[ne.Narrow=0]="Narrow",ne[ne.Abbreviated=1]="Abbreviated",ne[ne.Wide=2]="Wide",ne[ne.Short=3]="Short",ne))(),we=(()=>((we=we||{})[we.Short=0]="Short",we[we.Medium=1]="Medium",we[we.Long=2]="Long",we[we.Full=3]="Full",we))(),fe=(()=>((fe=fe||{})[fe.Decimal=0]="Decimal",fe[fe.Group=1]="Group",fe[fe.List=2]="List",fe[fe.PercentSign=3]="PercentSign",fe[fe.PlusSign=4]="PlusSign",fe[fe.MinusSign=5]="MinusSign",fe[fe.Exponential=6]="Exponential",fe[fe.SuperscriptingExponent=7]="SuperscriptingExponent",fe[fe.PerMille=8]="PerMille",fe[fe.Infinity=9]="Infinity",fe[fe.NaN=10]="NaN",fe[fe.TimeSeparator=11]="TimeSeparator",fe[fe.CurrencyDecimal=12]="CurrencyDecimal",fe[fe.CurrencyGroup=13]="CurrencyGroup",fe))();function Lt(n,e){return yn((0,l.cg1)(n)[l.wAp.DateFormat],e)}function Cn(n,e){return yn((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function Xt(n,e){return yn((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function Tt(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(void 0===r){if(e===fe.CurrencyDecimal)return t[l.wAp.NumberSymbols][fe.Decimal];if(e===fe.CurrencyGroup)return t[l.wAp.NumberSymbols][fe.Group]}return r}function Ln(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function en(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const In=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gi={},co=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var nt=(()=>((nt=nt||{})[nt.Short=0]="Short",nt[nt.ShortGMT=1]="ShortGMT",nt[nt.Long=2]="Long",nt[nt.Extended=3]="Extended",nt))(),ut=(()=>((ut=ut||{})[ut.FullYear=0]="FullYear",ut[ut.Month=1]="Month",ut[ut.Date=2]="Date",ut[ut.Hours=3]="Hours",ut[ut.Minutes=4]="Minutes",ut[ut.Seconds=5]="Seconds",ut[ut.FractionalSeconds=6]="FractionalSeconds",ut[ut.Day=7]="Day",ut))(),At=(()=>((At=At||{})[At.DayPeriods=0]="DayPeriods",At[At.Days=1]="Days",At[At.Months=2]="Months",At[At.Eras=3]="Eras",At))();function ir(n,e,t,r){let o=function lo(n){if(Vn(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,c=1,d=1]=n.split("-").map(m=>+m);return Wr(o,c-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(In))return function Fo(n){const e=new Date(0);let t=0,r=0;const o=n[8]?e.setUTCFullYear:e.setFullYear,c=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,m=Number(n[5]||0)-r,v=Number(n[6]||0),T=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return c.call(e,d,m,v,T),e}(r)}const e=new Date(n);if(!Vn(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Gt(t,e)||e;let m,d=[];for(;e;){if(m=co.exec(e),!m){d.push(e);break}{d=d.concat(m.slice(1));const M=d.pop();if(!M)break;e=M}}let v=o.getTimezoneOffset();r&&(v=Bt(r,v),o=function Vi(n,e,t){const r=t?-1:1,o=n.getTimezoneOffset();return function Kr(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Bt(e,o)-o))}(o,r,!0));let T="";return d.forEach(M=>{const R=function Zn(n){if(Wt[n])return Wt[n];let e;switch(n){case"G":case"GG":case"GGG":e=G(At.Eras,ne.Abbreviated);break;case"GGGG":e=G(At.Eras,ne.Wide);break;case"GGGGG":e=G(At.Eras,ne.Narrow);break;case"y":e=mt(ut.FullYear,1,0,!1,!0);break;case"yy":e=mt(ut.FullYear,2,0,!0,!0);break;case"yyy":e=mt(ut.FullYear,3,0,!1,!0);break;case"yyyy":e=mt(ut.FullYear,4,0,!1,!0);break;case"Y":e=ln(1);break;case"YY":e=ln(2,!0);break;case"YYY":e=ln(3);break;case"YYYY":e=ln(4);break;case"M":case"L":e=mt(ut.Month,1,1);break;case"MM":case"LL":e=mt(ut.Month,2,1);break;case"MMM":e=G(At.Months,ne.Abbreviated);break;case"MMMM":e=G(At.Months,ne.Wide);break;case"MMMMM":e=G(At.Months,ne.Narrow);break;case"LLL":e=G(At.Months,ne.Abbreviated,ae.Standalone);break;case"LLLL":e=G(At.Months,ne.Wide,ae.Standalone);break;case"LLLLL":e=G(At.Months,ne.Narrow,ae.Standalone);break;case"w":e=gt(1);break;case"ww":e=gt(2);break;case"W":e=gt(1,!0);break;case"d":e=mt(ut.Date,1);break;case"dd":e=mt(ut.Date,2);break;case"c":case"cc":e=mt(ut.Day,1);break;case"ccc":e=G(At.Days,ne.Abbreviated,ae.Standalone);break;case"cccc":e=G(At.Days,ne.Wide,ae.Standalone);break;case"ccccc":e=G(At.Days,ne.Narrow,ae.Standalone);break;case"cccccc":e=G(At.Days,ne.Short,ae.Standalone);break;case"E":case"EE":case"EEE":e=G(At.Days,ne.Abbreviated);break;case"EEEE":e=G(At.Days,ne.Wide);break;case"EEEEE":e=G(At.Days,ne.Narrow);break;case"EEEEEE":e=G(At.Days,ne.Short);break;case"a":case"aa":case"aaa":e=G(At.DayPeriods,ne.Abbreviated);break;case"aaaa":e=G(At.DayPeriods,ne.Wide);break;case"aaaaa":e=G(At.DayPeriods,ne.Narrow);break;case"b":case"bb":case"bbb":e=G(At.DayPeriods,ne.Abbreviated,ae.Standalone,!0);break;case"bbbb":e=G(At.DayPeriods,ne.Wide,ae.Standalone,!0);break;case"bbbbb":e=G(At.DayPeriods,ne.Narrow,ae.Standalone,!0);break;case"B":case"BB":case"BBB":e=G(At.DayPeriods,ne.Abbreviated,ae.Format,!0);break;case"BBBB":e=G(At.DayPeriods,ne.Wide,ae.Format,!0);break;case"BBBBB":e=G(At.DayPeriods,ne.Narrow,ae.Format,!0);break;case"h":e=mt(ut.Hours,1,-12);break;case"hh":e=mt(ut.Hours,2,-12);break;case"H":e=mt(ut.Hours,1);break;case"HH":e=mt(ut.Hours,2);break;case"m":e=mt(ut.Minutes,1);break;case"mm":e=mt(ut.Minutes,2);break;case"s":e=mt(ut.Seconds,1);break;case"ss":e=mt(ut.Seconds,2);break;case"S":e=mt(ut.FractionalSeconds,1);break;case"SS":e=mt(ut.FractionalSeconds,2);break;case"SSS":e=mt(ut.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=H(nt.Short);break;case"ZZZZZ":e=H(nt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=H(nt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=H(nt.Long);break;default:return null}return Wt[n]=e,e}(M);T+=R?R(o,t,v):"''"===M?"'":M.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),T}function Wr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Gt(n,e){const t=function ht(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(gi[t]=gi[t]||{},gi[t][e])return gi[t][e];let r="";switch(e){case"shortDate":r=Lt(n,we.Short);break;case"mediumDate":r=Lt(n,we.Medium);break;case"longDate":r=Lt(n,we.Long);break;case"fullDate":r=Lt(n,we.Full);break;case"shortTime":r=Cn(n,we.Short);break;case"mediumTime":r=Cn(n,we.Medium);break;case"longTime":r=Cn(n,we.Long);break;case"fullTime":r=Cn(n,we.Full);break;case"short":const o=Gt(n,"shortTime"),c=Gt(n,"shortDate");r=Ar(Xt(n,we.Short),[o,c]);break;case"medium":const d=Gt(n,"mediumTime"),m=Gt(n,"mediumDate");r=Ar(Xt(n,we.Medium),[d,m]);break;case"long":const v=Gt(n,"longTime"),T=Gt(n,"longDate");r=Ar(Xt(n,we.Long),[v,T]);break;case"full":const M=Gt(n,"fullTime"),R=Gt(n,"fullDate");r=Ar(Xt(n,we.Full),[M,R])}return r&&(gi[t][e]=r),r}function Ar(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function mr(n,e,t="-",r,o){let c="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,c=t));let d=String(n);for(;d.length<e;)d="0"+d;return r&&(d=d.substr(d.length-e)),c+d}function mt(n,e,t=0,r=!1,o=!1){return function(c,d){let m=function hs(n,e){switch(n){case ut.FullYear:return e.getFullYear();case ut.Month:return e.getMonth();case ut.Date:return e.getDate();case ut.Hours:return e.getHours();case ut.Minutes:return e.getMinutes();case ut.Seconds:return e.getSeconds();case ut.FractionalSeconds:return e.getMilliseconds();case ut.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,c);if((t>0||m>-t)&&(m+=t),n===ut.Hours)0===m&&-12===t&&(m=12);else if(n===ut.FractionalSeconds)return function xr(n,e){return mr(n,3).substr(0,e)}(m,e);const v=Tt(d,fe.MinusSign);return mr(m,e,v,r,o)}}function G(n,e,t=ae.Format,r=!1){return function(o,c){return function Q(n,e,t,r,o,c){switch(t){case At.Months:return function Qe(n,e,t){const r=(0,l.cg1)(n),c=yn([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return yn(c,t)}(e,o,r)[n.getMonth()];case At.Days:return function Ht(n,e,t){const r=(0,l.cg1)(n),c=yn([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return yn(c,t)}(e,o,r)[n.getDay()];case At.DayPeriods:const d=n.getHours(),m=n.getMinutes();if(c){const T=function hn(n){const e=(0,l.cg1)(n);return Ln(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?en(r):[en(r[0]),en(r[1])])}(e),M=function it(n,e,t){const r=(0,l.cg1)(n);Ln(r);const c=yn([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return yn(c,t)||[]}(e,o,r),R=T.findIndex($=>{if(Array.isArray($)){const[X,se]=$,Re=d>=X.hours&&m>=X.minutes,Be=d<se.hours||d===se.hours&&m<se.minutes;if(X.hours<se.hours){if(Re&&Be)return!0}else if(Re||Be)return!0}else if($.hours===d&&$.minutes===m)return!0;return!1});if(-1!==R)return M[R]}return function Kt(n,e,t){const r=(0,l.cg1)(n),c=yn([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return yn(c,t)}(e,o,r)[d<12?0:1];case At.Eras:return function Qt(n,e){return yn((0,l.cg1)(n)[l.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(o,c,n,e,t,r)}}function H(n){return function(e,t,r){const o=-1*r,c=Tt(t,fe.MinusSign),d=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case nt.Short:return(o>=0?"+":"")+mr(d,2,c)+mr(Math.abs(o%60),2,c);case nt.ShortGMT:return"GMT"+(o>=0?"+":"")+mr(d,1,c);case nt.Long:return"GMT"+(o>=0?"+":"")+mr(d,2,c)+":"+mr(Math.abs(o%60),2,c);case nt.Extended:return 0===r?"Z":(o>=0?"+":"")+mr(d,2,c)+":"+mr(Math.abs(o%60),2,c);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ge(n){return Wr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function gt(n,e=!1){return function(t,r){let o;if(e){const c=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();o=1+Math.floor((d+c)/7)}else{const c=Ge(t),d=function Oe(n){const e=Wr(n,0,1).getDay();return Wr(n,0,1+(e<=4?4:11)-e)}(c.getFullYear()),m=c.getTime()-d.getTime();o=1+Math.round(m/6048e5)}return mr(o,n,Tt(r,fe.MinusSign))}}function ln(n,e=!1){return function(t,r){return mr(Ge(t).getFullYear(),n,Tt(r,fe.MinusSign),e)}}const Wt={};function Bt(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Vn(n){return n instanceof Date&&!isNaN(n.valueOf())}let Yr=(()=>{class n{constructor(t,r,o,c){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class fs{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rn=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,c,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new fs(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===c?void 0:c);else if(null!==c){const m=r.get(c);r.move(m,d),ps(m,o)}});for(let o=0,c=r.length;o<c;o++){const m=r.get(o).context;m.index=o,m.count=c,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{ps(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ps(n,e){n.context.$implicit=e.item}let Dn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new fn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Vo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Vo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class fn{constructor(){this.$implicit=null,this.ngIf=null}}function Vo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}const Qc=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let au=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",o,c){var d;if(null==t||""===t||t!=t)return null;try{return ir(t,r,c||this.locale,null!==(d=null!=o?o:this.defaultTimezone)&&void 0!==d?d:void 0)}catch(m){throw function yr(n,e){return new l.vHH(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(Qc,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0}),n})(),ba=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function mo(n){return"server"===n}let ac=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new _o((0,l.LFG)(le),window)}),n})();class _o{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ci(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const d=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=cc(this.window.history)||cc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function cc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class $s extends class Ho extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ce(n){L||(L=n)}(new $s)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $o(){return rn=rn||document.querySelector("base"),rn?rn.getAttribute("href"):null}();return null==t?null:function vs(n){Ea=Ea||document.createElement("a"),Ea.setAttribute("href",n);const e=Ea.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){rn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Lo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let Ea,rn=null;const sr=new l.OlP("TRANSITION_ID"),vn=[{provide:l.ip1,useFactory:function lc(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=V(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[sr,le,l.zs3],multi:!0}];class Xr{static init(){(0,l.VLi)(new Xr)}addToWindow(e){l.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const o=l.dqk.getAllAngularTestabilities();let c=o.length,d=!1;const m=function(v){d=d||v,c--,0==c&&r(d)};o.forEach(function(v){v.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?V().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let zn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ei=new l.OlP("EventManagerPlugins");let Xi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const d=o[c];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ei),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class qo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=V().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let bi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Hi=(()=>{class n extends bi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(c=>{const d=this._doc.createElement("style");d.textContent=c,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(yo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(yo))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function yo(n){V().remove(n)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ws=/%COMP%/g;function vo(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?vo(n,o,t):(o=o.replace(ws,n),t.push(o))}return t}function Pe(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Cs=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new mn(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new ti(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case l.ifc.ShadowDom:return new hc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=vo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Xi),l.LFG(Hi),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class mn{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(wt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const c=wt[o];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=wt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,o&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Pe(r)):this.eventManager.addEventListener(e,t,Pe(r))}}class ti extends mn{constructor(e,t,r,o){super(e),this.component=r;const c=vo(o+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr=function Ia(n){return"_ngcontent-%COMP%".replace(ws,n)}(o+"-"+r.id),this.hostAttr=function dc(n){return"_nghost-%COMP%".replace(ws,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class hc extends mn{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=vo(o.id,o.styles,[]);for(let d=0;d<c.length;d++){const m=document.createElement("style");m.textContent=c[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let fc=(()=>{class n extends qo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const wo=["alt","control","meta","shift"],gd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ts={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qr=(()=>{class n extends qo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const c=n.parseEventName(r),d=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(t,c.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let d="";if(wo.forEach(v=>{const T=r.indexOf(v);T>-1&&(r.splice(T,1),d+=v+".")}),d+=c,0!=r.length||0===c.length)return null;const m={};return m.domEventName=o,m.fullKey=d,m}static getEventFullKey(t){let r="",o=function Da(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ts.hasOwnProperty(e)&&(e=ts[e]))}return gd[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),wo.forEach(c=>{c!=o&&wr[c](t)&&(r+=c+".")}),r+=o,r}static eventCallback(t,r,o){return c=>{n.getEventFullKey(c)===t&&o.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Yo=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function bs(){$s.makeCurrent(),Xr.init()},multi:!0},{provide:le,useFactory:function pc(){return(0,l.RDi)(document),document},deps:[]}]),gc=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ei(){return new l.qLn},deps:[]},{provide:ei,useClass:fc,multi:!0,deps:[le,l.R0b,l.Lbi]},{provide:ei,useClass:qr,multi:!0,deps:[le]},{provide:Cs,useClass:Cs,deps:[Xi,Hi,l.AFp]},{provide:l.FYo,useExisting:Cs},{provide:bi,useExisting:Hi},{provide:Hi,useClass:Hi,deps:[le]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Xi,useClass:Xi,deps:[ei,l.R0b]},{provide:class an{},useClass:zn,deps:[]}];let Qo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:sr,useExisting:l.AFp},vn]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:gc,imports:[ba,l.hGG]}),n})();"undefined"!=typeof window&&window;var pn=F(8996),ea=F(7669);function ot(...n){const e=(0,ea.yG)(n);return(0,pn.D)(n,e)}var b=F(7579);class E extends b.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var P=F(8306);const{isArray:j}=Array,{getPrototypeOf:Ee,prototype:et,keys:cn}=Object;function sn(n){if(1===n.length){const e=n[0];if(j(e))return{args:e,keys:null};if(function bn(n){return n&&"object"==typeof n&&Ee(n)===et}(e)){const t=cn(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Cr=F(4671),Dt=F(4004);const{isArray:wd}=Array;function du(n){return(0,Dt.U)(e=>function Cd(n,e){return wd(e)?n(...e):n(e)}(n,e))}function _c(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Or=F(5403),Is=F(9672);function Co(n,e,t){n?(0,Is.f)(t,n,e):e()}var bo=F(576);function ka(n,e){const t=(0,bo.m)(n)?n:()=>n,r=o=>o.error(t());return new P.y(e?o=>e.schedule(r,0,o):r)}const ta=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var na=F(8189);function vc(...n){return function Ra(){return(0,na.J)(1)}()((0,pn.D)(n,(0,ea.yG)(n)))}var wc=F(8421);function Cc(n){return new P.y(e=>{(0,wc.Xf)(n()).subscribe(e)})}var $i=F(515),ra=F(727),ar=F(4482);function hu(){return(0,ar.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Or.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,c=t;t=null,o&&(!c||o===c)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ni extends P.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ar.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ra.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Or.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ra.w0.EMPTY)}return e}refCount(){return hu()(this)}}function Fn(n,e){return(0,ar.e)((t,r)=>{let o=null,c=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,Or.x)(r,v=>{null==o||o.unsubscribe();let T=0;const M=c++;(0,wc.Xf)(n(v,M)).subscribe(o=(0,Or.x)(r,R=>r.next(e?e(v,R,M,T++):R),()=>{o=null,m()}))},()=>{d=!0,m()}))})}function Na(n){return n<=0?()=>$i.E:(0,ar.e)((e,t)=>{let r=0;e.subscribe((0,Or.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Ds(...n){const e=(0,ea.yG)(n);return(0,ar.e)((t,r)=>{(e?vc(n,t,e):vc(n,t)).subscribe(r)})}function Eo(n,e,t,r,o){return(c,d)=>{let m=t,v=e,T=0;c.subscribe((0,Or.x)(d,M=>{const R=T++;v=m?n(v,M,R):(m=!0,M),r&&d.next(v)},o&&(()=>{m&&d.next(v),d.complete()})))}}function is(n,e){return(0,ar.e)(Eo(n,e,arguments.length>=2,!0))}function Pn(n,e){return(0,ar.e)((t,r)=>{let o=0;t.subscribe((0,Or.x)(r,c=>n.call(e,c,o++)&&r.next(c)))})}function ri(n){return(0,ar.e)((e,t)=>{let c,r=null,o=!1;r=e.subscribe((0,Or.x)(t,void 0,void 0,d=>{c=(0,wc.Xf)(n(d,ri(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,c.subscribe(t))})}var br=F(5577);function Ts(n,e){return(0,bo.m)(e)?(0,br.z)(n,e,1):(0,br.z)(n,1)}function bd(n){return n<=0?()=>$i.E:(0,ar.e)((e,t)=>{let r=[];e.subscribe((0,Or.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function fu(n=On){return(0,ar.e)((e,t)=>{let r=!1;e.subscribe((0,Or.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function On(){return new ta}function Ed(n){return(0,ar.e)((e,t)=>{let r=!1;e.subscribe((0,Or.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function bc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Pn((o,c)=>n(o,c,r)):Cr.y,Na(1),t?Ed(e):fu(()=>new ta))}var ss=F(8505);function Gh(n){return(0,ar.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class ia{constructor(e,t){this.id=e,this.url=t}}class Zh extends ia{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ws extends ia{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dd extends ia{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jn extends ia{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fa extends ia{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ec extends ia{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Td extends ia{constructor(e,t,r,o,c){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zh extends ia{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ii extends ia{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class si{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ic{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pu{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sa{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class La{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Io{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Zt="primary";class Ad{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ks(n){return new Ad(n)}const cr="ngNavigationCancelingError";function Do(n){const e=Error("NavigationCancelingError: "+n);return e[cr]=!0,e}function xd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const d=r[c],m=n[c];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Ys(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let c=0;c<t.length;c++)if(o=t[c],!gu(n[o],e[o]))return!1;return!0}function gu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,c)=>r[c]===o)}return n===e}function Wh(n){return Array.prototype.concat.apply([],n)}function pl(n){return n.length>0?n[n.length-1]:null}function Tn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Er(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,pn.D)(Promise.resolve(n)):ot(n)}const Zp={exact:function Md(n,e,t){if(!B(n.segments,e.segments)||!yl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Md(n.children[r],e.children[r],t))return!1;return!0},subset:ml},oi={exact:function qi(n,e){return Ys(n,e)},subset:function Pd(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gu(n[t],e[t]))},ignored:()=>!0};function Ua(n,e,t){return Zp[t.paths](n.root,e.root,t.matrixParams)&&oi[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ml(n,e,t){return _l(n,e,e.segments,t)}function _l(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!B(o,t)||e.hasChildren()||!yl(o,t,r))}if(n.segments.length===t.length){if(!B(n.segments,t)||!yl(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!ml(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(B(n.segments,o)&&yl(n.segments,o,r)&&n.children[Zt])&&_l(n.children[Zt],e,c,r)}}function yl(n,e,t){return e.every((r,o)=>oi[t](n[o].parameters,r.parameters))}class As{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ks(this.queryParams)),this._queryParamMap}toString(){return Ke.serialize(this)}}class I{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Tn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _t(this)}}class A{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ks(this.parameters)),this._parameterMap}toString(){return xs(this)}}function B(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class he{}class Se{parse(e){const t=new zp(e);return new As(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${xt(e.root,!0)}`,r=function Dc(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${dt(t)}=${dt(o)}`).join("&"):`${dt(t)}=${dt(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Kn(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ke=new Se;function _t(n){return n.segments.map(e=>xs(e)).join("/")}function xt(n,e){if(!n.hasChildren())return _t(n);if(e){const t=n.children[Zt]?xt(n.children[Zt],!1):"",r=[];return Tn(n.children,(o,c)=>{c!==Zt&&r.push(`${c}:${xt(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function te(n,e){let t=[];return Tn(n.children,(r,o)=>{o===Zt&&(t=t.concat(e(r,o)))}),Tn(n.children,(r,o)=>{o!==Zt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Zt?[xt(n.children[Zt],!1)]:[`${o}:${xt(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zt]?`${_t(n)}/${t[0]}`:`${_t(n)}/(${t.join("//")})`}}function kt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dt(n){return kt(n).replace(/%3B/gi,";")}function Yn(n){return kt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ao(n){return decodeURIComponent(n)}function xo(n){return Ao(n.replace(/\+/g,"%20"))}function xs(n){return`${Yn(n.path)}${function vl(n){return Object.keys(n).map(e=>`;${Yn(e)}=${Yn(n[e])}`).join("")}(n.parameters)}`}const oa=/^[^\/()?;=#]+/;function Ss(n){const e=n.match(oa);return e?e[0]:""}const os=/^[^=?&#]+/,Kh=/^[^&#]+/;class zp{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new I([],{}):new I([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Zt]=new I(e,t)),r}parseSegment(){const e=Ss(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new A(Ao(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ss(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Ss(this.remaining);o&&(r=o,this.capture(r))}e[Ao(t)]=Ao(r)}parseQueryParam(e){const t=function Ba(n){const e=n.match(os);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function pw(n){const e=n.match(Kh);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=xo(t),c=xo(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(c)}else e[o]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ss(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=Zt);const d=this.parseChildren();t[c]=1===Object.keys(d).length?d[Zt]:new I([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Yh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Wp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Wp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=wl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return wl(e,this._root).map(t=>t.value)}}function Wp(n,e){if(n===e.value)return e;for(const t of e.children){const r=Wp(n,t);if(r)return r}return null}function wl(n,e){if(n===e.value)return[e];for(const t of e.children){const r=wl(n,t);if(r.length)return r.unshift(e),r}return[]}class aa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Cl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class mu extends Yh{constructor(e,t){super(e),this.snapshot=t,Rd(this,e)}toString(){return this.snapshot.toString()}}function Od(n,e){const t=function bl(n,e){const d=new ca([],{},{},"",{},Zt,e,null,n.root,-1,{});return new kd("",new aa(d,[]))}(n,e),r=new E([new A("",{})]),o=new E({}),c=new E({}),d=new E({}),m=new E(""),v=new ja(r,o,d,m,c,Zt,e,t.root);return v.snapshot=t.root,new mu(new aa(v,[]),t)}class ja{constructor(e,t,r,o,c,d,m,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=d,this.component=m,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>Ks(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>Ks(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kp(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],c=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function gw(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ca{constructor(e,t,r,o,c,d,m,v,T,M,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=d,this.component=m,this.routeConfig=v,this._urlSegment=T,this._lastPathIndex=M,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ks(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ks(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kd extends Yh{constructor(e,t){super(t),this.url=e,Rd(this,t)}toString(){return Qh(this._root)}}function Rd(n,e){e.value._routerState=n,e.children.forEach(t=>Rd(n,t))}function Qh(n){const e=n.children.length>0?` { ${n.children.map(Qh).join(", ")} } `:"";return`${n.value}${e}`}function Nd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ys(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ys(e.params,t.params)||n.params.next(t.params),function Va(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ys(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ys(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Fd(n,e){const t=Ys(n.params,e.params)&&function O(n,e){return B(n,e)&&n.every((t,r)=>Ys(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Fd(n.parent,e.parent))}function _u(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function i_(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return _u(n,r,o);return _u(n,r)})}(n,e,t);return new aa(r,o)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>_u(n,m)),d}}const r=function s_(n){return new ja(new E(n.url),new E(n.params),new E(n.queryParams),new E(n.fragment),new E(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(c=>_u(n,c));return new aa(r,o)}}function as(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function la(n){return"object"==typeof n&&null!=n&&n.outlets}function yu(n,e,t,r,o){let c={};if(r&&Tn(r,(m,v)=>{c[v]=Array.isArray(m)?m.map(T=>`${T}`):`${m}`}),n===e)return new As(t,c,o);const d=a_(n,e,t);return new As(d,c,o)}function a_(n,e,t){const r={};return Tn(n.children,(o,c)=>{r[c]=o===e?t:a_(o,e,t)}),new I(n.segments,r)}class Qp{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&as(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(la);if(o&&o!==pl(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ld{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Xp(n,e,t){if(n||(n=new I([],{})),0===n.segments.length&&n.hasChildren())return Vd(n,e,t);const r=function c_(n,e,t){let r=0,o=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return c;const d=n.segments[o],m=t[r];if(la(m))break;const v=`${m}`,T=r<t.length-1?t[r+1]:null;if(o>0&&void 0===v)break;if(v&&T&&"object"==typeof T&&void 0===T.outlets){if(!Xh(v,T,d))return c;r+=2}else{if(!Xh(v,{},d))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new I(n.segments.slice(0,r.pathIndex),{});return c.children[Zt]=new I(n.segments.slice(r.pathIndex),n.children),Vd(c,0,o)}return r.match&&0===o.length?new I(n.segments,{}):r.match&&!n.hasChildren()?l_(n,e,t):r.match?Vd(n,0,o):l_(n,e,t)}function Vd(n,e,t){if(0===t.length)return new I(n.segments,{});{const r=function Jp(n){return la(n[0])?n[0].outlets:{[Zt]:n}}(t),o={};return Tn(r,(c,d)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[d]=Xp(n.children[d],e,c))}),Tn(n.children,(c,d)=>{void 0===r[d]&&(o[d]=c)}),new I(n.segments,o)}}function l_(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const c=t[o];if(la(c)){const v=Tc(c.outlets);return new I(r,v)}if(0===o&&as(t[0])){r.push(new A(n.segments[e].path,vu(t[0]))),o++;continue}const d=la(c)?c.outlets[Zt]:`${c}`,m=o<t.length-1?t[o+1]:null;d&&m&&as(m)?(r.push(new A(d,vu(m))),o+=2):(r.push(new A(d,{})),o++)}return new I(r,{})}function Tc(n){const e={};return Tn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=l_(new I([],{}),0,t))}),e}function vu(n){const e={};return Tn(n,(t,r)=>e[r]=`${t}`),e}function Xh(n,e,t){return n==t.path&&Ys(e,t.parameters)}class wu{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Nd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Cl(t);e.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,o[d],r),delete o[d]}),Tn(o,(c,d)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(o===c)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=Cl(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=Cl(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Cl(t);e.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new Io(c.value.snapshot))}),e.children.length&&this.forwardEvent(new sa(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(Nd(o),o===c)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Nd(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function Ud(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),v=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=o,d.resolver=v,d.outlet&&d.outlet.activateWith(o,v),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Bd{constructor(e,t){this.routes=e,this.module=t}}function ua(n){return"function"==typeof n}function El(n){return n instanceof As}const jd=Symbol("INITIAL_VALUE");function Hd(){return Fn(n=>function hl(...n){const e=(0,ea.yG)(n),t=(0,ea.jO)(n),{args:r,keys:o}=sn(n);if(0===r.length)return(0,pn.D)([],e);const c=new P.y(function zs(n,e,t=Cr.y){return r=>{Co(e,()=>{const{length:o}=n,c=new Array(o);let d=o,m=o;for(let v=0;v<o;v++)Co(e,()=>{const T=(0,pn.D)(n[v],e);let M=!1;T.subscribe((0,Or.x)(r,R=>{c[v]=R,M||(M=!0,m--),m||r.next(t(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>_c(o,d):Cr.y));return t?c.pipe(du(t)):c}(n.map(e=>e.pipe(Na(1),Ds(jd)))).pipe(is((e,t)=>{let r=!1;return t.reduce((o,c,d)=>o!==jd?o:(c===jd&&(r=!0),r||!1!==c&&d!==t.length-1&&!El(c)?o:c),e)},jd),Pn(e=>e!==jd),(0,Dt.U)(e=>El(e)?e:!0===e),Na(1)))}class tg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Il,this.attachRef=null}}class Il{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new tg,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let bu=(()=>{class n{constructor(t,r,o,c,d){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=c||Zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,v=new u_(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Il),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class u_{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ja?this.route:e===Il?this.childContexts:this.parent.get(e,t)}}let ng=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[bu],encapsulation:2}),n})();function Eu(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Dl(r,d_(e,r))}}function Dl(n,e){n.children&&Eu(n.children,e)}function d_(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Iu(n){const e=n.children&&n.children.map(Iu),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Zt&&(t.component=ng),t}function Di(n){return n.outlet||Zt}function Qn(n,e){const t=n.filter(r=>Di(r)===e);return t.push(...n.filter(r=>Di(r)!==e)),t}const rg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $d(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},rg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const c=(e.matcher||xd)(t,n,e);if(!c)return Object.assign({},rg);const d={};Tn(c.posParams,(v,T)=>{d[T]=v.path});const m=c.consumed.length>0?Object.assign(Object.assign({},d),c.consumed[c.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:c.consumed,remainingSegments:t.slice(c.consumed.length),parameters:m,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function Ac(n,e,t,r,o="corrected"){if(t.length>0&&function f_(n,e,t){return t.some(r=>Ha(n,e,r)&&Di(r)!==Zt)}(n,t,r)){const d=new I(e,function h_(n,e,t,r){const o={};o[Zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&Di(c)!==Zt){const d=new I([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[Di(c)]=d}return o}(n,e,r,new I(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function p_(n,e,t){return t.some(r=>Ha(n,e,r))}(n,t,r)){const d=new I(n.segments,function ig(n,e,t,r,o,c){const d={};for(const m of r)if(Ha(n,t,m)&&!o[Di(m)]){const v=new I([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===c?n.segments.length:e.length,d[Di(m)]=v}return Object.assign(Object.assign({},o),d)}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const c=new I(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function Ha(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function sg(n,e,t,r){return!!(Di(n)===r||r!==Zt&&Ha(e,t,n))&&("**"===n.path||$d(e,n,t).matched)}function og(n,e,t){return 0===e.length&&!n.children[t]}class nf{constructor(e){this.segmentGroup=e||null}}class Tl{constructor(e){this.urlTree=e}}function Ir(n){return ka(new nf(n))}function qd(n){return ka(new Tl(n))}class Al{constructor(e,t,r,o,c){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=Ac(this.urlTree.root,[],[],this.config).segmentGroup,t=new I(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Zt).pipe((0,Dt.U)(c=>this.createUrlTree(Du(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ri(c=>{if(c instanceof Tl)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof nf?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Zt).pipe((0,Dt.U)(o=>this.createUrlTree(Du(o),e.queryParams,e.fragment))).pipe(ri(o=>{throw o instanceof nf?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new I([],{[Zt]:e}):e;return new As(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Dt.U)(c=>new I([],c))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,pn.D)(o).pipe(Ts(c=>{const d=r.children[c],m=Qn(t,c);return this.expandSegmentGroup(e,m,d,c).pipe((0,Dt.U)(v=>({segment:v,outlet:c})))}),is((c,d)=>(c[d.outlet]=d.segment,c),{}),function Id(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Pn((o,c)=>n(o,c,r)):Cr.y,bd(1),t?Ed(e):fu(()=>new ta))}())}expandSegment(e,t,r,o,c,d){return(0,pn.D)(r).pipe(Ts(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,c,d).pipe(ri(T=>{if(T instanceof nf)return ot(null);throw T}))),bc(m=>!!m),ri((m,v)=>{if(m instanceof ta||"EmptyError"===m.name)return og(t,o,c)?ot(new I([],{})):Ir(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,c,d,m){return sg(o,t,c,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,c,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d):Ir(t):Ir(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?qd(c):this.lineralizeSegments(r,c).pipe((0,br.z)(d=>{const m=new I(d,{});return this.expandSegment(e,m,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d){const{matched:m,consumedSegments:v,remainingSegments:T,positionalParamSegments:M}=$d(t,o,c);if(!m)return Ir(t);const R=this.applyRedirectCommands(v,o.redirectTo,M);return o.redirectTo.startsWith("/")?qd(R):this.lineralizeSegments(o,R).pipe((0,br.z)($=>this.expandSegment(e,t,r,$.concat(T),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ot(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Dt.U)(R=>(r._loadedConfig=R,new I(o,{})))):ot(new I(o,{}));const{matched:d,consumedSegments:m,remainingSegments:v}=$d(t,r,o);return d?this.getChildConfig(e,r,o).pipe((0,br.z)(M=>{const R=M.module,$=M.routes,{segmentGroup:X,slicedSegments:se}=Ac(t,m,v,$),Re=new I(X.segments,X.children);if(0===se.length&&Re.hasChildren())return this.expandChildren(R,$,Re).pipe((0,Dt.U)(It=>new I(m,It)));if(0===$.length&&0===se.length)return ot(new I(m,{}));const Be=Di(r)===c;return this.expandSegment(R,Re,$,se,Be?Zt:c,!0).pipe((0,Dt.U)(Mt=>new I(m.concat(Mt.segments),Mt.children)))})):Ir(t)}getChildConfig(e,t,r){return t.children?ot(new Bd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ot(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,br.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,Dt.U)(c=>(t._loadedConfig=c,c))):function Gd(n){return ka(Do(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ot(new Bd([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?ot(o.map(d=>{const m=e.get(d);let v;if(function yw(n){return n&&ua(n.canLoad)}(m))v=m.canLoad(t,r);else{if(!ua(m))throw new Error("Invalid CanLoad guard");v=m(t,r)}return Er(v)})).pipe(Hd(),(0,ss.b)(d=>{if(!El(d))return;const m=Do(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,Dt.U)(d=>!0===d)):ot(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return ot(r);if(o.numberOfChildren>1||!o.children[Zt])return ka(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[Zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const c=this.createSegmentGroup(e,t.root,r,o);return new As(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Tn(e,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[c]=t[m]}else r[c]=o}),r}createSegmentGroup(e,t,r,o){const c=this.createSegments(e,t.segments,r,o);let d={};return Tn(t.children,(m,v)=>{d[v]=this.createSegmentGroup(e,m,r,o)}),new I(c,d)}createSegments(e,t,r,o){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,o):this.findOrReturn(c,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Du(n){const e={};for(const r of Object.keys(n.children)){const c=Du(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function sf(n){if(1===n.numberOfChildren&&n.children[Zt]){const e=n.children[Zt];return new I(n.segments.concat(e.segments),e.children)}return n}(new I(n.segments,e))}class Ti{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class $a{constructor(e,t){this.component=e,this.route=t}}function af(n,e,t){const r=n._root;return Tu(r,e?e._root:null,t,[r.value])}function xc(n,e,t){const r=function cf(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Tu(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=Cl(e);return n.children.forEach(d=>{(function Zd(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const v=function __(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!B(n.url,e.url);case"pathParamsOrQueryParamsChange":return!B(n.url,e.url)||!Ys(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fd(n,e)||!Ys(n.queryParams,e.queryParams);default:return!Fd(n,e)}}(d,c,c.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new Ti(r)):(c.data=d.data,c._resolvedData=d._resolvedData),Tu(n,e,c.component?m?m.children:null:t,r,o),v&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new $a(m.outlet.component,d))}else d&&Ps(e,m,o),o.canActivateChecks.push(new Ti(r)),Tu(n,null,c.component?m?m.children:null:t,r,o)})(d,c[d.value.outlet],t,r.concat([d.value]),o),delete c[d.value.outlet]}),Tn(c,(d,m)=>Ps(d,t.getContext(m),o)),o}function Ps(n,e,t){const r=Cl(n),o=n.value;Tn(r,(c,d)=>{Ps(c,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new $a(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class w_{}function Qs(n){return new P.y(e=>e.error(n))}class cg{constructor(e,t,r,o,c,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d}recognize(){const e=Ac(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Zt);if(null===t)return null;const r=new ca([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new aa(r,t),c=new kd(this.url,o);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,r=Kp(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const c of Object.keys(t.children)){const d=t.children[c],m=Qn(e,c),v=this.processSegmentGroup(m,d,c);if(null===v)return null;r.push(...v)}const o=ug(r);return function lg(n){n.sort((e,t)=>e.value.outlet===Zt?-1:t.value.outlet===Zt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const c of e){const d=this.processSegmentAgainstRoute(c,t,r,o);if(null!==d)return d}return og(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!sg(e,t,r,o))return null;let c,d=[],m=[];if("**"===e.path){const X=r.length>0?pl(r).parameters:{};c=new ca(r,X,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_(e),Di(e),e.component,e,dg(t),Sc(t)+r.length,f(e))}else{const X=$d(t,e,r);if(!X.matched)return null;d=X.consumedSegments,m=X.remainingSegments,c=new ca(d,X.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_(e),Di(e),e.component,e,dg(t),Sc(t)+d.length,f(e))}const v=function C_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:T,slicedSegments:M}=Ac(t,d,m,v.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution);if(0===M.length&&T.hasChildren()){const X=this.processChildren(v,T);return null===X?null:[new aa(c,X)]}if(0===v.length&&0===M.length)return[new aa(c,[])];const R=Di(e)===o,$=this.processSegment(v,T,M,R?Zt:o);return null===$?null:[new aa(c,$)]}}function df(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ug(n){const e=[],t=new Set;for(const r of n){if(!df(r)){e.push(r);continue}const o=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=ug(r.children);e.push(new aa(r.value,o))}return e.filter(r=>!t.has(r))}function dg(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Sc(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function _(n){return n.data||{}}function f(n){return n.resolve||{}}function J(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function He(n){return Fn(e=>{const t=n(e);return t?(0,pn.D)(t).pipe((0,Dt.U)(()=>e)):ot(e)})}class yt extends class vt{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Hn=new l.OlP("ROUTES");class Zi{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Dt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=c.create(e);return new Bd(Wh(d.injector.get(Hn,void 0,l.XFs.Self|l.XFs.Optional)).map(Iu),d)}),ri(c=>{throw t._loader$=void 0,c}));return t._loader$=new ni(o,()=>new b.x).pipe(hu()),t._loader$}loadModuleFactory(e){return Er(e()).pipe((0,br.z)(t=>t instanceof l.YKP?ot(t):(0,pn.D)(this.compiler.compileModuleAsync(t))))}}class hf{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function hg(n){throw n}function Mc(n,e,t){return e.parse("/")}function xu(n,e){return ot(null)}const Kd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $n=(()=>{class n{constructor(t,r,o,c,d,m,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new b.x,this.errorHandler=hg,this.malformedUriErrorHandler=Mc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xu,afterPreactivation:xu},this.urlHandlingStrategy=new hf,this.routeReuseStrategy=new yt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(l.h0i),this.console=d.get(l.c2e);const R=d.get(l.R0b);this.isNgZoneEnabled=R instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function gl(){return new As(new I([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zi(d,m,$=>this.triggerEvent(new si($)),$=>this.triggerEvent(new Ic($))),this.routerState=Od(this.currentUrlTree,this.rootComponentType),this.transitions=new E({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Pn(o=>0!==o.id),(0,Dt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Fn(o=>{let c=!1,d=!1;return ot(o).pipe((0,ss.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fn(m=>{const v=this.browserUrlTree.toString(),T=!this.navigated||m.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return pf(m.source)&&(this.browserUrlTree=m.extractedUrl),ot(m).pipe(Fn(R=>{const $=this.transitions.getValue();return r.next(new Zh(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),$!==this.transitions.getValue()?$i.E:Promise.resolve(R)}),function g_(n,e,t,r){return Fn(o=>function kr(n,e,t,r,o){return new Al(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Dt.U)(c=>Object.assign(Object.assign({},o),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ss.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function p(n,e,t,r,o){return(0,br.z)(c=>function Au(n,e,t,r,o="emptyOnly",c="legacy"){try{const d=new cg(n,e,t,r,o,c).recognize();return null===d?Qs(new w_):ot(d)}catch(d){return Qs(d)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),r,o).pipe((0,Dt.U)(d=>Object.assign(Object.assign({},c),{targetSnapshot:d}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ss.b)(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const X=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(X,R)}this.browserUrlTree=R.urlAfterRedirects}const $=new Fa(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next($)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$,extractedUrl:X,source:se,restoredState:Re,extras:Be}=m,Et=new Zh($,this.serializeUrl(X),se,Re);r.next(Et);const Mt=Od(X,this.rootComponentType).snapshot;return ot(Object.assign(Object.assign({},m),{targetSnapshot:Mt,urlAfterRedirects:X,extras:Object.assign(Object.assign({},Be),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),$i.E}),He(m=>{const{targetSnapshot:v,id:T,extractedUrl:M,rawUrl:R,extras:{skipLocationChange:$,replaceUrl:X}}=m;return this.hooks.beforePreactivation(v,{navigationId:T,appliedUrlTree:M,rawUrlTree:R,skipLocationChange:!!$,replaceUrl:!!X})}),(0,ss.b)(m=>{const v=new Ec(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(v)}),(0,Dt.U)(m=>Object.assign(Object.assign({},m),{guards:af(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function zd(n,e){return(0,br.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:d}}=t;return 0===d.length&&0===c.length?ot(Object.assign(Object.assign({},t),{guardsResult:!0})):function y_(n,e,t,r){return(0,pn.D)(n).pipe((0,br.z)(o=>function uf(n,e,t,r,o){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?ot(c.map(m=>{const v=xc(m,e,o);let T;if(function tf(n){return n&&ua(n.canDeactivate)}(v))T=Er(v.canDeactivate(n,e,t,r));else{if(!ua(v))throw new Error("Invalid CanDeactivate guard");T=Er(v(n,e,t,r))}return T.pipe(bc())})).pipe(Hd()):ot(!0)}(o.component,o.route,t,e,r)),bc(o=>!0!==o,!0))}(d,r,o,n).pipe((0,br.z)(m=>m&&function eg(n){return"boolean"==typeof n}(m)?function v_(n,e,t,r){return(0,pn.D)(e).pipe(Ts(o=>vc(function ag(n,e){return null!==n&&e&&e(new pu(n)),ot(!0)}(o.route.parent,r),function Wd(n,e){return null!==n&&e&&e(new La(n)),ot(!0)}(o.route,r),function lf(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(d=>function m_(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Cc(()=>ot(d.guards.map(v=>{const T=xc(v,d.node,t);let M;if(function ef(n){return n&&ua(n.canActivateChild)}(T))M=Er(T.canActivateChild(r,n));else{if(!ua(T))throw new Error("Invalid CanActivateChild guard");M=Er(T(r,n))}return M.pipe(bc())})).pipe(Hd())));return ot(c).pipe(Hd())}(n,o.path,t),function Gi(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ot(!0);const o=r.map(c=>Cc(()=>{const d=xc(c,e,t);let m;if(function Cu(n){return n&&ua(n.canActivate)}(d))m=Er(d.canActivate(e,n));else{if(!ua(d))throw new Error("Invalid CanActivate guard");m=Er(d(e,n))}return m.pipe(bc())}));return ot(o).pipe(Hd())}(n,o.route,t))),bc(o=>!0!==o,!0))}(r,c,n,e):ot(m)),(0,Dt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,ss.b)(m=>{if(El(m.guardsResult)){const T=Do(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw T.url=m.guardsResult,T}const v=new Td(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(v)}),Pn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),He(m=>{if(m.guards.canActivateChecks.length)return ot(m).pipe((0,ss.b)(v=>{const T=new zh(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(T)}),Fn(v=>{let T=!1;return ot(v).pipe(function w(n,e){return(0,br.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return ot(t);let c=0;return(0,pn.D)(o).pipe(Ts(d=>function x(n,e,t,r){return function N(n,e,t,r){const o=J(n);if(0===o.length)return ot({});const c={};return(0,pn.D)(o).pipe((0,br.z)(d=>function ge(n,e,t,r){const o=xc(n,e,r);return Er(o.resolve?o.resolve(e,t):o(e,t))}(n[d],e,t,r).pipe((0,ss.b)(m=>{c[d]=m}))),bd(1),(0,br.z)(()=>J(c).length===o.length?ot(c):$i.E))}(n._resolve,n,e,r).pipe((0,Dt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),Kp(n,t).resolve),null)))}(d.route,r,n,e)),(0,ss.b)(()=>c++),bd(1),(0,br.z)(d=>c===o.length?ot(t):$i.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ss.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,ss.b)(v=>{const T=new ii(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(T)}))}),He(m=>{const{targetSnapshot:v,id:T,extractedUrl:M,rawUrl:R,extras:{skipLocationChange:$,replaceUrl:X}}=m;return this.hooks.afterPreactivation(v,{navigationId:T,appliedUrlTree:M,rawUrlTree:R,skipLocationChange:!!$,replaceUrl:!!X})}),(0,Dt.U)(m=>{const v=function Yp(n,e,t){const r=_u(n,e._root,t?t._root:void 0);return new mu(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:v})}),(0,ss.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(r=>(new wu(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,ss.b)({next(){c=!0},complete(){c=!0}}),Gh(()=>{var m;c||d||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),ri(m=>{if(d=!0,function To(n){return n&&n[cr]}(m)){const v=El(m.url);v||(this.navigated=!0,this.restoreHistory(o,!0));const T=new Dd(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(T),v?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),R={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||pf(o.source)};this.scheduleNavigation(M,"imperative",null,R,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const v=new jn(o.id,this.serializeUrl(o.extractedUrl),m);r.next(v);try{o.resolve(this.errorHandler(m))}catch(T){o.reject(T)}}return $i.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const c={replaceUrl:!0},d=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(c.state=v)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Eu(t),this.config=t.map(Iu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:c,fragment:d,queryParamsHandling:m,preserveFragment:v}=r,T=o||this.routerState.root,M=v?this.currentUrlTree.fragment:d;let R=null;switch(m){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=c||null}return null!==R&&(R=this.removeEmptyProps(R)),function o_(n,e,t,r,o){if(0===t.length)return yu(e.root,e.root,e.root,r,o);const c=function mw(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Qp(!0,0,n);let e=0,t=!1;const r=n.reduce((o,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return Tn(c.outlets,(v,T)=>{m[T]="string"==typeof v?v.split("/"):v}),[...o,{outlets:m}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===d?(c.split("/").forEach((m,v)=>{0==v&&"."===m||(0==v&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,c]},[]);return new Qp(t,e,r)}(t);if(c.toRoot())return yu(e.root,e.root,new I([],{}),r,o);const d=function _w(n,e,t){if(n.isAbsolute)return new Ld(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new Ld(c,c===e.root,0)}const r=as(n.commands[0])?0:1;return function Jh(n,e,t){let r=n,o=e,c=t;for(;c>o;){if(c-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Ld(r,!1,o-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,e,n),m=d.processChildren?Vd(d.segmentGroup,d.index,c.commands):Xp(d.segmentGroup,d.index,c.commands);return yu(e.root,d.segmentGroup,m,r,o)}(T,this.currentUrlTree,t,R,null!=M?M:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=El(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function ff(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},Kd):!1===r?Object.assign({},fg):r,El(t))return Ua(this.currentUrlTree,t,o);const c=this.parseUrl(t);return Ua(this.currentUrlTree,c,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const c=t[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ws(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,c,d){var m,v;if(this.disposed)return Promise.resolve(!1);let T,M,R;d?(T=d.resolve,M=d.reject,R=d.promise):R=new Promise((se,Re)=>{T=se,M=Re});const $=++this.navigationId;let X;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),X=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):X=0,this.setTransition({id:$,targetPageId:X,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:T,reject:M,promise:R,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),R.catch(se=>Promise.reject(se))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(t,r=!1){var o,c;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===d?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new Dd(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function pf(n){return"imperative"!==n}class pg{}class gg{preload(e,t){return ot(null)}}let bw=(()=>{class n{constructor(t,r,o,c){this.router=t,this.injector=o,this.preloadingStrategy=c,this.loader=new Zi(o,r,v=>t.triggerEvent(new si(v)),v=>t.triggerEvent(new Ic(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pn(t=>t instanceof Ws),Ts(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const d=c._loadedConfig;o.push(this.processRoutes(d.module,d.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(t,c)):c.children&&o.push(this.processRoutes(t,c.children));return(0,pn.D)(o).pipe((0,na.J)(),(0,Dt.U)(c=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ot(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,br.z)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($n),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(pg))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),b_=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Zh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ws&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new fl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ml=new l.OlP("ROUTER_CONFIGURATION"),Pl=new l.OlP("ROUTER_FORROOT_GUARD"),Ew=[be,{provide:he,useClass:Se},{provide:$n,useFactory:function Aw(n,e,t,r,o,c,d={},m,v){const T=new $n(null,n,e,t,r,o,Wh(c));return m&&(T.urlHandlingStrategy=m),v&&(T.routeReuseStrategy=v),function I_(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,T),d.enableTracing&&T.events.subscribe(M=>{var R,$;null===(R=console.group)||void 0===R||R.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===($=console.groupEnd)||void 0===$||$.call(console)}),T},deps:[he,Il,be,l.zs3,l.Sil,Hn,Ml,[class xl{},new l.FiY],[class st{},new l.FiY]]},Il,{provide:ja,useFactory:function xw(n){return n.routerState.root},deps:[$n]},bw,gg,class Cw{preload(e,t){return t().pipe(ri(()=>ot(null)))}},{provide:Ml,useValue:{enableTracing:!1}}];function Iw(){return new l.PXZ("Router",$n)}let Dw=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Ew,E_(t),{provide:Pl,useFactory:Tw,deps:[[$n,new l.FiY,new l.tp0]]},{provide:Ml,useValue:r||{}},{provide:me,useFactory:TE,deps:[de,[new l.tBr(Ne),new l.FiY],Ml]},{provide:b_,useFactory:mg,deps:[$n,ac,Ml]},{provide:pg,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:gg},{provide:l.PXZ,multi:!0,useFactory:Iw},[Yd,{provide:l.ip1,multi:!0,useFactory:_g,deps:[Yd]},{provide:yg,useFactory:Sw,deps:[Yd]},{provide:l.tb,multi:!0,useExisting:yg}]]}}static forChild(t){return{ngModule:n,providers:[E_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pl,8),l.LFG($n,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function mg(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new b_(n,e,t)}function TE(n,e,t={}){return t.useHash?new Me(n,e):new Je(n,e)}function Tw(n){return"guarded"}function E_(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Hn,multi:!0,useValue:n}]}let Yd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new b.x}appInitializer(){return this.injector.get(Z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),c=this.injector.get($n),d=this.injector.get(Ml);return"disabled"===d.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?ot(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Ml),o=this.injector.get(bw),c=this.injector.get(b_),d=this.injector.get($n),m=this.injector.get(l.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),o.setUpPreloading(),c.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function _g(n){return n.appInitializer.bind(n)}function Sw(n){return n.bootstrapListener.bind(n)}const yg=new l.OlP("Router Initializer");var Qd=F(4986),Jn=F(5813),cs=F(2011),Ow=F(3942),De=F(5861),Js=F(9681),Rt=F(2090),mf=F(4859);const D_="firebasestorage.googleapis.com",kw="storageBucket";class lr extends Rt.ZR{constructor(e,t){super(Xs(e),`Firebase Storage: ${t} (${Xs(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lr.prototype)}_codeEquals(e){return Xs(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Xs(n){return"storage/"+n}function T_(){return new lr("unknown","An unknown error occurred, please check the error payload for server response.")}function Lw(){return new lr("canceled","User canceled the upload/download.")}function A_(){return new lr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Pc(n){return new lr("invalid-argument",n)}function So(){return new lr("app-deleted","The Firebase app was deleted.")}function x_(n){return new lr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _f(n,e){return new lr("invalid-format","String does not match format '"+n+"': "+e)}function Mu(n){throw new lr("internal-error","Internal error: "+n)}class qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=qn.makeFromUrl(e,t)}catch(o){return new qn(e,"")}if(""===r.path)return r;throw function RE(n){return new lr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+o+"(/(.*))?$","i");function T(pt){pt.path_=decodeURIComponent(pt.path)}const R=t.replace(/[.]/g,"\\."),It=[{regex:m,indices:{bucket:1,path:3},postModify:function c(pt){"/"===pt.path.charAt(pt.path.length-1)&&(pt.path_=pt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${t===D_?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let pt=0;pt<It.length;pt++){const Ot=It[pt],$t=Ot.regex.exec(e);if($t){let Zc=$t[Ot.indices.path];Zc||(Zc=""),r=new qn($t[Ot.indices.bucket],Zc),Ot.postModify(r);break}}if(null==r)throw function kE(n){return new lr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class S_{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Pu(n){return"string"==typeof n||n instanceof String}function yf(n){return vf()&&n instanceof Blob}function vf(){return"undefined"!=typeof Blob}function wf(n,e,t,r){if(r<e)throw Pc(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Pc(`Invalid value for '${n}'. Expected ${t} or less.`)}function da(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function NE(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Ol=(()=>{return(n=Ol||(Ol={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Ol;var n})();class FE{constructor(e,t,r,o,c,d,m,v,T,M,R){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=v,this.timeout_=T,this.progressCallback_=M,this.connectionFactory_=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,X)=>{this.resolve_=$,this.reject_=X,this.start_()})}start_(){const t=(r,o)=>{const c=this.resolve_,d=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const v=this.callback_(m,m.getResponse());!function ux(n){return void 0!==n}(v)?c():c(v)}catch(v){d(v)}else if(null!==m){const v=T_();v.serverResponse=m.getErrorText(),d(this.errorCallback_?this.errorCallback_(m,v):v)}else d(o.canceled?this.appDelete_?So():Lw():function Fw(){return new lr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new vg(!1,null,!0)):this.backoffId_=function Bw(n,e,t){let r=1,o=null,c=null,d=!1,m=0;function v(){return 2===m}let T=!1;function M(...Be){T||(T=!0,e.apply(null,Be))}function R(Be){o=setTimeout(()=>{o=null,n(X,v())},Be)}function $(){c&&clearTimeout(c)}function X(Be,...Et){if(T)return void $();if(Be)return $(),void M.call(null,Be,...Et);if(v()||d)return $(),void M.call(null,Be,...Et);let It;r<64&&(r*=2),1===m?(m=2,It=0):It=1e3*(r+Math.random()),R(It)}let se=!1;function Re(Be){se||(se=!0,$(),!T&&(null!==o?(Be||(m=2),clearTimeout(o),R(0)):Be||(m=1)))}return R(0),c=setTimeout(()=>{d=!0,Re(!0)},t),Re}((r,o)=>{if(o)return void r(!1,new vg(!1,null,!0));const c=this.connectionFactory_();this.pendingConnection_=c;const d=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const m=c.getErrorCode()===Ol.NO_ERROR,v=c.getStatus();if(!m||this.isRetryStatusCode_(v)){const M=c.getErrorCode()===Ol.ABORT;return void r(!1,new vg(!1,null,M))}const T=-1!==this.successCodes_.indexOf(v);r(!0,new vg(T,c))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function M_(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),c=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||c}}class vg{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function qw(...n){const e=function $w(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(vf())return new Blob(n);throw new lr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Mo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gw{constructor(e,t){this.data=e,this.contentType=t||null}}function Zw(n,e){switch(n){case Mo.RAW:return new Gw(BE(e));case Mo.BASE64:case Mo.BASE64URL:return new Gw(jE(n,e));case Mo.DATA_URL:return new Gw(function gx(n){const e=new HE(n);return e.base64?jE(Mo.BASE64,e.rest):function px(n){let e;try{e=decodeURIComponent(n)}catch(t){throw _f(Mo.DATA_URL,"Malformed data URL.")}return BE(e)}(e.rest)}(e),function mx(n){return new HE(n).contentType}(e))}throw T_()}function BE(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function jE(n,e){switch(n){case Mo.BASE64:{const o=-1!==e.indexOf("-"),c=-1!==e.indexOf("_");if(o||c)throw _f(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Mo.BASE64URL:{const o=-1!==e.indexOf("+"),c=-1!==e.indexOf("/");if(o||c)throw _f(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function P_(n){return atob(n)}(e)}catch(o){throw _f(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class HE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw _f(Mo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function _x(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Ai{constructor(e,t){let r=0,o="";yf(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(yf(this.data_)){const o=function UE(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new Ai(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ai(r,!0)}}static getBlob(...e){if(vf()){const t=e.map(r=>r instanceof Ai?r.data_:r);return new Ai(qw.apply(null,t))}{const t=e.map(d=>Pu(d)?Zw(Mo.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const o=new Uint8Array(r);let c=0;return t.forEach(d=>{for(let m=0;m<d.length;m++)o[c++]=d[m]}),new Ai(o,!0)}}uploadData(){return this.data_}}function Cf(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function dx(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function wg(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Ww(n,e){return e}class xi{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||Ww}}let Cg=null;function Jd(){if(Cg)return Cg;const n=[];n.push(new xi("bucket")),n.push(new xi("generation")),n.push(new xi("metageneration")),n.push(new xi("name","fullPath",!0));const t=new xi("name");t.xform=function e(c,d){return function kl(n){return!Pu(n)||n.length<2?n:wg(n)}(d)},n.push(t);const o=new xi("size");return o.xform=function r(c,d){return void 0!==d?Number(d):d},n.push(o),n.push(new xi("timeCreated")),n.push(new xi("updated")),n.push(new xi("md5Hash",null,!0)),n.push(new xi("cacheControl",null,!0)),n.push(new xi("contentDisposition",null,!0)),n.push(new xi("contentEncoding",null,!0)),n.push(new xi("contentLanguage",null,!0)),n.push(new xi("contentType",null,!0)),n.push(new xi("metadata","customMetadata",!0)),Cg=n,Cg}function Kw(n,e,t){const r=Cf(e);return null===r?null:function O_(n,e,t){const r={type:"file"},o=t.length;for(let c=0;c<o;c++){const d=t[c];r[d.local]=d.xform(r,e[d.server])}return function qE(n,e){Object.defineProperty(n,"ref",{get:function t(){const c=new qn(n.bucket,n.fullPath);return e._makeStorageReference(c)}})}(r,n),r}(n,r,t)}function k_(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}const Qw="prefixes";class ls{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Os(n){if(!n)throw T_()}function Oc(n,e){return function t(r,o){const c=Kw(n,o,e);return Os(null!==c),c}}function Ou(n){return function e(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function PE(){return new lr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ME(){return new lr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function SE(n){return new lr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function OE(n){return new lr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function ku(n){const e=Ou(n);return function t(r,o){let c=e(r,o);return 404===r.getStatus()&&(c=function Nw(n){return new lr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),c.serverResponse=o.serverResponse,c}}function bg(n,e,t){const o=da(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,m=new ls(o,"GET",Oc(n,t),d);return m.errorHandler=ku(e),m}function Xw(n,e,t,r,o){const c={};c.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(c.delimiter=t),r&&(c.pageToken=r),o&&(c.maxResults=o);const m=da(e.bucketOnlyServerUrl(),n.host,n._protocol),T=n.maxOperationRetryTime,M=new ls(m,"GET",function GE(n,e){return function t(r,o){const c=function R_(n,e,t){const r=Cf(t);return null===r?null:function eh(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Qw])for(const o of t[Qw]){const c=o.replace(/\/$/,""),d=n._makeStorageReference(new qn(e,c));r.prefixes.push(d)}if(t.items)for(const o of t.items){const c=n._makeStorageReference(new qn(e,o.name));r.items.push(c)}return r}(n,e,r)}(n,e,o);return Os(null!==c),c}}(n,e.bucket),T);return M.urlParams=c,M.errorHandler=Ou(e),M}function N_(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function t0(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class Ef{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function F_(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){Os(!1)}return Os(!!t&&-1!==(e||["active"]).indexOf(t)),t}const vx={STATE_CHANGED:"state_changed"},ks={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Eg(n){switch(n){case"running":case"pausing":case"canceling":return ks.RUNNING;case"paused":return ks.PAUSED;case"success":return ks.SUCCESS;case"canceled":return ks.CANCELED;default:return ks.ERROR}}class wx{constructor(e,t,r){if(function jw(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function th(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class KE extends class s0{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ol.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ol.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ol.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw Mu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ha(){return new KE}class c0{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Jd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,c)=>{this._resolve=o,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function zE(n,e,t,r,o){const c=e.bucketOnlyServerUrl(),d=N_(e,r,o),m={name:d.fullPath},v=da(c,n.host,n._protocol),M={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},R=k_(d,t),se=new ls(v,"POST",function X(Re){let Be;F_(Re);try{Be=Re.getResponseHeader("X-Goog-Upload-URL")}catch(Et){Os(!1)}return Os(Pu(Be)),Be},n.maxUploadRetryTime);return se.urlParams=m,se.headers=M,se.body=R,se.errorHandler=Ou(e),se}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,ha,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function eo(n,e,t,r){const v=new ls(t,"POST",function c(T){const M=F_(T,["active","final"]);let R=null;try{R=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch(X){Os(!1)}R||Os(!1);const $=Number(R);return Os(!isNaN($)),new Ef($,r.size(),"final"===M)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=Ou(e),v}(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(o,ha,t,r);this._request=c,c.getPromise().then(d=>{this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Ef(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,c)=>{let d;try{d=function WE(n,e,t,r,o,c,d,m){const v=new Ef(0,0);if(d?(v.current=d.current,v.total=d.total):(v.current=0,v.total=r.size()),r.size()!==v.total)throw function Vw(){return new lr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const T=v.total-v.current;let M=T;o>0&&(M=Math.min(M,o));const R=v.current,se={"X-Goog-Upload-Command":M===T?"upload, finalize":"upload","X-Goog-Upload-Offset":`${v.current}`},Re=r.slice(R,R+M);if(null===Re)throw A_();const It=new ls(t,"POST",function Be(pt,Ot){const $t=F_(pt,["active","final"]),Dr=v.current+M,Zc=r.size();let lx;return lx="final"===$t?Oc(e,c)(pt,Ot):null,new Ef(Dr,Zc,"final"===$t,lx)},e.maxUploadRetryTime);return It.headers=se,It.body=Re.uploadData(),It.progressCallback=m||null,It.errorHandler=Ou(n),It}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const m=this._ref.storage._makeRequest(d,ha,o,c);this._request=m,m.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=bg(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,ha,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function n0(n,e,t,r,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},v=function m(){let It="";for(let pt=0;pt<2;pt++)It+=Math.random().toString().slice(2);return It}();d["Content-Type"]="multipart/related; boundary="+v;const T=N_(e,r,o),M=k_(T,t),X=Ai.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+v+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",r,"\r\n--"+v+"--");if(null===X)throw A_();const se={name:T.fullPath},Re=da(c,n.host,n._protocol),Et=n.maxUploadRetryTime,Mt=new ls(Re,"POST",Oc(n,t),Et);return Mt.urlParams=se,Mt.headers=d,Mt.body=X.uploadData(),Mt.errorHandler=Ou(e),Mt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,ha,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Lw(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Eg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const c=new wx(t||void 0,r||void 0,o||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Eg(this._state)){case ks.SUCCESS:th(this._resolve.bind(null,this.snapshot))();break;case ks.CANCELED:case ks.ERROR:th(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Eg(this._state)){case ks.RUNNING:case ks.PAUSED:e.next&&th(e.next.bind(e,this.snapshot))();break;case ks.SUCCESS:e.complete&&th(e.complete.bind(e))();break;default:e.error&&th(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ru{constructor(e,t){this._service=e,this._location=t instanceof qn?t:qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ru(e,t)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wg(this._location.path)}get storage(){return this._service}get parent(){const e=function $E(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new qn(this._location.bucket,e);return new Ru(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw x_(e)}}function h0(n,e,t){return f0.apply(this,arguments)}function f0(){return(f0=(0,De.Z)(function*(n,e,t){const o=yield V_(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield h0(n,e,o.nextPageToken))})).apply(this,arguments)}function V_(n,e){null!=e&&"number"==typeof e.maxResults&&wf("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=Xw(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,ha)}function tI(n){n._throwIfRoot("getDownloadURL");const e=function ZE(n,e,t){const o=da(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,m=new ls(o,"GET",function Jw(n,e){return function t(r,o){const c=Kw(n,o,e);return Os(null!==c),function Yw(n,e,t,r){const o=Cf(e);if(null===o||!Pu(o.downloadTokens))return null;const c=o.downloadTokens;if(0===c.length)return null;const d=encodeURIComponent;return c.split(",").map(T=>{const R=n.fullPath;return da("/b/"+d(n.bucket)+"/o/"+d(R),t,r)+NE({alt:"media",token:T})})[0]}(c,o,n.host,n._protocol)}}(n,t),d);return m.errorHandler=ku(e),m}(n.storage,n._location,Jd());return n.storage.makeRequestWithTokens(e,ha).then(t=>{if(null===t)throw function Uw(){return new lr("no-download-url","The given file does not have any download URLs.")}();return t})}function p0(n,e){const t=function zw(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new qn(n._location.bucket,t);return new Ru(n.storage,r)}function Tg(n,e){if(n instanceof xg){const t=n;if(null==t._bucket)throw function jt(){return new lr("no-default-bucket","No default bucket found. Did you set the '"+kw+"' property when initializing the app?")}();const r=new Ru(t,t._bucket);return null!=e?Tg(r,e):r}return void 0!==e?p0(n,e):n}function rI(n,e){if(e&&function nI(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof xg)return function Dg(n,e){return new Ru(n,e)}(n,e);throw Pc("To use ref(service, url), the first argument must be a Storage instance.")}return Tg(n,e)}function Ag(n,e){const t=null==e?void 0:e[kw];return null==t?null:qn.makeFromBucketSpec(t,n)}class xg{constructor(e,t,r,o,c){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=D_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?qn.makeFromBucketSpec(o,this._host):Ag(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?qn.makeFromBucketSpec(this._url,e):Ag(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wf("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wf("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,De.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,De.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ru(this,e)}_makeRequest(e,t,r,o){if(this._deleted)return new S_(So());{const c=function fx(n,e,t,r,o,c){const d=NE(n.urlParams),m=n.url+d,v=Object.assign({},n.headers);return function hx(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function LE(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function Hw(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(v,c),function VE(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new FE(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,r,o,t,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,De.Z)(function*(){const[o,c]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,c).getPromise()})()}}const iI="@firebase/storage";function v0(n,e){return rI(n=(0,Rt.m9)(n),e)}function cI(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new xg(t,r,o,e,Js.SDK_VERSION)}!function j_(){(0,Js._registerComponent)(new mf.wA("storage",cI,"PUBLIC").setMultipleInstances(!0)),(0,Js.registerVersion)(iI,"0.9.9",""),(0,Js.registerVersion)(iI,"0.9.9","esm2017")}();class If{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class H_{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new If(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new If(r,this,this._ref))},t)}on(e,t,r,o){let c;return t&&(c="function"==typeof t?d=>t(new If(d,this,this._ref)):{next:t.next?d=>t.next(new If(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,c,r||void 0,o||void 0)}}class $_{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Rc(e,this._service))}get items(){return this._delegate.items.map(e=>new Rc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Rc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function bx(n,e){return p0(n,e)}(this._delegate,e);return new Rc(t,this.storage)}get root(){return new Rc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Rc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new H_(function g0(n,e,t){return function qa(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new c0(n,new Ai(e),t)}(n=(0,Rt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Mo.RAW,r){this._throwIfRoot("putString");const o=Zw(t,e),c=Object.assign({},r);return null==c.contentType&&null!=o.contentType&&(c.contentType=o.contentType),new H_(new c0(this._delegate,new Ai(o.data,!0),c),this)}listAll(){return function kc(n){return function JE(n){const e={prefixes:[],items:[]};return h0(n,e).then(()=>e)}(n=(0,Rt.m9)(n))}(this._delegate).then(e=>new $_(e,this.storage))}list(e){return function y0(n,e){return V_(n=(0,Rt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new $_(t,this.storage))}getMetadata(){return function m0(n){return function XE(n){n._throwIfRoot("getMetadata");const e=bg(n.storage,n._location,Jd());return n.storage.makeRequestWithTokens(e,ha)}(n=(0,Rt.m9)(n))}(this._delegate)}updateMetadata(e){return function _0(n,e){return function eI(n,e){n._throwIfRoot("updateMetadata");const t=function e0(n,e,t,r){const c=da(e.fullServerUrl(),n.host,n._protocol),m=k_(t,r),T=n.maxOperationRetryTime,M=new ls(c,"PATCH",Oc(n,r),T);return M.headers={"Content-Type":"application/json; charset=utf-8"},M.body=m,M.errorHandler=ku(e),M}(n.storage,n._location,e,Jd());return n.storage.makeRequestWithTokens(t,ha)}(n=(0,Rt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function Mg(n){return tI(n=(0,Rt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function aI(n){return function U_(n){n._throwIfRoot("deleteObject");const e=function yx(n,e){const r=da(e.fullServerUrl(),n.host,n._protocol),m=new ls(r,"DELETE",function d(v,T){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=ku(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ha)}(n=(0,Rt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw x_(e)}}class Og{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(E0(e))throw Pc("ref() expected a child path but got a URL, use refFromURL instead.");return new Rc(v0(this._delegate,e),this)}refFromURL(e){if(!E0(e))throw Pc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{qn.makeFromUrl(e,this._delegate.host)}catch(t){throw Pc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Rc(v0(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function C0(n,e,t,r={}){!function B_(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,Rt.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function E0(n){return/^[A-Za-z]+:\/\//.test(n)}function D0(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new Og(t,r)}!function uI(n){const e={TaskState:ks,TaskEvent:vx,StringFormat:Mo,Storage:Og,Reference:Rc};n.INTERNAL.registerComponent(new mf.wA("storage-compat",D0,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(Ow.Z),F(5867);var Lc=F(1877);const M0=new Map,mI={activated:!1,tokenObservers:[]},xx={initialized:!1,enabled:!1};function Si(n){return M0.get(n)||mI}function to(n,e){M0.set(n,e)}function kg(){return xx}class O0{constructor(e,t,r,o,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,De.Z)(function*(){t.stop();try{t.pending=new Rt.BH,yield function k0(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Rt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const us=new Rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Z_(n){if(!Si(n).activated)throw us.create("use-before-activation",{appName:n.name})}function Tf(n,e){return z_.apply(this,arguments)}function z_(){return(z_=(0,De.Z)(function*({url:n,body:e},t){var r,o;const c={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const X=yield d.getHeartbeatsHeader();X&&(c["X-Firebase-Client"]=X)}const m={method:"POST",body:JSON.stringify(e),headers:c};let v,T;try{v=yield fetch(n,m)}catch(X){throw us.create("fetch-network-error",{originalErrorMessage:null===(r=X)||void 0===r?void 0:r.message})}if(200!==v.status)throw us.create("fetch-status-error",{httpStatus:v.status});try{T=yield v.json()}catch(X){throw us.create("fetch-parse-error",{originalErrorMessage:null===(o=X)||void 0===o?void 0:o.message})}const M=T.ttl.match(/^([\d.]+)(s)$/);if(!M||!M[2]||isNaN(Number(M[1])))throw us.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${T.ttl}`});const R=1e3*Number(M[1]),$=Date.now();return{token:T.token,expireTimeMillis:$+R,issuedAtTimeMillis:$}})).apply(this,arguments)}function wI(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Rl="firebase-app-check-store";let Fg=null;function rh(){return Fg||(Fg=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var c;e(us.create("storage-open",{originalErrorMessage:null===(c=o.target.error)||void 0===c?void 0:c.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Rl,{keyPath:"compositeKey"})}}catch(r){e(us.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Fg)}function ai(){return(ai=(0,De.Z)(function*(n,e){const r=(yield rh()).transaction(Rl,"readwrite"),c=r.objectStore(Rl).put({compositeKey:n,value:e});return new Promise((d,m)=>{c.onsuccess=v=>{d()},r.onerror=v=>{var T;m(us.create("storage-set",{originalErrorMessage:null===(T=v.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const Fu=new Lc.Yd("@firebase/app-check");function Lu(n,e){return(0,Rt.hl)()?function II(n,e){return function ih(n,e){return ai.apply(this,arguments)}(function no(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Fu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Vu(){return kg().enabled}function Uu(){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,De.Z)(function*(){const n=kg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const N0={error:"UNKNOWN_ERROR"};function F0(n){return Rt.US.encodeString(JSON.stringify(n),!1)}function Af(n){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,De.Z)(function*(n,e=!1){const t=n.app;Z_(t);const r=Si(t);let c,o=r.token;if(!o){const v=yield r.cachedTokenPromise;v&&Bg(v)&&(o=v)}if(!e&&o&&Bg(o))return{token:o.token};let m,d=!1;if(Vu()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Tf(wI(t,yield Uu()),n.heartbeatServiceProvider).then(T=>(r.exchangeTokenPromise=void 0,T)),d=!0);const v=yield r.exchangeTokenPromise;return yield Lu(t,v),to(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),d=!0),o=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Fu.warn(v.message):Fu.error(v),c=v}return o?(m={token:o.token},to(t,Object.assign(Object.assign({},r),{token:o})),yield Lu(t,o)):m=V0(c),d&&Y_(t,m),m})).apply(this,arguments)}function Ug(n,e){const t=Si(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),to(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function K_(n){const{app:e}=n,t=Si(e);let r=t.tokenRefresher;r||(r=function L0(n){const{app:e}=n;return new O0((0,De.Z)(function*(){let r;if(r=Si(e).token?yield Af(n,!0):yield Af(n),r.error)throw r.error}),()=>!0,()=>{const t=Si(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),to(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Y_(n,e){const t=Si(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Bg(n){return n.expireTimeMillis-Date.now()>0}function V0(n){return{token:F0(N0),error:n}}class DI{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Si(this.app);for(const t of e)Ug(this.app,t.next);return Promise.resolve()}}const q0="app-check-internal";!function G0(){(0,Js._registerComponent)(new mf.wA("app-check",n=>function TI(n,e){return new DI(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(q0).initialize()})),(0,Js._registerComponent)(new mf.wA(q0,n=>function U0(n){return{getToken:e=>Af(n,e),addTokenListener:e=>function Vg(n,e,t,r){const{app:o}=n,c=Si(o),d={next:t,error:r,type:e};if(to(o,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,d]})),c.token&&Bg(c.token)){const m=c.token;Promise.resolve().then(()=>{t({token:m.token}),K_(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>K_(n))}(n,"INTERNAL",e),removeTokenListener:e=>Ug(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Js.registerVersion)("@firebase/app-check","0.5.12")}();class $g{constructor(){return(0,Jn.vb)("app-check")}}"undefined"!=typeof window&&window;var $I=F(127);function Sf(n){const e=function Gg(n){return new P.y(e=>{const t=d=>e.next(d);t(n.snapshot);const c=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){c()}}).pipe(function AE(n,e=Qd.z){return(0,ar.e)((t,r)=>{let o=null,c=null,d=null;const m=()=>{if(o){o.unsubscribe(),o=null;const T=c;c=null,r.next(T)}};function v(){const T=d+n,M=e.now();if(M<T)return o=this.schedule(void 0,T-M),void r.add(o);m()}t.subscribe((0,Or.x)(r,T=>{c=T,d=e.now(),o||(o=e.schedule(v,n),r.add(o))},()=>{m(),r.complete()},void 0,()=>{c=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Dt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function uh(n){return{getDownloadURL:()=>ot(void 0).pipe(Jn.fc,Fn(()=>n.getDownloadURL()),Jn.iC),getMetadata:()=>ot(void 0).pipe(Jn.fc,Fn(()=>n.getMetadata()),Jn.iC),delete:()=>(0,pn.D)(n.delete()),child:e=>uh(n.child(e)),updateMetadata:e=>(0,pn.D)(n.updateMetadata(e)),put:(e,t)=>Sf(n.put(e,t)),putString:(e,t,r)=>Sf(n.putString(e,t,r)),list:e=>(0,pn.D)(n.list(e)),listAll:()=>(0,pn.D)(n.listAll())}}const Nx=new l.OlP("angularfire2.storageBucket"),qI=new l.OlP("angularfire2.storage.maxUploadRetryTime"),ry=new l.OlP("angularfire2.storage.maxOperationRetryTime"),iy=new l.OlP("angularfire2.storage.use-emulator");let Q0=(()=>{class n{constructor(t,r,o,c,d,m,v,T,M,R){const $=(0,cs.on)(t,d,r);this.storage=(0,cs.cc)(`${$.name}.storage.${o}`,"AngularFireStorage",$.name,()=>{const X=d.runOutsideAngular(()=>$.storage(o||void 0)),se=M;return se&&X.useEmulator(...se),v&&X.setMaxUploadRetryTime(v),T&&X.setMaxOperationRetryTime(T),X},[v,T])}ref(t){return uh(this.storage.ref(t))}refFromURL(t){return uh(this.storage.refFromURL(t))}upload(t,r,o){return uh(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cs.Dh),l.LFG(cs.xv,8),l.LFG(Nx,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Jn.HU),l.LFG(qI,8),l.LFG(ry,8),l.LFG(iy,8),l.LFG($g,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Zg(){return(0,ar.e)((n,e)=>{let t,r=!1;n.subscribe((0,Or.x)(e,o=>{const c=t;t=o,r&&e.next([c,o]),r=!0}))})}function X0(n,e){return n===e}F(1451);var at,eC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Za={},zg=zg||{},Ut=eC||self;function Wg(){}function oy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function dh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Kg="closure_uid_"+(1e9*Math.random()>>>0),tC=0;function nC(n,e,t){return n.call.apply(n.bind,arguments)}function rC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function ci(n,e,t){return(ci=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nC:rC).apply(null,arguments)}function Mf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function li(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,c){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function Vc(){this.s=this.s,this.o=this.o}var zI={};Vc.prototype.s=!1,Vc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function ay(n){return Object.prototype.hasOwnProperty.call(n,Kg)&&n[Kg]||(n[Kg]=++tC)}(this);delete zI[n]}},Vc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},cy=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in o&&e.call(t,o[c],c,n)};function Rr(n){return Array.prototype.concat.apply([],arguments)}function Yg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Qg(n){return/^[\s\xa0]*$/.test(n)}var Wi,sC=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function zi(n,e){return-1!=n.indexOf(e)}function ly(n,e){return n<e?-1:n>e?1:0}e:{var uy=Ut.navigator;if(uy){var Bu=uy.userAgent;if(Bu){Wi=Bu;break e}}Wi=""}function dy(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function oC(n){const e={};for(const t in n)e[t]=n[t];return e}var hy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aC(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let c=0;c<hy.length;c++)t=hy[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Jg(n){return Jg[" "](n),n}Jg[" "]=Wg;var Rs,n,cC=zi(Wi,"Opera"),Ul=zi(Wi,"Trident")||zi(Wi,"MSIE"),pa=zi(Wi,"Edge"),fy=pa||Ul,lC=zi(Wi,"Gecko")&&!(zi(Wi.toLowerCase(),"webkit")&&!zi(Wi,"Edge"))&&!(zi(Wi,"Trident")||zi(Wi,"MSIE"))&&!zi(Wi,"Edge"),za=zi(Wi.toLowerCase(),"webkit")&&!zi(Wi,"Edge");function Po(){var n=Ut.document;return n?n.documentMode:void 0}e:{var Xg="",em=(n=Wi,lC?/rv:([^\);]+)(\)|;)/.exec(n):pa?/Edge\/([\d\.]+)/.exec(n):Ul?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):za?/WebKit\/(\S+)/.exec(n):cC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(em&&(Xg=em?em[1]:""),Ul){var py=Po();if(null!=py&&py>parseFloat(Xg)){Rs=String(py);break e}}Rs=Xg}var KI={};var Pf=Ut.document&&Ul&&(Po()||parseInt(Rs,10))||void 0,QI=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ut.addEventListener("test",Wg,e),Ut.removeEventListener("test",Wg,e)}catch(t){}return n}();function Mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Of(n,e){if(Mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(lC){e:{try{Jg(e.nodeName);var o=!0;break e}catch(c){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:uC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Of.Z.h.call(this)}}Mi.prototype.h=function(){this.defaultPrevented=!0},li(Of,Mi);var uC={2:"touch",3:"pen",4:"mouse"};Of.prototype.h=function(){Of.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var hh="closure_listenable_"+(1e6*Math.random()|0),nm=0;function JI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++nm,this.ca=this.fa=!1}function kf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Rf(n){this.src=n,this.g={},this.h=0}function Nf(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],o=iC(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(kf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function fh(n,e,t,r){for(var o=0;o<n.length;++o){var c=n[o];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==r)return o}return-1}Rf.prototype.add=function(n,e,t,r,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var d=fh(n,e,r,o);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new JI(e,this.src,c,!!r,o)).fa=t,n.push(e)),e};var rm="closure_lm_"+(1e6*Math.random()|0),im={};function my(n,e,t,r,o){if(r&&r.once)return yy(n,e,t,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)my(n,e[c],t,r,o);return null}return t=by(t),n&&n[hh]?n.N(e,t,dh(r)?!!r.capture:!!r,o):_y(n,e,t,!1,r,o)}function _y(n,e,t,r,o,c){if(!e)throw Error("Invalid event type");var d=dh(o)?!!o.capture:!!o,m=wy(n);if(m||(n[rm]=m=new Rf(n)),(t=m.add(e,t,r,d,c)).proxy)return t;if(r=function dC(){var e=XI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)QI||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(hC(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function yy(n,e,t,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)yy(n,e[c],t,r,o);return null}return t=by(t),n&&n[hh]?n.O(e,t,dh(r)?!!r.capture:!!r,o):_y(n,e,t,!0,r,o)}function vy(n,e,t,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)vy(n,e[c],t,r,o);else r=dh(r)?!!r.capture:!!r,t=by(t),n&&n[hh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=fh(c=n.g[e],t,r,o))&&(kf(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=wy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=fh(e,t,r,o)),(t=-1<n?e[n]:null)&&sm(t))}function sm(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[hh])Nf(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(hC(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=wy(e))?(Nf(t,n),0==t.h&&(t.src=null,e[rm]=null)):kf(n)}}}function hC(n){return n in im?im[n]:im[n]="on"+n}function XI(n,e){if(n.ca)n=!0;else{e=new Of(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&sm(n),n=t.call(r,e)}return n}function wy(n){return(n=n[rm])instanceof Rf?n:null}var Cy="__closure_events_fn_"+(1e9*Math.random()>>>0);function by(n){return"function"==typeof n?n:(n[Cy]||(n[Cy]=function(e){return n.handleEvent(e)}),n[Cy])}function ui(){Vc.call(this),this.i=new Rf(this),this.P=this,this.I=null}function Pi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Mi(e,n);else if(e instanceof Mi)e.target=e.target||n;else{var o=e;aC(e=new Mi(r,n),o)}if(o=!0,t)for(var c=t.length-1;0<=c;c--){var d=e.g=t[c];o=om(d,r,!0,e)&&o}if(o=om(d=e.g=n,r,!0,e)&&o,o=om(d,r,!1,e)&&o,t)for(c=0;c<t.length;c++)o=om(d=e.g=t[c],r,!1,e)&&o}function om(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var d=e[c];if(d&&!d.ca&&d.capture==t){var m=d.listener,v=d.ia||d.src;d.fa&&Nf(n.i,d),o=!1!==m.call(v,r)&&o}}return o&&!r.defaultPrevented}li(ui,Vc),ui.prototype[hh]=!0,ui.prototype.removeEventListener=function(n,e,t,r){vy(this,n,e,t,r)},ui.prototype.M=function(){if(ui.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)kf(t[r]);delete n.g[e],n.h--}}this.I=null},ui.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ui.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ey=Ut.JSON.stringify;function eD(){var n=Ay;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Dy,fC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new nD,n=>n.reset());class nD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rD(n){Ut.setTimeout(()=>{throw n},0)}function Iy(n,e){Dy||function iD(){var n=Ut.Promise.resolve(void 0);Dy=function(){n.then(pC)}}(),Ty||(Dy(),Ty=!0),Ay.add(n,e)}var Ty=!1,Ay=new class tD{constructor(){this.h=this.g=null}add(e,t){const r=fC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function pC(){for(var n;n=eD();){try{n.h.call(n.g)}catch(t){rD(t)}var e=fC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ty=!1}function Ff(n,e){ui.call(this),this.h=n||1,this.g=e||Ut,this.j=ci(this.kb,this),this.l=Date.now()}function am(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function cm(n,e,t){if("function"==typeof n)t&&(n=ci(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ci(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ut.setTimeout(n,e||0)}function xy(n){n.g=cm(()=>{n.g=null,n.i&&(n.i=!1,xy(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}li(Ff,ui),(at=Ff.prototype).da=!1,at.S=null,at.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pi(this,"tick"),this.da&&(am(this),this.start()))}},at.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.M=function(){Ff.Z.M.call(this),am(this),delete this.g};class gC extends Vc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xy(this)}M(){super.M(),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ph(n){Vc.call(this),this.h=n,this.g={}}li(ph,Vc);var Sy=[];function My(n,e,t,r){Array.isArray(t)||(t&&(Sy[0]=t.toString()),t=Sy);for(var o=0;o<t.length;o++){var c=my(e,t[o],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function Py(n){dy(n.g,function(e,t){this.g.hasOwnProperty(t)&&sm(e)},n),n.g={}}function Wa(){this.g=!0}function ga(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Oy(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var d=1;d<o.length;d++)o[d]=""}}}return Ey(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}ph.prototype.M=function(){ph.Z.M.call(this),Py(this)},ph.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wa.prototype.Aa=function(){this.g=!1},Wa.prototype.info=function(){};var gh={},ky=null;function Lf(){return ky=ky||new ui}function aD(n){Mi.call(this,gh.Ma,n)}function Ct(n){const e=Lf();Pi(e,new aD(e,n))}function mC(n,e){Mi.call(this,gh.STAT_EVENT,n),this.stat=e}function ds(n){const e=Lf();Pi(e,new mC(e,n))}function _C(n,e){Mi.call(this,gh.Na,n),this.size=e}function Bl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ut.setTimeout(function(){n()},e)}gh.Ma="serverreachability",li(aD,Mi),gh.STAT_EVENT="statevent",li(mC,Mi),gh.Na="timingevent",li(_C,Mi);var lm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mh(){}function cD(){}mh.prototype.h=null;var um,_h={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ry(){Mi.call(this,"d")}function Ny(){Mi.call(this,"c")}function Uf(){}function yh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new ph(this),this.P=lD,this.W=new Ff(n=fy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Fy}function Fy(){this.i=null,this.g="",this.h=!1}li(Ry,Mi),li(Ny,Mi),li(Uf,mh),Uf.prototype.g=function(){return new XMLHttpRequest},Uf.prototype.i=function(){return{}},um=new Uf;var lD=45e3,Ly={},dm={};function ju(n,e,t){n.K=1,n.v=Hf(Uc(e)),n.s=t,n.U=!0,yC(n,null)}function yC(n,e){n.F=Date.now(),vh(n),n.A=Uc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),EC(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Fy,n.g=ev(n.l,t?e:null,!n.s),0<n.O&&(n.L=new gC(ci(n.Ia,n,n.g),n.O)),My(n.V,n.g,"readystatechange",n.gb),e=n.H?oC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ct(1),function sD(n,e,t,r,o,c){n.info(function(){if(n.g)if(c)for(var d="",m=c.split("&"),v=0;v<m.length;v++){var T=m[v].split("=");if(1<T.length){var M=T[0];T=T[1];var R=M.split("_");d=2<=R.length&&"type"==R[1]?d+(M+"=")+T+"&":d+(M+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function vC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function wC(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=hm(n,t),o==dm){4==e&&(n.o=4,ds(14),r=!1),ga(n.j,n.m,null,"[Incomplete Response]");break}if(o==Ly){n.o=4,ds(15),ga(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ga(n.j,n.m,o,null),Hu(n,o)}vC(n)&&o!=dm&&o!=Ly&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ds(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Jy(e),e.L=!0,ds(11))):(ga(n.j,n.m,t,"[Invalid Chunked Response]"),ma(n),jf(n))}function hm(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?dm:(t=Number(e.substring(t,r)),isNaN(t)?Ly:(r+=1)+t>e.length?dm:(e=e.substr(r,t),n.C=r+t,e))}function vh(n){n.Y=Date.now()+n.P,Vy(n,n.P)}function Vy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bl(ci(n.eb,n),e)}function Bf(n){n.B&&(Ut.clearTimeout(n.B),n.B=null)}function jf(n){0==n.l.G||n.I||VC(n.l,n)}function ma(n){Bf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,am(n.W),Py(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Hu(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||$y(t.i,n)))if(t.I=n.N,!n.J&&$y(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Bl(ci(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Yf(t),bm(t)}zu(t),ds(18)}if(1>=mm(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else Wu(t,11)}else if((n.J||t.g==n)&&Yf(t),!Qg(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let T=o[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const M=T[3];null!=M&&(t.ma=M,t.h.info("VER="+t.ma));const R=T[4];null!=R&&(t.za=R,t.h.info("SVER="+t.za));const $=T[5];null!=$&&"number"==typeof $&&0<$&&(t.K=r=1.5*$,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const X=n.g;if(X){const se=X.g?X.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(se){var c=r.i;!c.g&&(zi(se,"spdy")||zi(se,"quic")||zi(se,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(_m(c,c.h),c.h=null))}if(r.D){const Re=X.g?X.g.getResponseHeader("X-HTTP-Session-Id"):null;Re&&(r.sa=Re,er(r.F,r.D,Re))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=Xy(r,r.H?r.la:null,r.W),d.J){qy(r.i,d);var m=d,v=r.K;v&&m.setTimeout(v),m.B&&(Bf(m),vh(m)),r.g=d}else Zu(r);0<t.l.length&&Kf(t)}else"stop"!=T[0]&&"close"!=T[0]||Wu(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Wu(t,7):Cm(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}Ct(4)}catch(T){}}function Uy(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(oy(n)||"string"==typeof n)cy(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(oy(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function uD(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(oy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var c=0;c<o;c++)e.call(void 0,r[c],t&&t[c],n)}}function wh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof wh)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function fm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];jl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)jl(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function jl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(at=yh.prototype).setTimeout=function(n){this.P=n},at.gb=function(n){n=n.target;const e=this.L;e&&3==Ka(n)?e.l():this.Ia(n)},at.Ia=function(n){try{if(n==this.g)e:{const M=Ka(this.g);var e=this.g.Da();const R=this.g.ba();if(!(3>M)&&(3!=M||fy||this.g&&(this.h.h||this.g.ga()||wm(this.g)))){this.I||4!=M||7==e||Ct(8==e||0>=R?3:2),Bf(this);var t=this.g.ba();this.N=t;t:if(vC(this)){var r=wm(this.g);n="";var o=r.length,c=4==Ka(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ma(this),jf(this);var d="";break t}this.h.i=new Ut.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function oD(n,e,t,r,o,c,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+c+" "+d})}(this.j,this.u,this.A,this.m,this.X,M,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,v=this.g;if((m=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qg(m)){var T=m;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,ds(12),ma(this),jf(this);break e}ga(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hu(this,t)}this.U?(wC(this,M,d),fy&&this.i&&3==M&&(My(this.V,this.W,"tick",this.fb),this.W.start())):(ga(this.j,this.m,d,null),Hu(this,d)),4==M&&ma(this),this.i&&!this.I&&(4==M?VC(this.l,this):(this.i=!1,vh(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,ds(12)):(this.o=0,ds(13)),ma(this),jf(this)}}}catch(M){}},at.fb=function(){if(this.g){var n=Ka(this.g),e=this.g.ga();this.C<e.length&&(Bf(this),wC(this,n,e),this.i&&4!=n&&vh(this))}},at.cancel=function(){this.I=!0,ma(this)},at.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Ux(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ct(3),ds(17)),ma(this),this.o=2,jf(this)):Vy(this,this.Y-n)},(at=wh.prototype).R=function(){fm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},at.T=function(){return fm(this),this.g.concat()},at.get=function(n,e){return jl(this.h,n)?this.h[n]:e},at.set=function(n,e){jl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},at.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],c=this.get(o);n.call(e,c,o,this)}};var By=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Hl){this.g=void 0!==e?e:n.g,pm(this,n.j),this.s=n.s,jy(this,n.i),Hy(this,n.m),this.l=n.l,e=n.h;var t=new bh;t.i=e.i,e.g&&(t.g=new wh(e.g),t.h=e.h),hD(this,t),this.o=n.o}else n&&(t=String(n).match(By))?(this.g=!!e,pm(this,t[1]||"",!0),this.s=$f(t[2]||""),jy(this,t[3]||"",!0),Hy(this,t[4]),this.l=$f(t[5]||"",!0),hD(this,t[6]||"",!0),this.o=$f(t[7]||"")):(this.g=!!e,this.h=new bh(null,this.g))}function Uc(n){return new Hl(n)}function pm(n,e,t){n.j=t?$f(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function jy(n,e,t){n.i=t?$f(e,!0):e}function Hy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function hD(n,e,t){e instanceof bh?(n.h=e,function yD(n,e){e&&!n.j&&($l(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(bC(this,r),EC(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ch(e,mD)),n.h=new bh(e,n.g))}function er(n,e,t){n.h.set(e,t)}function Hf(n){return er(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function $f(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ch(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qf),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qf(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Hl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ch(e,CC,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ch(e,CC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ch(t,"/"==t.charAt(0)?gD:pD,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ch(t,_D)),n.join("")};var CC=/[#\/\?@]/g,pD=/[#\?:]/g,gD=/[#\?]/g,mD=/[#\?@]/g,_D=/#/g;function bh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function $l(n){n.g||(n.g=new wh,n.h=0,n.i&&function dD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var c=n[t].substring(0,r);o=n[t].substring(r+1)}else c=n[t];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function bC(n,e){$l(n),e=qu(n,e),jl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,jl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&fm(n)))}function $u(n,e){return $l(n),e=qu(n,e),jl(n.g.h,e)}function EC(n,e,t){bC(n,e),0<t.length&&(n.i=null,n.g.set(qu(n,e),Yg(t)),n.h+=t.length)}function qu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function DC(n){this.l=n||TC,n=Ut.PerformanceNavigationTiming?0<(n=Ut.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ut.g&&Ut.g.Ea&&Ut.g.Ea()&&Ut.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=bh.prototype).add=function(n,e){$l(this),this.i=null,n=qu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},at.forEach=function(n,e){$l(this),this.g.forEach(function(t,r){cy(t,function(o){n.call(e,o,r,this)},this)},this)},at.T=function(){$l(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],c=0;c<o.length;c++)t.push(e[r]);return t},at.R=function(n){$l(this);var e=[];if("string"==typeof n)$u(this,n)&&(e=Rr(e,this.g.get(qu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Rr(e,n[t])}return e},at.set=function(n,e){return $l(this),this.i=null,$u(this,n=qu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},at.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var d=o;""!==r[c]&&(d+="="+encodeURIComponent(String(r[c]))),n.push(d)}}return this.i=n.join("&")};var TC=10;function AC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function mm(n){return n.h?1:n.g?n.g.size:0}function $y(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function _m(n,e){n.g?n.g.add(e):n.h=e}function qy(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function xC(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Yg(n.i)}function Gy(){}function vD(){this.g=new Gy}function Zy(n,e,t){const r=t||"";try{Uy(n,function(o,c){let d=o;dh(o)&&(d=Ey(o)),e.push(r+c+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Gf(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(c){}}function Zf(n){this.l=n.$b||null,this.j=n.ib||!1}function ym(n,e){ui.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=zy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}DC.prototype.cancel=function(){if(this.i=xC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Gy.prototype.stringify=function(n){return Ut.JSON.stringify(n,void 0)},Gy.prototype.parse=function(n){return Ut.JSON.parse(n,void 0)},li(Zf,mh),Zf.prototype.g=function(){return new ym(this.l,this.j)},Zf.prototype.i=function(n){return function(){return n}}({}),li(ym,ui);var zy=0;function SC(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function zf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Wf(n)}function Wf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=ym.prototype).open=function(n,e){if(this.readyState!=zy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Wf(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ut).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zf(this)),this.readyState=zy},at.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Wf(this)),this.g&&(this.readyState=3,Wf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ut.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SC(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},at.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?zf(this):Wf(this),3==this.readyState&&SC(this)}},at.Ua=function(n){this.g&&(this.response=this.responseText=n,zf(this))},at.Ta=function(n){this.g&&(this.response=n,zf(this))},at.ha=function(){this.g&&zf(this)},at.setRequestHeader=function(n,e){this.v.append(n,e)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ym.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var CD=Ut.JSON.parse;function Nr(n){ui.call(this),this.headers=new wh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Wy,this.K=this.L=!1}li(Nr,ui);var Wy="",MC=/^https?$/i,bD=["POST","PUT"];function PC(n){return"content-type"==n.toLowerCase()}function OC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,kC(n),Eh(n)}function kC(n){n.D||(n.D=!0,Pi(n,"complete"),Pi(n,"error"))}function RC(n){if(n.h&&void 0!==zg&&(!n.C[1]||4!=Ka(n)||2!=n.ba()))if(n.v&&4==Ka(n))cm(n.Fa,0,n);else if(Pi(n,"readystatechange"),4==Ka(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(By)[1]||null;if(!o&&Ut.self&&Ut.self.location){var c=Ut.self.location.protocol;o=c.substr(0,c.length-1)}r=!MC.test(o?o.toLowerCase():"")}t=r}if(t)Pi(n,"complete"),Pi(n,"success");else{n.m=6;try{var d=2<Ka(n)?n.g.statusText:""}catch(v){d=""}n.j=d+" ["+n.ba()+"]",kC(n)}}finally{Eh(n)}}}function Eh(n,e){if(n.g){vm(n);const t=n.g,r=n.C[0]?Wg:null;n.g=null,n.C=null,e||Pi(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function vm(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ut.clearTimeout(n.A),n.A=null)}function Ka(n){return n.g?n.g.readyState:0}function wm(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Wy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ky(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function ID(n){let e="";return dy(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):er(n,e,t))}function Gu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function NC(n){this.za=0,this.l=[],this.h=new Wa,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Gu("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Gu("baseRetryDelayMs",5e3,n),this.$a=Gu("retryDelaySeedMs",1e4,n),this.Ya=Gu("forwardChannelMaxRetries",2,n),this.ra=Gu("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new DC(n&&n.concurrentRequestLimit),this.Ca=new vD,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Cm(n){if(Yy(n),3==n.G){var e=n.V++,t=Uc(n.F);er(t,"SID",n.J),er(t,"RID",e),er(t,"TYPE","terminate"),ql(n,t),(e=new yh(n,n.h,e,void 0)).K=2,e.v=Hf(Uc(t)),t=!1,Ut.navigator&&Ut.navigator.sendBeacon&&(t=Ut.navigator.sendBeacon(e.v.toString(),"")),!t&&Ut.Image&&((new Image).src=e.v,t=!0),t||(e.g=ev(e.l,null),e.g.ea(e.v)),e.F=Date.now(),vh(e)}BC(n)}function bm(n){n.g&&(Jy(n),n.g.cancel(),n.g=null)}function Yy(n){bm(n),n.u&&(Ut.clearTimeout(n.u),n.u=null),Yf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ut.clearTimeout(n.m),n.m=null)}function Qy(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Kf(n)}function Kf(n){AC(n.i)||n.m||(n.m=!0,Iy(n.Ha,n),n.C=0)}function FC(n,e){var t;t=e?e.m:n.V++;const r=Uc(n.F);er(r,"SID",n.J),er(r,"RID",t),er(r,"AID",n.U),ql(n,r),n.o&&n.s&&Ky(r,n.o,n.s),t=new yh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=LC(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),_m(n.i,t),ju(t,r,e)}function ql(n,e){n.j&&Uy({},function(t,r){er(e,r,t)})}function LC(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ci(n.j.Oa,n.j,n):null;e:{var o=n.l;let c=-1;for(;;){const d=["count="+t];-1==c?0<t?(c=o[0].h,d.push("ofs="+c)):c=0:d.push("ofs="+c);let m=!0;for(let v=0;v<t;v++){let T=o[v].h;const M=o[v].g;if(T-=c,0>T)c=Math.max(0,o[v].h-100),m=!1;else try{Zy(M,d,"req"+T+"_")}catch(R){r&&r(M)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Zu(n){n.g||n.u||(n.Y=1,Iy(n.Ga,n),n.A=0)}function zu(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Bl(ci(n.Ga,n),UC(n,n.A)),n.A++,0))}function Jy(n){null!=n.B&&(Ut.clearTimeout(n.B),n.B=null)}function DD(n){n.g=new yh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Uc(n.oa);er(e,"RID","rpc"),er(e,"SID",n.J),er(e,"CI",n.N?"0":"1"),er(e,"AID",n.U),ql(n,e),er(e,"TYPE","xmlhttp"),n.o&&n.s&&Ky(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Hf(Uc(e)),t.s=null,t.U=!0,yC(t,n)}function Yf(n){null!=n.v&&(Ut.clearTimeout(n.v),n.v=null)}function VC(n,e){var t=null;if(n.g==e){Yf(n),Jy(n),n.g=null;var r=2}else{if(!$y(n.i,e))return;t=e.D,qy(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Pi(r=Lf(),new _C(r,t,e,o)),Kf(n)}else Zu(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function Bx(n,e){return!(mm(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Bl(ci(n.Ha,n,e),UC(n,n.C)),n.C++,0)))}(n,e)||2==r&&zu(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Wu(n,5);break;case 4:Wu(n,10);break;case 3:Wu(n,6);break;default:Wu(n,2)}}function UC(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Wu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ci(n.jb,n);t||(t=new Hl("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||pm(t,"https"),Hf(t)),function wD(n,e){const t=new Wa;if(Ut.Image){const r=new Image;r.onload=Mf(Gf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Mf(Gf,t,r,"TestLoadImage: error",!1,e),r.onabort=Mf(Gf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mf(Gf,t,r,"TestLoadImage: timeout",!1,e),Ut.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ds(2);n.G=0,n.j&&n.j.va(e),BC(n),Yy(n)}function BC(n){n.G=0,n.I=-1,n.j&&((0!=xC(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Yg(n.l),n.l.length=0),n.j.ua())}function Xy(n,e,t){let r=function gm(n){return n instanceof Hl?Uc(n):new Hl(n,void 0)}(t);if(""!=r.i)e&&jy(r,e+"."+r.i),Hy(r,r.m);else{const o=Ut.location;r=function fD(n,e,t,r){var o=new Hl(null,void 0);return n&&pm(o,n),e&&jy(o,e),t&&Hy(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&dy(n.aa,function(o,c){er(r,c,o)}),t=n.sa,(e=n.D)&&t&&er(r,e,t),er(r,"VER",n.ma),ql(n,r),r}function ev(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nr(t&&n.Ba&&!n.qa?new Zf({ib:!0}):n.qa)).L=n.H,e}function Em(){}function Ku(){if(Ul&&!(10<=Number(Pf)))throw Error("Environmental error: no available transport.")}function Oi(n,e){ui.call(this),this.g=new NC(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Qg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Yu(this)}function jC(n){Ry.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function tv(){Ny.call(this),this.status=1}function Yu(n){this.g=n}(at=Nr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():um.g(),this.C=function Xn(n){return n.h||(n.h=n.i())}(this.u?this.u:um),this.g.onreadystatechange=ci(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void OC(this,c)}n=t||"";const o=new wh(this.headers);r&&Uy(r,function(c,d){o.set(d,c)}),r=function WI(n){e:{var e=PC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Ut.FormData&&n instanceof Ut.FormData,!(0<=iC(bD,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(c,d){this.g.setRequestHeader(d,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vm(this),0<this.B&&((this.K=function ED(n){return Ul&&function YI(){return function Vx(n){var e=KI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=sC(String(Rs)).split("."),t=sC("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",c=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;n=ly(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||ly(0==o[2].length,0==c[2].length)||ly(o[2],c[2]),o=o[3],c=c[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ci(this.pa,this)):this.A=cm(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){OC(this,c)}},at.pa=function(){void 0!==zg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pi(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pi(this,"complete"),Pi(this,"abort"),Eh(this))},at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eh(this,!0)),Nr.Z.M.call(this)},at.Fa=function(){this.s||(this.F||this.v||this.l?RC(this):this.cb())},at.cb=function(){RC(this)},at.ba=function(){try{return 2<Ka(this)?this.g.status:-1}catch(n){return-1}},at.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},at.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),CD(e)}},at.Da=function(){return this.m},at.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=NC.prototype).ma=8,at.G=1,at.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},at.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new yh(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=oC(c),aC(c,this.P)):c=this.P),null===this.o&&(o.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=LC(this,o,e),er(t=Uc(this.F),"RID",n),er(t,"CVER",22),this.D&&er(t,"X-HTTP-Session-Id",this.D),ql(this,t),this.o&&c&&Ky(t,this.o,c),_m(this.i,o),this.Ra&&er(t,"TYPE","init"),this.ja?(er(t,"$req",e),er(t,"SID","null"),o.$=!0,ju(o,t,null)):ju(o,t,e),this.G=2}}else 3==this.G&&(n?FC(this,n):0==this.l.length||AC(this.i)||FC(this))},at.Ga=function(){if(this.u=null,DD(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Bl(ci(this.bb,this),n)}},at.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ds(10),bm(this),DD(this))},at.ab=function(){null!=this.v&&(this.v=null,bm(this),zu(this),ds(19))},at.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ds(2)):(this.h.info("Failed to ping google.com"),ds(1))},(at=Em.prototype).xa=function(){},at.wa=function(){},at.va=function(){},at.ua=function(){},at.Oa=function(){},Ku.prototype.g=function(n,e){return new Oi(n,e)},li(Oi,ui),Oi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Iy(ci(n.hb,n,e))),ds(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Xy(n,null,n.W),Kf(n)},Oi.prototype.close=function(){Cm(this.g)},Oi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Qy(this.g,e)}else this.v?((e={}).__data__=Ey(n),Qy(this.g,e)):Qy(this.g,n)},Oi.prototype.M=function(){this.g.j=null,delete this.j,Cm(this.g),delete this.g,Oi.Z.M.call(this)},li(jC,Ry),li(tv,Ny),li(Yu,Em),Yu.prototype.xa=function(){Pi(this.g,"a")},Yu.prototype.wa=function(n){Pi(this.g,new jC(n))},Yu.prototype.va=function(n){Pi(this.g,new tv(n))},Yu.prototype.ua=function(){Pi(this.g,"b")},Ku.prototype.createWebChannel=Ku.prototype.g,Oi.prototype.send=Oi.prototype.u,Oi.prototype.open=Oi.prototype.m,Oi.prototype.close=Oi.prototype.close,lm.NO_ERROR=0,lm.TIMEOUT=8,lm.HTTP_ERROR=6,Vf.COMPLETE="complete",cD.EventType=_h,_h.OPEN="a",_h.CLOSE="b",_h.ERROR="c",_h.MESSAGE="d",ui.prototype.listen=ui.prototype.N,Nr.prototype.listenOnce=Nr.prototype.O,Nr.prototype.getLastError=Nr.prototype.La,Nr.prototype.getLastErrorCode=Nr.prototype.Da,Nr.prototype.getStatus=Nr.prototype.ba,Nr.prototype.getResponseJson=Nr.prototype.Qa,Nr.prototype.getResponseText=Nr.prototype.ga,Nr.prototype.send=Nr.prototype.ea;var TD=Za.createWebChannelTransport=function(){return new Ku},AD=Za.getStatEventTarget=function(){return Lf()},Qf=Za.ErrorCode=lm,xD=Za.EventType=Vf,jx=Za.Event=gh,HC=Za.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},SD=Za.FetchXmlHttpFactory=Zf,Bc=Za.WebChannel=cD,$C=Za.XhrIo=Nr;const Qu="@firebase/firestore";class ki{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");let Ju="9.9.2";const Gl=new Lc.Yd("@firebase/firestore");function qC(){return Gl.logLevel}function je(n,...e){if(Gl.logLevel<=Lc.in.DEBUG){const t=e.map(nv);Gl.debug(`Firestore (${Ju}): ${n}`,...t)}}function ur(n,...e){if(Gl.logLevel<=Lc.in.ERROR){const t=e.map(nv);Gl.error(`Firestore (${Ju}): ${n}`,...t)}}function jc(n,...e){if(Gl.logLevel<=Lc.in.WARN){const t=e.map(nv);Gl.warn(`Firestore (${Ju}): ${n}`,...t)}}function nv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ct(n="Unexpected state"){const e=`FIRESTORE (${Ju}) INTERNAL ASSERTION FAILED: `+n;throw ur(e),new Error(e)}function Nt(n,e){n||ct()}function tt(n,e){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Rt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ZC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ki.UNAUTHENTICATED))}shutdown(){}}class Jf{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zC{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const c=T=>this.i!==o?(o=this.i,t(T)):Promise.resolve();let d=new di;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new di,e.enqueueRetryable(()=>c(this.currentUser))};const m=()=>{const T=d;e.enqueueRetryable((0,De.Z)(function*(){yield T.promise,yield c(r.currentUser)}))},v=T=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(T=>v(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?v(T):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new di)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt("string"==typeof r.accessToken),new ZC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new ki(e)}}class WC{constructor(e,t,r){this.type="FirstParty",this.user=ki.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class KC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new WC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YC{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=c=>{null!=c.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.p;return this.p=c.token,je("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.g.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.g.getImmediate({optional:!0});c?o(c):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt("string"==typeof t.token),this.p=t.token,new rv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kD(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class QC{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=kD(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%e.length))}return r}}function Vt(n,e){return n<e?-1:n>e?1:0}function Ih(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function JC(n){return n+"\0"}class Gn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Gn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new Gn(0,0))}static max(){return new St(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xf{constructor(e,t,r){void 0===t?t=0:t>e.length&&ct(),void 0===r?r=e.length-t:r>e.length-t&&ct(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Xf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=e.get(o),d=t.get(o);if(c<d)return-1;if(c>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends Xf{construct(e,t,r){return new tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const Ya=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends Xf{construct(e,t,r){return new dr(e,t,r)}static isValidIdentifier(e){return Ya.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(0===r.length)throw new Fe(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Fe(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Fe(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(c(),o++)}if(c(),d)throw new Fe(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(t)}static emptyPath(){return new dr([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(tn.fromString(e))}static fromName(e){return new We(tn.fromString(e).popFirst(5))}static empty(){return new We(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new tn(e.slice()))}}class Zl{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function iv(n){return n.fields.find(e=>2===e.kind)}function Xu(n){return n.fields.filter(e=>2!==e.kind)}Zl.UNKNOWN_ID=-1;class ed{constructor(e,t){this.fieldPath=e,this.kind=t}}class ep{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ep(0,Ns.min())}}function XC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=St.fromTimestamp(1e9===r?new Gn(t+1,0):new Gn(t,r));return new Ns(o,We.empty(),e)}function sv(n){return new Ns(n.readTime,n.key,-1)}class Ns{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ns(St.min(),We.empty(),-1)}static max(){return new Ns(St.max(),We.empty(),-1)}}function tp(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=We.comparator(n.documentKey,e.documentKey),0!==t?t:Vt(n.largestBatchId,e.largestBatchId))}const ov="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zl(n){return tb.apply(this,arguments)}function tb(){return tb=(0,De.Z)(function*(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==ov)throw n;je("LocalStore","Unexpectedly lost primary lease")}),tb.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,r)=>{t(e)})}static reject(e){return new ue((t,r)=>{r(e)})}static waitFor(e){return new ue((t,r)=>{let o=0,c=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&t()},v=>r(v))}),d=!0,c===o&&t()})}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next(o=>o?ue.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}static mapArray(e,t){return new ue((r,o)=>{const c=e.length,d=new Array(c);let m=0;for(let v=0;v<c;v++){const T=v;t(e[T]).next(M=>{d[T]=M,++m,m===c&&r(d)},M=>o(M))}})}static doWhile(e,t){return new ue((r,o)=>{const c=()=>{!0===e()?t().next(()=>{c()},o):r()};c()})}}class Dh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new di,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new td(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const o=Dm(r.target.error);this.T.reject(new td(e,o))}}static open(e,t,r,o){try{return new Dh(t,e.transaction(o,r))}catch(c){throw new td(t,c)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ND(t)}}class Oo{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===Oo.v((0,Rt.z$)())&&ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),nd(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Rt.hl)())return!1;if(Oo.S())return!0;const e=(0,Rt.z$)(),t=Oo.v(e),r=0<t&&t<10,o=Oo.D(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,De.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=d=>{r(d.target.result)},c.onblocked=()=>{o(new td(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Fe(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Fe(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new td(e,m))},c.onupgradeneeded=d=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.P.M(d.target.result,c.transaction,d.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.O&&(t.db.onversionchange=r=>t.O(r)),t.db})()}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var c=this;return(0,De.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{c.db=yield c.k(e);const v=Dh.open(c.db,e,d?"readonly":"readwrite",r),T=o(v).next(M=>(v.R(),M)).catch(M=>(v.abort(M),ue.reject(M))).toPromise();return T.catch(()=>{}),yield v.A,T}catch(v){const T=v,M="FirebaseError"!==T.name&&m<3;if(je("SimpleDb","Transaction failed with error:",T.message,"Retrying:",M),c.close(),!M)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class av{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return nd(this.$.delete())}}class td extends Fe{constructor(e,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Wl(n){return"IndexedDbTransactionError"===n.name}class ND{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nd(r)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),nd(this.store.add(e))}get(e){return nd(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),nd(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),nd(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),c=[];return this.G(o,(d,m)=>{c.push(m)}).next(()=>c)}{const o=this.store.getAll(r.range);return new ue((c,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{c(m.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ue((o,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}W(e,t){je("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const o=this.cursor(r);return this.G(o,(c,d,m)=>m.delete())}J(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.G(o,t)}Y(e){const t=this.cursor({});return new ue((r,o)=>{t.onerror=c=>{const d=Dm(c.target.error);o(d)},t.onsuccess=c=>{const d=c.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}G(e,t){const r=[];return new ue((o,c)=>{e.onerror=d=>{c(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const v=new av(m),T=t(m.primaryKey,m.value,v);if(T instanceof ue){const M=T.catch(R=>(v.done(),ue.reject(R)));r.push(M)}v.isDone?o():null===v.U?m.continue():m.continue(v.U)}}).next(()=>ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nd(n){return new ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Dm(r.target.error);t(o)}})}let nb=!1;function Dm(n){const e=Oo.v((0,Rt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nb||(nb=!0,setTimeout(()=>{throw r},0)),r}}return n}class cv{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,De.Z)(function*(){t.task=null;try{je("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){Wl(r)?je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield zl(r)}yield t.Z(1)}))}}class rb{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,De.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let o=t,c=!0;return ue.doWhile(()=>!0===c&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return je("IndexBackiller",`Processing collection: ${d}`),this.nt(e,d,o).next(m=>{o-=m,r.add(d)});c=!1})).next(()=>t-o)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(c=>{const d=c.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.st(o,c)).next(m=>(je("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}st(e,t){let r=e;return t.changes.forEach((o,c)=>{const d=sv(c);tp(d,r)>0&&(r=d)}),new Ns(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Fs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function lv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Kl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ib(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Fs.ot=-1;class tr{constructor(e,t){this.comparator=e,this.root=t||Ri.EMPTY}insert(e,t){return new tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new np(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new np(this.root,e,this.comparator,!1)}getReverseIterator(){return new np(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new np(this.root,e,this.comparator,!0)}}class np{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=null!=r?r:Ri.RED,this.left=null!=o?o:Ri.EMPTY,this.right=null!=c?c:Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new Ri(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Ri.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Ri(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wn{constructor(e){this.comparator=e,this.data=new tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sb(this.data.getIterator())}getIteratorFrom(e){return new sb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wn(this.comparator);return t.data=e,t}}class sb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fr(n){return n.hasNext()?n.getNext():void 0}class hi{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new hi([])}unionWith(e){let t=new wn(dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new hi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ih(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Zr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Zr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new Zr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zr.EMPTY_BYTE_STRING=new Zr("");const Hx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(n){if(Nt(!!n),"string"==typeof n){let e=0;const t=Hx.exec(n);if(Nt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hr(n.seconds),nanos:hr(n.nanos)}}function hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hc(n){return"string"==typeof n?Zr.fromBase64String(n):Zr.fromUint8Array(n)}function uv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function dv(n){const e=n.mapValue.fields.__previous_value__;return uv(e)?dv(e):e}function rp(n){const e=ko(n.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}class LD{constructor(e,t,r,o,c,d,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=v}}class _a{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _a("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}function Th(n){return null==n}function Ah(n){return 0===n&&1/n==-1/0}function ip(n){return"number"==typeof n&&Number.isInteger(n)&&!Ah(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Qa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hv={nullValue:"NULL_VALUE"};function Yl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uv(n)?4:gv(n)?9007199254740991:10:ct()}function Ja(n,e){if(n===e)return!0;const t=Yl(n);if(t!==Yl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rp(n).isEqual(rp(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=ko(r.timestampValue),d=ko(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Hc(n.bytesValue).isEqual(Hc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return hr(r.geoPointValue.latitude)===hr(o.geoPointValue.latitude)&&hr(r.geoPointValue.longitude)===hr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return hr(r.integerValue)===hr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=hr(r.doubleValue),d=hr(o.doubleValue);return c===d?Ah(c)===Ah(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Ih(n.arrayValue.values||[],e.arrayValue.values||[],Ja);case 10:return function(r,o){const c=r.mapValue.fields||{},d=o.mapValue.fields||{};if(lv(c)!==lv(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(void 0===d[m]||!Ja(c[m],d[m])))return!1;return!0}(n,e);default:return ct()}var o}function xh(n,e){return void 0!==(n.values||[]).find(t=>Ja(t,e))}function ya(n,e){if(n===e)return 0;const t=Yl(n),r=Yl(e);if(t!==r)return Vt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vt(n.booleanValue,e.booleanValue);case 2:return function(o,c){const d=hr(o.integerValue||o.doubleValue),m=hr(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return fv(n.timestampValue,e.timestampValue);case 4:return fv(rp(n),rp(e));case 5:return Vt(n.stringValue,e.stringValue);case 6:return function(o,c){const d=Hc(o),m=Hc(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),m=c.split("/");for(let v=0;v<d.length&&v<m.length;v++){const T=Vt(d[v],m[v]);if(0!==T)return T}return Vt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const d=Vt(hr(o.latitude),hr(c.latitude));return 0!==d?d:Vt(hr(o.longitude),hr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,c){const d=o.values||[],m=c.values||[];for(let v=0;v<d.length&&v<m.length;++v){const T=ya(d[v],m[v]);if(T)return T}return Vt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,c){if(o===Qa.mapValue&&c===Qa.mapValue)return 0;if(o===Qa.mapValue)return 1;if(c===Qa.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),v=c.fields||{},T=Object.keys(v);m.sort(),T.sort();for(let M=0;M<m.length&&M<T.length;++M){const R=Vt(m[M],T[M]);if(0!==R)return R;const $=ya(d[m[M]],v[T[M]]);if(0!==$)return $}return Vt(m.length,T.length)}(n.mapValue,e.mapValue);default:throw ct()}}function fv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Vt(n,e);const t=ko(n),r=ko(e),o=Vt(t.seconds,r.seconds);return 0!==o?o:Vt(t.nanos,r.nanos)}function Sh(n){return sp(n)}function sp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=ko(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hc(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",c=!0;for(const d of r.values||[])c?c=!1:o+=",",o+=sp(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const m of o)d?d=!1:c+=",",c+=`${m}:${sp(r.fields[m])}`;return c+"}"}(n.mapValue):ct();var e}function $c(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ob(n){return!!n&&"integerValue"in n}function op(n){return!!n&&"arrayValue"in n}function ab(n){return!!n&&"nullValue"in n}function pv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ap(n){return!!n&&"mapValue"in n}function cp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Kl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=cp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function cb(n){return"nullValue"in n?hv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?$c(_a.empty(),We.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ct()}function VD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?$c(_a.empty(),We.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Qa:ct()}function lb(n,e){const t=ya(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function mv(n,e){const t=ya(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ap(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cp(t)}setAll(e){let t=dr.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const v=this.getFieldsMap(t);this.applyChanges(v,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=cp(d):o.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());ap(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ja(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];ap(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Kl(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new Ni(cp(this.value))}}function _v(n){const e=[];return Kl(n.fields,(t,r)=>{const o=new dr([t]);if(ap(r)){const c=_v(r.mapValue).fields;if(0===c.length)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new hi(e)}class An{constructor(e,t,r,o,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new An(e,0,St.min(),St.min(),Ni.empty(),0)}static newFoundDocument(e,t,r){return new An(e,1,t,St.min(),r,0)}static newNoDocument(e,t){return new An(e,2,t,St.min(),Ni.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,St.min(),Ni.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ub{constructor(e,t=null,r=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.ut=null}}function yv(n,e=null,t=[],r=[],o=null,c=null,d=null){return new ub(n,e,t,r,o,c,d)}function rd(n){const e=tt(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Sh(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Th(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Sh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Sh(r)).join(",")),e.ut=t}return e.ut}function Tm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!zx(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Ja(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cv(n.startAt,e.startAt)&&Cv(n.endAt,e.endAt)}function lp(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function vv(n,e){return n.filters.filter(t=>t instanceof Ki&&t.field.isEqual(e))}function BD(n,e,t){let r=hv,o=!0;for(const c of vv(n,e)){let d=hv,m=!0;switch(c.op){case"<":case"<=":d=cb(c.value);break;case"==":case"in":case">=":d=c.value;break;case">":d=c.value,m=!1;break;case"!=":case"not-in":d=hv}lb({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const d=t.position[c];lb({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function jD(n,e,t){let r=Qa,o=!0;for(const c of vv(n,e)){let d=Qa,m=!0;switch(c.op){case">=":case">":d=VD(c.value),m=!1;break;case"==":case"in":case"<=":d=c.value;break;case"<":d=c.value,m=!1;break;case"!=":case"not-in":d=Qa}mv({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const d=t.position[c];mv({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class Ki extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new $x(e,t,r):"array-contains"===t?new Am(e,r):"in"===t?new Zx(e,r):"not-in"===t?new db(e,r):"array-contains-any"===t?new wv(e,r):new Ki(e,t,r)}static ct(e,t,r){return"in"===t?new qx(e,r):new Gx(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(ya(t,this.value)):null!==t&&Yl(this.value)===Yl(t)&&this.at(ya(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ct()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class $x extends Ki{constructor(e,t,r){super(e,t,r),this.key=We.fromName(r.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.at(t)}}class qx extends Ki{constructor(e,t){super(e,"in",t),this.keys=HD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Gx extends Ki{constructor(e,t){super(e,"not-in",t),this.keys=HD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>We.fromName(r.referenceValue))}class Am extends Ki{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return op(t)&&xh(t.arrayValue,this.value)}}class Zx extends Ki{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xh(this.value.arrayValue,t)}}class db extends Ki{constructor(e,t){super(e,"not-in",t)}matches(e){if(xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xh(this.value.arrayValue,t)}}class wv extends Ki{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!op(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xh(this.value.arrayValue,r))}}class qc{constructor(e,t){this.position=e,this.inclusive=t}}class id{constructor(e,t="asc"){this.field=e,this.dir=t}}function zx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function xm(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const c=e[o],d=n.position[o];if(r=c.field.isKeyField()?We.comparator(We.fromName(d.referenceValue),t.key):ya(d,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function Cv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ja(n.position[t],e.position[t]))return!1;return!0}class Gc{constructor(e,t=null,r=[],o=[],c=null,d="F",m=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=v,this.lt=null,this.ft=null}}function bv(n,e,t,r,o,c,d,m){return new Gc(n,e,t,r,o,c,d,m)}function up(n){return new Gc(n)}function hb(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ev(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function dp(n){for(const e of n.filters)if(e.ht())return e.field;return null}function Iv(n){return null!==n.collectionGroup}function hp(n){const e=tt(n);if(null===e.lt){e.lt=[];const t=dp(e),r=Ev(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new id(t)),e.lt.push(new id(dr.keyField(),"asc"));else{let o=!1;for(const c of e.explicitOrderBy)e.lt.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new id(dr.keyField(),c))}}}return e.lt}function ro(n){const e=tt(n);if(!e.ft)if("F"===e.limitType)e.ft=yv(e.path,e.collectionGroup,hp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of hp(e))t.push(new id(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new qc(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new qc(e.startAt.position,e.startAt.inclusive):null;e.ft=yv(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.ft}function Dv(n,e,t){return new Gc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fp(n,e){return Tm(ro(n),ro(e))&&n.limitType===e.limitType}function fb(n){return`${rd(ro(n))}|lt:${n.limitType}`}function Tv(n){return`Query(target=${function UD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Sh(r.value)}`;var r}).join(", ")}]`),Th(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Sh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Sh(t)).join(",")),`Target(${e})`}(ro(n))}; limitType=${n.limitType})`}function pb(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):We.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,c,d){const m=xm(o,c,d);return o.inclusive?m<=0:m<0}(t.startAt,hp(t),r)||t.endAt&&!function(o,c,d){const m=xm(o,c,d);return o.inclusive?m>=0:m>0}(t.endAt,hp(t),r)));var t,r}function gb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Sm(n){return(e,t)=>{let r=!1;for(const o of hp(n)){const c=$D(o,e,t);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function $D(n,e,t){const r=n.field.isKeyField()?We.comparator(e.key,t.key):function(o,c,d){const m=c.data.field(o),v=d.data.field(o);return null!==m&&null!==v?ya(m,v):ct()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ct()}}function Ro(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function mb(n){return{integerValue:""+n}}function Mm(n,e){return ip(e)?mb(e):Ro(n,e)}class Pm{constructor(){this._=void 0}}function qD(n,e,t){return n instanceof sd?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(c.fields.__previous_value__=o),{mapValue:c}}(t,e):n instanceof od?Sv(n,e):n instanceof ad?_b(n,e):function(r,o){const c=xv(r,o),d=Om(c)+Om(r._t);return ob(c)&&ob(r._t)?mb(d):Ro(r.wt,d)}(n,e)}function Av(n,e,t){return n instanceof od?Sv(n,e):n instanceof ad?_b(n,e):t}function xv(n,e){return n instanceof Mh?ob(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class sd extends Pm{}class od extends Pm{constructor(e){super(),this.elements=e}}function Sv(n,e){const t=Ql(e);for(const r of n.elements)t.some(o=>Ja(o,r))||t.push(r);return{arrayValue:{values:t}}}class ad extends Pm{constructor(e){super(),this.elements=e}}function _b(n,e){let t=Ql(e);for(const r of n.elements)t=t.filter(o=>!Ja(o,r));return{arrayValue:{values:t}}}class Mh extends Pm{constructor(e,t){super(),this.wt=e,this._t=t}}function Om(n){return hr(n.integerValue||n.doubleValue)}function Ql(n){return op(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ph{constructor(e,t){this.field=e,this.transform=t}}class GD{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function km(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Rm{}function vb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Xl(n.key,fr.none()):new Jl(n.key,n.data,fr.none());{const t=n.data,r=Ni.empty();let o=new wn(dr.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);null===d&&c.length>1&&(c=c.popLast(),d=t.field(c)),null===d?r.delete(c):r.set(c,d),o=o.add(c)}return new Xa(n.key,r,new hi(o.toArray()),fr.none())}}function wb(n,e,t){n instanceof Jl?function(r,o,c){const d=r.value.clone(),m=bb(r.fieldTransforms,o,c.transformResults);d.setAll(m),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Xa?function(r,o,c){if(!km(r.precondition,o))return void o.convertToUnknownDocument(c.version);const d=bb(r.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(Cb(r)),m.setAll(d),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function pp(n,e,t,r){return n instanceof Jl?function(o,c,d,m){if(!km(o.precondition,c))return d;const v=o.value.clone(),T=Mv(o.fieldTransforms,m,c);return v.setAll(T),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof Xa?function(o,c,d,m){if(!km(o.precondition,c))return d;const v=Mv(o.fieldTransforms,m,c),T=c.data;return T.setAll(Cb(o)),T.setAll(v),c.convertToFoundDocument(c.version,T).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(M=>M.field))}(n,e,t,r):(d=t,km(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d);var c,d}function ZD(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),c=xv(r.transform,o||null);null!=c&&(null===t&&(t=Ni.empty()),t.set(r.field,c))}return t||null}function zD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ih(t,r,(o,c)=>function yb(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof od&&r instanceof od||t instanceof ad&&r instanceof ad?Ih(t.elements,r.elements,Ja):t instanceof Mh&&r instanceof Mh?Ja(t._t,r._t):t instanceof sd&&r instanceof sd);var t,r}(o,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Jl extends Rm{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xa extends Rm{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Cb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function bb(n,e,t){const r=new Map;Nt(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],d=c.transform,m=e.data.field(c.field);r.set(c.field,Av(d,m,t[o]))}return r}function Mv(n,e,t){const r=new Map;for(const o of n){const c=o.transform,d=t.data.field(o.field);r.set(o.field,qD(c,d,e))}return r}class Xl extends Rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gp extends Rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Eb{constructor(e){this.count=e}}var Lr,on;function Pv(n){switch(n){default:return ct();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function Ib(n){if(void 0===n)return ur("GRPC error has no .code"),_e.UNKNOWN;switch(n){case Lr.OK:return _e.OK;case Lr.CANCELLED:return _e.CANCELLED;case Lr.UNKNOWN:return _e.UNKNOWN;case Lr.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Lr.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Lr.INTERNAL:return _e.INTERNAL;case Lr.UNAVAILABLE:return _e.UNAVAILABLE;case Lr.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Lr.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Lr.NOT_FOUND:return _e.NOT_FOUND;case Lr.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Lr.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Lr.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Lr.ABORTED:return _e.ABORTED;case Lr.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Lr.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Lr.DATA_LOSS:return _e.DATA_LOSS;default:return ct()}}(on=Lr||(Lr={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";class eu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Kl(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return ib(this.inner)}size(){return this.innerSize}}const Wx=new tr(We.comparator);function io(){return Wx}const Ov=new tr(We.comparator);function mp(...n){let e=Ov;for(const t of n)e=e.insert(t.key,t);return e}function Db(n){let e=Ov;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ec(){return Nm()}function WD(){return Nm()}function Nm(){return new eu(n=>n.toString(),(n,e)=>n.isEqual(e))}const Kx=new tr(We.comparator),Yx=new wn(We.comparator);function zt(...n){let e=Yx;for(const t of n)e=e.add(t);return e}const KD=new wn(Vt);function cd(){return KD}class _p{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,yp.createSynthesizedTargetChangeForCurrentChange(e,t)),new _p(St.min(),r,cd(),io(),zt())}}class yp{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new yp(Zr.EMPTY_BYTE_STRING,t,zt(),zt(),zt())}}class vp{constructor(e,t,r,o){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=o}}class tu{constructor(e,t){this.targetId=e,this.It=t}}class kv{constructor(e,t,r=Zr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Fm{constructor(){this.Tt=0,this.Et=Lm(),this.At=Zr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=zt(),t=zt(),r=zt();return this.Et.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ct()}}),new yp(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=Lm()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class Rv{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=io(),this.Bt=Tb(),this.Lt=new wn(Vt)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:ct()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,o)=>{this.jt(o)&&t(o)})}zt(e){const t=e.targetId,r=e.It.count,o=this.Ht(t);if(o){const c=o.target;if(lp(c))if(0===r){const d=new We(c.path);this.Kt(t,d,An.newNoDocument(d,St.min()))}else Nt(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((c,d)=>{const m=this.Ht(d);if(m){if(c.current&&lp(m.target)){const v=new We(m.target.path);null!==this.$t.get(v)||this.Xt(d,v)||this.Kt(d,v,An.newNoDocument(v,e))}c.vt&&(t.set(d,c.St()),c.Dt())}});let r=zt();this.Bt.forEach((c,d)=>{let m=!0;d.forEachWhile(v=>{const T=this.Ht(v);return!T||2===T.purpose||(m=!1,!1)}),m&&(r=r.add(c))}),this.$t.forEach((c,d)=>d.setReadTime(e));const o=new _p(e,t,this.Lt,this.$t,r);return this.$t=io(),this.Bt=Tb(),this.Lt=new wn(Vt),o}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const o=this.Qt(e);this.Xt(e,t)?o.Ct(t,1):o.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Fm,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new wn(Vt),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new Fm),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function Tb(){return new tr(We.comparator)}function Lm(){return new tr(We.comparator)}const Nv={asc:"ASCENDING",desc:"DESCENDING"},Vm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Qx{constructor(e,t){this.databaseId=e,this.dt=t}}function Um(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YD(n,e){return n.dt?e.toBase64():e.toUint8Array()}function Jx(n,e){return Um(n,e.toTimestamp())}function zr(n){return Nt(!!n),St.fromTimestamp(function(e){const t=ko(e);return new Gn(t.seconds,t.nanos)}(n))}function Fv(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ab(n){const e=tn.fromString(n);return Nt(nT(e)),e}function wp(n,e){return Fv(n.databaseId,e.path)}function tc(n,e){const t=Ab(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(xb(t))}function Bm(n,e){return Fv(n.databaseId,e)}function Lv(n){const e=Ab(n);return 4===e.length?tn.emptyPath():xb(e)}function Oh(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xb(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Sb(n,e,t){return{name:wp(n,e),fields:t.value.mapValue.fields}}function Vv(n,e,t){const r=tc(n,e.name),o=zr(e.updateTime),c=new Ni({mapValue:{fields:e.fields}}),d=An.newFoundDocument(r,o,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function kh(n,e){let t;if(e instanceof Jl)t={update:Sb(n,e.key,e.value)};else if(e instanceof Xl)t={delete:wp(n,e.key)};else if(e instanceof Xa)t={update:Sb(n,e.key,e.data),updateMask:rS(e.fieldMask)};else{if(!(e instanceof gp))return ct();t={verify:wp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof sd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof od)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ad)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Mh)return{fieldPath:c.field.canonicalString(),increment:d._t};throw ct()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Jx(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ct()),t;var o}function Cp(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?fr.updateTime(zr(o.updateTime)):void 0!==o.exists?fr.exists(o.exists):fr.none():fr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(c,d){let m=null;"setToServerValue"in d?(Nt("REQUEST_TIME"===d.setToServerValue),m=new sd):"appendMissingElements"in d?m=new od(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new ad(d.removeAllFromArray.values||[]):"increment"in d?m=new Mh(c,d.increment):ct();const v=dr.fromServerFormat(d.fieldPath);return new Ph(v,m)}(n,o)):[];var o;if(e.update){const o=tc(n,e.update.name),c=new Ni({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new hi((e.updateMask.fieldPaths||[]).map(T=>dr.fromServerFormat(T)));return new Xa(o,c,d,t,r)}return new Jl(o,c,t,r)}if(e.delete){const o=tc(n,e.delete);return new Xl(o,t)}if(e.verify){const o=tc(n,e.verify);return new gp(o,t)}return ct()}function Mb(n,e){return{documents:[Bm(n,e.path)]}}function JD(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Bm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Bm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(v){if(0===v.length)return;const T=v.map(M=>function(R){if("=="===R.op){if(pv(R.value))return{unaryFilter:{field:bp(R.field),op:"IS_NAN"}};if(ab(R.value))return{unaryFilter:{field:bp(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(pv(R.value))return{unaryFilter:{field:bp(R.field),op:"IS_NOT_NAN"}};if(ab(R.value))return{unaryFilter:{field:bp(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bp(R.field),op:tS(R.op),value:R.value}}}(M));return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}(e.filters);o&&(t.structuredQuery.where=o);const c=function(v){if(0!==v.length)return v.map(T=>{return{field:bp((M=T).field),direction:eS(M.dir)};var M})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=(T=e.limit,n.dt||Th(T)?T:{value:T});var T,m,v;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function XD(n){let e=Lv(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Nt(1===r);const M=t.from[0];M.allDescendants?o=M.collectionId:e=e.child(M.collectionId)}let c=[];t.where&&(c=Pb(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(M=>{return new id(Ep((R=M).field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;t.limit&&(m=function(M){let R;return R="object"==typeof M?M.value:M,Th(R)?null:R}(t.limit));let v=null;var M;t.startAt&&(v=new qc((M=t.startAt).values||[],!!M.before));let T=null;return t.endAt&&(T=function(M){return new qc(M.values||[],!M.before)}(t.endAt)),bv(e,o,d,c,m,"F",v,T)}function Pb(n){return n?void 0!==n.unaryFilter?[tT(n)]:void 0!==n.fieldFilter?[nS(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Pb(e)).reduce((e,t)=>e.concat(t)):ct():[]}function eS(n){return Nv[n]}function tS(n){return Vm[n]}function bp(n){return{fieldPath:n.canonicalString()}}function Ep(n){return dr.fromServerFormat(n.fieldPath)}function nS(n){return Ki.create(Ep(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}function tT(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ep(n.unaryFilter.field);return Ki.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ep(n.unaryFilter.field);return Ki.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ep(n.unaryFilter.field);return Ki.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ep(n.unaryFilter.field);return Ki.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}function rS(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ls(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=i(e)),e=iS(n.get(t),e);return i(e)}function iS(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function i(n){return n+"\x01\x01"}function s(n){const e=n.length;if(Nt(e>=2),2===e)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,r=[];let o="";for(let c=0;c<e;){const d=n.indexOf("\x01",c);switch((d<0||d>t)&&ct(),n.charAt(d+1)){case"\x01":const m=n.substring(c,d);let v;0===o.length?v=m:(o+=m,v=o,o=""),r.push(v);break;case"\x10":o+=n.substring(c,d),o+="\0";break;case"\x11":o+=n.substring(c,d+1);break;default:ct()}c=d+2}return new tn(r)}const a=["userId","batchId"];function u(n,e){return[n,Ls(e)]}function h(n,e,t){return[n,Ls(e),t]}const g={},y=["prefixPath","collectionGroup","readTime","documentId"],C=["prefixPath","collectionGroup","documentId"],D=["collectionGroup","readTime","prefixPath","documentId"],S=["canonicalId","targetId"],k=["targetId","path"],U=["path","targetId"],Y=["collectionId","parent"],re=["indexId","uid"],Te=["uid","sequenceNumber"],$e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ye=["indexId","uid","orderedDocumentKey"],lt=["userId","collectionPath","documentId"],ke=["userId","collectionPath","largestBatchId"],bt=["userId","collectionGroup","largestBatchId"],Yt=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_n=[...Yt,"documentOverlays"],Vs=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nu=Vs,Bv=[...nu,"indexConfiguration","indexState","indexEntries"];class Ip extends eb{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Vr(n,e){const t=tt(n);return Oo.N(t.ee,e)}class Dp{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&wb(c,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=pp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=pp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=WD();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=t.has(o.key)?null:m;const v=vb(d,m);null!==v&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zt())}isEqual(e){return this.batchId===e.batchId&&Ih(this.mutations,e.mutations,(t,r)=>zD(t,r))&&Ih(this.baseMutations,e.baseMutations,(t,r)=>zD(t,r))}}class Tp{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Nt(e.mutations.length===r.length);let o=Kx;const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Tp(e,t,r,o)}}class Ap{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nc{constructor(e,t,r,o,c=St.min(),d=St.min(),m=Zr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new nc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class jm{constructor(e){this.ne=e}}function sS(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ob(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:wp(o=n.ne,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:Um(o,c.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:xp(e.version)};else{if(!e.isUnknownDocument())return ct();r.unknownDocument={path:t.path.toArray(),version:xp(e.version)}}var o,c;return r}function Ob(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function xp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sp(n){const e=new Gn(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function Mp(n,e){const t=(e.baseMutations||[]).map(c=>Cp(n.ne,c));for(let c=0;c<e.mutations.length-1;++c){const d=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(d.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>Cp(n.ne,c)),o=Gn.fromMillis(e.localWriteTimeMs);return new Dp(e.batchId,o,t,r)}function Hv(n){const e=Sp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Sp(n.lastLimboFreeSnapshotVersion):St.min();let r;var o;return void 0!==n.query.documents?(Nt(1===(o=n.query).documents.length),r=ro(up(Lv(o.documents[0])))):r=ro(XD(n.query)),new nc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Zr.fromBase64String(n.resumeToken))}function oS(n,e){const t=xp(e.snapshotVersion),r=xp(e.lastLimboFreeSnapshotVersion);let o;o=lp(e.target)?Mb(n.ne,e.target):JD(n.ne,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rd(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function rT(n){const e=XD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Dv(e,e.limit,"L"):e}function iT(n,e){return new Ap(e.largestBatchId,Cp(n.ne,e.overlayMutation))}function aS(n,e){const t=e.path.lastSegment();return[n,Ls(e.path.popLast()),t]}function cS(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:xp(r.readTime),documentKey:Ls(r.documentKey.path),largestBatchId:r.largestBatchId}}class jP{getBundleMetadata(e,t){return lS(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Sp(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return lS(e).put({bundleId:(r=t).id,createTime:xp(zr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return uS(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:rT(o.bundledQuery),readTime:Sp(o.readTime)};var o})}saveNamedQuery(e,t){return uS(e).put({name:(r=t).name,readTime:xp(zr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function lS(n){return Vr(n,"bundles")}function uS(n){return Vr(n,"namedQueries")}class kb{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new kb(e,t.uid||"")}getOverlay(e,t){return $v(e).get(aS(this.userId,t)).next(r=>r?iT(this.wt,r):null)}getOverlays(e,t){const r=ec();return ue.forEach(t,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((c,d)=>{const m=new Ap(t,d);o.push(this.ie(e,m))}),ue.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(Ls(d.getCollectionPath())));const c=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);c.push($v(e).W("collectionPathOverlayIndex",m))}),ue.waitFor(c)}getOverlaysForCollection(e,t,r){const o=ec(),c=Ls(t),d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return $v(e).K("collectionPathOverlayIndex",d).next(m=>{for(const v of m){const T=iT(this.wt,v);o.set(T.getKey(),T)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const c=ec();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $v(e).J({index:"collectionGroupOverlayIndex",range:m},(v,T,M)=>{const R=iT(this.wt,T);c.size()<o||R.largestBatchId===d?(c.set(R.getKey(),R),d=R.largestBatchId):M.done()}).next(()=>c)}ie(e,t){return $v(e).put(function(r,o,c){const[d,m,v]=aS(o,c.mutation.key);return{userId:o,collectionPath:m,documentId:v,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:kh(r.ne,c.mutation)}}(this.wt,this.userId,t))}}function $v(n){return Vr(n,"documentOverlays")}class Pp{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(hr(e.integerValue));else if("doubleValue"in e){const r=hr(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),Ah(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Hc(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?gv(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):ct()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const o of Object.keys(r))this.le(o,t),this.oe(r[o],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const o of r)this.oe(o,t)}_e(e,t){this.ce(t,37),We.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function HP(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function dS(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const c=HP(255&t[o]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(e/8)}Pp.ye=new Pp;class $P{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const o=t.codePointAt(0);this.Ie(240|o>>>18),this.Ie(128|63&o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}ve(e){const t=this.Ve(e),r=dS(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}De(e){const t=this.Ve(e),r=dS(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class qP{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class GP{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class qv{constructor(){this.Oe=new $P,this.Fe=new qP(this.Oe),this.$e=new GP(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class Op{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Op(this.indexId,this.documentKey,this.arrayValue,r)}}function kp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=hS(n.arrayValue,e.arrayValue),0!==t?t:(t=hS(n.directionalValue,e.directionalValue),0!==t?t:We.comparator(n.documentKey,e.documentKey)))}function hS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class ZP{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=iv(e);if(void 0!==t&&!this.Qe(t))return!1;const r=Xu(e);let o=0,c=0;for(;o<r.length&&this.Qe(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Ke){const d=r[o];if(!this.je(this.Ke,d)||!this.We(this.Ue[c++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(c>=this.Ue.length||!this.We(this.Ue[c++],d))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class zP{constructor(){this.ze=new sT}addToCollectionParentIndex(e,t){return this.ze.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Ns.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class sT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new wn(tn.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new wn(tn.comparator)).toArray()}}const Rb=new Uint8Array(0);class WP{constructor(e,t){this.user=e,this.databaseId=t,this.He=new sT,this.Je=new eu(r=>rd(r),(r,o)=>Tm(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const c={collectionId:r,parent:Ls(o)};return fS(e).put(c)}return ue.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[JC(t),""],!1,!0);return fS(e).K(o).next(c=>{for(const d of c){if(d.collectionId!==t)break;r.push(s(d.parent))}return r})}addFieldIndex(e,t){const r=Nb(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const c=r.add(o);if(t.indexState){const d=Zv(e);return c.next(m=>{d.put(cS(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=Nb(e),o=Zv(e),c=Gv(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Gv(e);let o=!0;const c=new Map;return ue.forEach(this.Ye(t),d=>this.Xe(e,d).next(m=>{o&&(o=!!m),c.set(d,m)})).next(()=>{if(o){let d=zt();const m=[];return ue.forEach(c,(v,T)=>{var M;je("IndexedDbIndexManager",`Using index ${M=v,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(It=>`${It.fieldPath}:${It.kind}`).join(",")}`} to execute ${rd(t)}`);const R=function(It,pt){const Ot=iv(pt);if(void 0===Ot)return null;for(const $t of vv(It,Ot.fieldPath))switch($t.op){case"array-contains-any":return $t.value.arrayValue.values||[];case"array-contains":return[$t.value]}return null}(T,v),$=function(It,pt){const Ot=new Map;for(const $t of Xu(pt))for(const Dr of vv(It,$t.fieldPath))switch(Dr.op){case"==":case"in":Ot.set($t.fieldPath.canonicalString(),Dr.value);break;case"not-in":case"!=":return Ot.set($t.fieldPath.canonicalString(),Dr.value),Array.from(Ot.values())}return null}(T,v),X=function(It,pt){const Ot=[];let $t=!0;for(const Dr of Xu(pt)){const Zc=0===Dr.kind?BD(It,Dr.fieldPath,It.startAt):jD(It,Dr.fieldPath,It.startAt);Ot.push(Zc.value),$t&&($t=Zc.inclusive)}return new qc(Ot,$t)}(T,v),se=function(It,pt){const Ot=[];let $t=!0;for(const Dr of Xu(pt)){const Zc=0===Dr.kind?jD(It,Dr.fieldPath,It.endAt):BD(It,Dr.fieldPath,It.endAt);Ot.push(Zc.value),$t&&($t=Zc.inclusive)}return new qc(Ot,$t)}(T,v),Re=this.Ze(v,T,X),Be=this.Ze(v,T,se),Et=this.tn(v,T,$),Mt=this.en(v.indexId,R,Re,X.inclusive,Be,se.inclusive,Et);return ue.forEach(Mt,It=>r.j(It,t.limit).next(pt=>{pt.forEach(Ot=>{const $t=We.fromSegments(Ot.documentKey);d.has($t)||(d=d.add($t),m.push($t))})}))}).next(()=>m)}return ue.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,o,c,d,m){const v=(null!=t?t.length:1)*Math.max(r.length,c.length),T=v/(null!=t?t.length:1),M=[];for(let R=0;R<v;++R){const $=t?this.nn(t[R/T]):Rb,X=this.sn(e,$,r[R%T],o),se=this.rn(e,$,c[R%T],d),Re=m.map(Be=>this.sn(e,$,Be,!0));M.push(...this.createRange(X,se,Re))}return M}sn(e,t,r,o){const c=new Op(e,We.empty(),t,r);return o?c:c.Le()}rn(e,t,r,o){const c=new Op(e,We.empty(),t,r);return o?c.Le():c}Xe(e,t){const r=new ZP(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(c=>{let d=null;for(const m of c)r.Ge(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;return ue.forEach(this.Ye(t),o=>this.Xe(e,o).next(c=>{c?0!==r&&c.fields.length<function(d){let m=new wn(dr.comparator),v=!1;for(const T of d.filters){const M=T;M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?v=!0:m=m.add(M.field))}for(const T of d.orderBy)T.field.isKeyField()||(m=m.add(T.field));return m.size+(v?1:0)}(o)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new qv;for(const o of Xu(e)){const c=t.data.field(o.fieldPath);if(null==c)return null;const d=r.Be(o.kind);Pp.ye.re(c,d)}return r.Me()}nn(e){const t=new qv;return Pp.ye.re(e,t.Be(0)),t.Me()}un(e,t){const r=new qv;return Pp.ye.re($c(this.databaseId,t),r.Be(function(o){const c=Xu(o);return 0===c.length?0:c[c.length-1].kind}(e))),r.Me()}tn(e,t,r){if(null===r)return[];let o=[];o.push(new qv);let c=0;for(const d of Xu(e)){const m=r[c++];for(const v of o)if(this.cn(t,d.fieldPath)&&op(m))o=this.an(o,d,m);else{const T=v.Be(d.kind);Pp.ye.re(m,T)}}return this.hn(o)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Me();return t}an(e,t,r){const o=[...e],c=[];for(const d of r.arrayValue.values||[])for(const m of o){const v=new qv;v.seed(m.Me()),Pp.ye.re(d,v.Be(t.kind)),c.push(v)}return c}cn(e,t){return!!e.filters.find(r=>r instanceof Ki&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Nb(e),o=Zv(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(c=>{const d=[];return ue.forEach(c,m=>o.get([m.indexId,this.uid]).next(v=>{d.push(function(T,M){const R=M?new ep(M.sequenceNumber,new Ns(Sp(M.readTime),new We(s(M.documentKey)),M.largestBatchId)):ep.empty(),$=T.fields.map(([X,se])=>new ed(dr.fromServerFormat(X),se));return new Zl(T.indexId,T.collectionGroup,$,R)}(m,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const c=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==c?c:Vt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Nb(e),c=Zv(e);return this.ln(e).next(d=>o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ue.forEach(m,v=>c.put(cS(v.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ue.forEach(t,(o,c)=>{const d=r.get(o.collectionGroup);return(d?ue.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ue.forEach(m,v=>this.fn(e,o,v).next(T=>{const M=this.dn(c,v);return T.isEqual(M)?ue.resolve():this._n(e,c,v,T,M)}))))})}wn(e,t,r,o){return Gv(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,o){return Gv(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const o=Gv(e);let c=new wn(kp);return o.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(d,m)=>{c=c.add(new Op(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>c)}dn(e,t){let r=new wn(kp);const o=this.on(t,e);if(null==o)return r;const c=iv(t);if(null!=c){const d=e.data.field(c.fieldPath);if(op(d))for(const m of d.arrayValue.values||[])r=r.add(new Op(t.indexId,e.key,this.nn(m),o))}else r=r.add(new Op(t.indexId,e.key,Rb,o));return r}_n(e,t,r,o,c){je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,v,T,M,R){const $=m.getIterator(),X=v.getIterator();let se=Fr($),Re=Fr(X);for(;se||Re;){let Be=!1,Et=!1;if(se&&Re){const Mt=T(se,Re);Mt<0?Et=!0:Mt>0&&(Be=!0)}else null!=se?Et=!0:Be=!0;Be?(M(Re),Re=Fr(X)):Et?(R(se),se=Fr($)):(se=Fr($),Re=Fr(X))}}(o,c,kp,m=>{d.push(this.wn(e,t,r,m))},m=>{d.push(this.mn(e,t,r,m))}),ue.waitFor(d)}ln(e){let t=1;return Zv(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,c)=>{c.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>kp(d,m)).filter((d,m,v)=>!m||0!==kp(d,v[m-1]));const o=[];o.push(e);for(const d of r){const m=kp(d,e),v=kp(d,t);if(0===m)o[0]=e.Le();else if(m>0&&v<0)o.push(d),o.push(d.Le());else if(v>0)break}o.push(t);const c=[];for(let d=0;d<o.length;d+=2)c.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,Rb,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,Rb,[]]));return c}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(pS)}getMinOffset(e,t){return ue.mapArray(this.Ye(t),r=>this.Xe(e,r).next(o=>o||ct())).next(pS)}}function fS(n){return Vr(n,"collectionParents")}function Gv(n){return Vr(n,"indexEntries")}function Nb(n){return Vr(n,"indexConfiguration")}function Zv(n){return Vr(n,"indexState")}function pS(n){Nt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;tp(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Ns(e.readTime,e.documentKey,t)}const gS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class No{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new No(e,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mS(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),c=[],d=IDBKeyRange.only(t.batchId);let m=0;const v=r.J({range:d},(M,R,$)=>(m++,$.delete()));c.push(v.next(()=>{Nt(1===m)}));const T=[];for(const M of t.mutations){const R=h(e,M.key.path,t.batchId);c.push(o.delete(R)),T.push(M.key)}return ue.waitFor(c).next(()=>T)}function Fb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ct();e=n.noDocument}return JSON.stringify(e).length}No.DEFAULT_COLLECTION_PERCENTILE=10,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,No.DEFAULT=new No(41943040,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),No.DISABLED=new No(-1,0,0);class Lb{constructor(e,t,r,o){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=o,this.gn={}}static se(e,t,r,o){Nt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Lb(c,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rh(e).J({index:"userMutationsIndex",range:r},(o,c,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const c=Hm(e),d=Rh(e);return d.add({}).next(m=>{Nt("number"==typeof m);const v=new Dp(m,t,r,o),T=function($,X,se){const Re=se.baseMutations.map(Et=>kh($.ne,Et)),Be=se.mutations.map(Et=>kh($.ne,Et));return{userId:X,batchId:se.batchId,localWriteTimeMs:se.localWriteTime.toMillis(),baseMutations:Re,mutations:Be}}(this.wt,this.userId,v),M=[];let R=new wn(($,X)=>Vt($.canonicalString(),X.canonicalString()));for(const $ of o){const X=h(this.userId,$.key.path,m);R=R.add($.key.path.popLast()),M.push(d.put(T)),M.push(c.put(X,g))}return R.forEach($=>{M.push(this.indexManager.addToCollectionParentIndex(e,$))}),e.addOnCommittedListener(()=>{this.gn[m]=v.keys()}),ue.waitFor(M).next(()=>v)})}lookupMutationBatch(e,t){return Rh(e).get(t).next(r=>r?(Nt(r.userId===this.userId),Mp(this.wt,r)):null)}yn(e,t){return this.gn[t]?ue.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.gn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Rh(e).J({index:"userMutationsIndex",range:o},(d,m,v)=>{m.userId===this.userId&&(Nt(m.batchId>=r),c=Mp(this.wt,m)),v.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Rh(e).J({index:"userMutationsIndex",range:t,reverse:!0},(o,c,d)=>{r=c.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rh(e).K("userMutationsIndex",t).next(r=>r.map(o=>Mp(this.wt,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=u(this.userId,t.path),o=IDBKeyRange.lowerBound(r),c=[];return Hm(e).J({range:o},(d,m,v)=>{const[T,M,R]=d,$=s(M);if(T===this.userId&&t.path.isEqual($))return Rh(e).get(R).next(X=>{if(!X)throw ct();Nt(X.userId===this.userId),c.push(Mp(this.wt,X))});v.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(Vt);const o=[];return t.forEach(c=>{const d=u(this.userId,c.path),m=IDBKeyRange.lowerBound(d),v=Hm(e).J({range:m},(T,M,R)=>{const[$,X,se]=T,Re=s(X);$===this.userId&&c.path.isEqual(Re)?r=r.add(se):R.done()});o.push(v)}),ue.waitFor(o).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,c=u(this.userId,r),d=IDBKeyRange.lowerBound(c);let m=new wn(Vt);return Hm(e).J({range:d},(v,T,M)=>{const[R,$,X]=v,se=s($);R===this.userId&&r.isPrefixOf(se)?se.length===o&&(m=m.add(X)):M.done()}).next(()=>this.pn(e,m))}pn(e,t){const r=[],o=[];return t.forEach(c=>{o.push(Rh(e).get(c).next(d=>{if(null===d)throw ct();Nt(d.userId===this.userId),r.push(Mp(this.wt,d))}))}),ue.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return mS(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),ue.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Hm(e).J({range:r},(c,d,m)=>{if(c[0]===this.userId){const v=s(c[1]);o.push(v)}else m.done()}).next(()=>{Nt(0===o.length)})})}containsKey(e,t){return _S(e,this.userId,t)}Tn(e){return yS(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _S(n,e,t){const r=u(e,t.path),o=r[1],c=IDBKeyRange.lowerBound(r);let d=!1;return Hm(n).J({range:c,H:!0},(m,v,T)=>{const[M,R,$]=m;M===e&&R===o&&(d=!0),T.done()}).next(()=>d)}function Rh(n){return Vr(n,"mutations")}function Hm(n){return Vr(n,"documentMutations")}function yS(n){return Vr(n,"mutationQueues")}class Rp{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Rp(0)}static Rn(){return new Rp(-1)}}class KP{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new Rp(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>St.fromTimestamp(new Gn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Pn(e,o)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>$m(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(Nt(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let o=0;const c=[];return $m(e).J((d,m)=>{const v=Hv(m);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(o++,c.push(this.removeTargetData(e,v)))}).next(()=>ue.waitFor(c)).next(()=>o)}forEachTarget(e,t){return $m(e).J((r,o)=>{const c=Hv(o);t(c)})}bn(e){return vS(e).get("targetGlobalKey").next(t=>(Nt(null!==t),t))}Pn(e,t){return vS(e).put("targetGlobalKey",t)}vn(e,t){return $m(e).put(oS(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=rd(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return $m(e).J({range:o,index:"queryTargetsIndex"},(d,m,v)=>{const T=Hv(m);Tm(t,T.target)&&(c=T,v.done())}).next(()=>c)}addMatchingKeys(e,t,r){const o=[],c=Nh(e);return t.forEach(d=>{const m=Ls(d.path);o.push(c.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),ue.waitFor(o)}removeMatchingKeys(e,t,r){const o=Nh(e);return ue.forEach(t,c=>{const d=Ls(c.path);return ue.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=Nh(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Nh(e);let c=zt();return o.J({range:r,H:!0},(d,m,v)=>{const T=s(d[1]),M=new We(T);c=c.add(M)}).next(()=>c)}containsKey(e,t){const r=Ls(t.path),o=IDBKeyRange.bound([r],[JC(r)],!1,!0);let c=0;return Nh(e).J({index:"documentTargetsIndex",H:!0,range:o},([d,m],v,T)=>{0!==d&&(c++,T.done())}).next(()=>c>0)}te(e,t){return $m(e).get(t).next(r=>r?Hv(r):null)}}function $m(n){return Vr(n,"targets")}function vS(n){return Vr(n,"targetGlobal")}function Nh(n){return Vr(n,"targetDocuments")}function wS([n,e],[t,r]){const o=Vt(n,t);return 0===o?Vt(e,r):o}class YP{constructor(e){this.Sn=e,this.buffer=new wn(wS),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();wS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class QP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,De.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Wl(r)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield zl(r)}yield t.kn(3e5)}))}}class JP{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(Fs.ot);const r=new YP(t);return this.Mn.forEachTarget(e,o=>r.xn(o.sequenceNumber)).next(()=>this.Mn.Fn(e,o=>r.xn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Mn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(gS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gS):this.$n(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let r,o,c,d,m,v,T;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(r=R,m=Date.now(),this.removeTargets(e,r,t))).next(R=>(c=R,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(T=Date.now(),qC()<=Lc.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-M}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${c} targets in `+(v-m)+`ms\n\tRemoved ${R} documents in `+(T-v)+`ms\nTotal Duration: ${T-M}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:R})))}}class XP{constructor(e,t){this.db=e,this.garbageCollector=new JP(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,o)=>t(o))}addReference(e,t,r){return Vb(e,r)}removeReference(e,t,r){return Vb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Vb(e,t)}Un(e,t){return function(r,o){let c=!1;return yS(r).Y(d=>_S(r,d,o).next(m=>(m&&(c=!0),ue.resolve(!m)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Ln(e,(d,m)=>{if(m<=t){const v=this.Un(e,d).next(T=>{if(!T)return c++,r.getEntry(e,d).next(()=>(r.removeEntry(d,St.min()),Nh(e).delete([0,Ls(d.path)])))});o.push(v)}}).next(()=>ue.waitFor(o)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Vb(e,t)}Ln(e,t){const r=Nh(e);let o,c=Fs.ot;return r.J({index:"documentTargetsIndex"},([d,m],{path:v,sequenceNumber:T})=>{0===d?(c!==Fs.ot&&t(new We(s(o)),c),c=T,o=v):c=Fs.ot}).next(()=>{c!==Fs.ot&&t(new We(s(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vb(n,e){return Nh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ls(e.path),sequenceNumber:r}));var r}class CS{constructor(){this.changes=new eu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eO{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Np(e).put(r)}removeEntry(e,t,r){return Np(e).delete(function(o,c){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Ob(c),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=An.newInvalidDocument(t);return Np(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zv(t))},(o,c)=>{r=this.Kn(t,c)}).next(()=>r)}Gn(e,t){let r={size:0,document:An.newInvalidDocument(t)};return Np(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zv(t))},(o,c)=>{r={document:this.Kn(t,c),size:Fb(c)}}).next(()=>r)}getEntries(e,t){let r=io();return this.Qn(e,t,(o,c)=>{const d=this.Kn(o,c);r=r.insert(o,d)}).next(()=>r)}jn(e,t){let r=io(),o=new tr(We.comparator);return this.Qn(e,t,(c,d)=>{const m=this.Kn(c,d);r=r.insert(c,m),o=o.insert(c,Fb(d))}).next(()=>({documents:r,Wn:o}))}Qn(e,t,r){if(t.isEmpty())return ue.resolve();let o=new wn(DS);t.forEach(v=>o=o.add(v));const c=IDBKeyRange.bound(zv(o.first()),zv(o.last())),d=o.getIterator();let m=d.getNext();return Np(e).J({index:"documentKeyIndex",range:c},(v,T,M)=>{const R=We.fromSegments([...T.prefixPath,T.collectionGroup,T.documentId]);for(;m&&DS(m,R)<0;)r(m,null),m=d.getNext();m&&m.isEqual(R)&&(r(m,T),m=d.hasNext()?d.getNext():null),m?M.q(zv(m)):M.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),Ob(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Np(e).K(IDBKeyRange.bound(o,c,!0)).next(d=>{let m=io();for(const v of d){const T=this.Kn(We.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);m=m.insert(T.key,T)}return m})}getAllFromCollectionGroup(e,t,r,o){let c=io();const d=IS(t,r),m=IS(t,Ns.max());return Np(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(v,T,M)=>{const R=this.Kn(We.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);c=c.insert(R.key,R),c.size===o&&M.done()}).next(()=>c)}newChangeBuffer(e){return new tO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ES(e).get("remoteDocumentGlobalKey").next(t=>(Nt(!!t),t))}qn(e,t){return ES(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function jv(n,e){let t;if(e.document)t=Vv(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=We.fromSegments(e.noDocument.path),o=Sp(e.noDocument.readTime);t=An.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ct();{const r=We.fromSegments(e.unknownDocument.path),o=Sp(e.unknownDocument.version);t=An.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Gn(r[0],r[1]);return St.fromTimestamp(o)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(St.min()))return r}return An.newInvalidDocument(e)}}function bS(n){return new eO(n)}class tO extends CS{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new eu(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new wn((c,d)=>Vt(c.canonicalString(),d.canonicalString()));return this.changes.forEach((c,d)=>{const m=this.Hn.get(c);if(t.push(this.zn.removeEntry(e,c,m.readTime)),d.isValidDocument()){const v=sS(this.zn.wt,d);o=o.add(c.path.popLast()),r+=Fb(v)-m.size,t.push(this.zn.addEntry(e,c,v))}else if(r-=m.size,this.trackRemovals){const v=sS(this.zn.wt,d.convertToNoDocument(St.min()));t.push(this.zn.addEntry(e,c,v))}}),o.forEach(c=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.zn.updateMetadata(e,r)),ue.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:o})=>(o.forEach((c,d)=>{this.Hn.set(c,{size:d,readTime:r.get(c).readTime})}),r))}}function ES(n){return Vr(n,"remoteDocumentGlobal")}function Np(n){return Vr(n,"remoteDocumentsV14")}function zv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function IS(n,e){const t=e.documentKey.path.toArray();return[n,Ob(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function DS(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(o=Vt(t[c],r[c]),o)return o;return o=Vt(t.length,r.length),o||(o=Vt(t[t.length-2],r[r.length-2]),o||Vt(t[t.length-1],r[r.length-1]))}class nO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class TS{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&pp(r.mutation,o,hi.empty(),Gn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=zt()){const o=ec();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(c=>{let d=mp();return c.forEach((m,v)=>{d=d.insert(m,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=ec();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,zt()))}populateOverlays(e,t,r){const o=[];return r.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let c=io();const d=Nm(),m=Nm();return t.forEach((v,T)=>{const M=r.get(T.key);o.has(T.key)&&(void 0===M||M.mutation instanceof Xa)?c=c.insert(T.key,T):void 0!==M&&(d.set(T.key,M.mutation.getFieldMask()),pp(M.mutation,T,M.mutation.getFieldMask(),Gn.now()))}),this.recalculateAndSaveOverlays(e,c).next(v=>(v.forEach((T,M)=>d.set(T,M)),t.forEach((T,M)=>{var R;return m.set(T,new nO(M,null!==(R=d.get(T))&&void 0!==R?R:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Nm();let o=new tr((d,m)=>d-m),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(v=>{const T=t.get(v);if(null===T)return;let M=r.get(v)||hi.empty();M=m.applyToLocalView(T,M),r.set(v,M);const R=(o.get(m.batchId)||zt()).add(v);o=o.insert(m.batchId,R)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),T=v.key,M=v.value,R=WD();M.forEach($=>{if(!c.has($)){const X=vb(t.get($),r.get($));null!==X&&R.set($,X),c=c.add($)}}),d.push(this.documentOverlayCache.saveOverlays(e,T,R))}return ue.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return We.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Iv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-c.size):ue.resolve(ec());let m=-1,v=c;return d.next(T=>ue.forEach(T,(M,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(M)?ue.resolve():this.getBaseDocument(e,M,R).next($=>{v=v.insert(M,$)}))).next(()=>this.populateOverlays(e,T,c)).next(()=>this.computeViews(e,v,T,zt())).next(M=>({batchId:m,changes:Db(M)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new We(t)).next(r=>{let o=mp();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let c=mp();return this.indexManager.getCollectionParents(e,o).next(d=>ue.forEach(d,m=>{const v=(T=t,M=m.child(o),new Gc(M,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,M;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(T=>{T.forEach((M,R)=>{c=c.insert(M,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(c=>(o=c,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(c=>{c.forEach((m,v)=>{const T=v.getKey();null===o.get(T)&&(o=o.insert(T,An.newInvalidDocument(T)))});let d=mp();return o.forEach((m,v)=>{const T=c.get(m);void 0!==T&&pp(T.mutation,v,hi.empty(),Gn.now()),pb(t,v)&&(d=d.insert(m,v))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ue.resolve(An.newInvalidDocument(t))}}class rO{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return ue.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:zr(r.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:rT(r.bundledQuery),readTime:zr(r.readTime)}),ue.resolve();var r}}class iO{constructor(){this.overlays=new tr(We.comparator),this.Xn=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ec();return ue.forEach(t,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,c)=>{this.ie(e,t,c)}),ue.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Xn.get(r);return void 0!==o&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Xn.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const o=ec(),c=t.length+1,d=new We(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const v=m.getNext().value,T=v.getKey();if(!t.isPrefixOf(T.path))break;T.path.length===c&&v.largestBatchId>r&&o.set(v.getKey(),v)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let c=new tr((T,M)=>T-M);const d=this.overlays.getIterator();for(;d.hasNext();){const T=d.getNext().value;if(T.getKey().getCollectionGroup()===t&&T.largestBatchId>r){let M=c.get(T.largestBatchId);null===M&&(M=ec(),c=c.insert(T.largestBatchId,M)),M.set(T.getKey(),T)}}const m=ec(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((T,M)=>m.set(T,M)),!(m.size()>=o)););return ue.resolve(m)}ie(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.Xn.get(o.largestBatchId).delete(r.key);this.Xn.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Ap(t,r));let c=this.Xn.get(t);void 0===c&&(c=zt(),this.Xn.set(t,c)),this.Xn.set(t,c.add(r.key))}}class oT{constructor(){this.Zn=new wn(Yi.ts),this.es=new wn(Yi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Yi(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Yi(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new We(new tn([])),r=new Yi(t,e),o=new Yi(t,e+1),c=[];return this.es.forEachInRange([r,o],d=>{this.rs(d),c.push(d.key)}),c}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new We(new tn([])),r=new Yi(t,e),o=new Yi(t,e+1);let c=zt();return this.es.forEachInRange([r,o],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new Yi(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Yi{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return We.comparator(e.key,t.key)||Vt(e.ls,t.ls)}static ns(e,t){return Vt(e.ls,t.ls)||We.comparator(e.key,t.key)}}class sO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new wn(Yi.ts)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const c=this.fs;this.fs++;const d=new Dp(c,t,r,o);this.mutationQueue.push(d);for(const m of o)this.ds=this.ds.add(new Yi(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ue.resolve(d)}lookupMutationBatch(e,t){return ue.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ws(t+1),c=o<0?0:o;return ue.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yi(t,0),o=new Yi(t,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([r,o],d=>{const m=this._s(d.ls);c.push(m)}),ue.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(Vt);return t.forEach(o=>{const c=new Yi(o,0),d=new Yi(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,d],m=>{r=r.add(m.ls)})}),ue.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;We.isDocumentKey(c)||(c=c.child(""));const d=new Yi(new We(c),0);let m=new wn(Vt);return this.ds.forEachWhile(v=>{const T=v.key.path;return!!r.isPrefixOf(T)&&(T.length===o&&(m=m.add(v.ls)),!0)},d),ue.resolve(this.gs(m))}gs(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Nt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return ue.forEach(t.mutations,o=>{const c=new Yi(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new Yi(t,0),o=this.ds.firstAfterOrEqual(r);return ue.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ue.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class oO{constructor(e){this.ps=e,this.docs=new tr(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),c=o?o.size:0,d=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=io();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():An.newInvalidDocument(o))}),ue.resolve(r)}getAllFromCollection(e,t,r){let o=io();const c=new We(t.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||tp(sv(v),r)<=0||(o=o.insert(v.key,v.mutableCopy()))}return ue.resolve(o)}getAllFromCollectionGroup(e,t,r,o){ct()}Is(e,t){return ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new aO(this)}getSize(e){return ue.resolve(this.size)}}class aO extends CS{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.zn.addEntry(e,o)):this.zn.removeEntry(r)}),ue.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class cO{constructor(e){this.persistence=e,this.Ts=new eu(t=>rd(t),Tm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Es=0,this.As=new oT,this.targetCount=0,this.Rs=Rp.An()}forEachTarget(e,t){return this.Ts.forEach((r,o)=>t(o)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),ue.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Rp(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.vn(t),ue.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.Ts.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Ts.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ue.waitFor(c).next(()=>o)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),ue.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this.As.containsKey(t))}}class AS{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Fs(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new cO(this),this.indexManager=new zP,this.remoteDocumentCache=new oO(r=>this.referenceDelegate.Ss(r)),this.wt=new jm(t),this.Ds=new rO(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new sO(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){je("MemoryPersistence","Starting transaction:",e);const o=new lO(this.Ps.next());return this.referenceDelegate.Cs(),r(o).next(c=>this.referenceDelegate.xs(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ns(e,t){return ue.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class lO extends eb{constructor(e){super(),this.currentSequenceNumber=e}}class Ub{constructor(e){this.persistence=e,this.ks=new oT,this.Ms=null}static Os(e){return new Ub(e)}get Fs(){if(this.Ms)return this.Ms;throw ct()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),ue.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(o=>this.Fs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.Fs.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Fs,r=>{const o=We.fromPath(r);return this.$s(e,o).next(c=>{c||t.removeEntry(o,St.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return ue.or([()=>ue.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class uO{constructor(e){this.wt=e}M(e,t,r,o){const c=new Dh("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",a,{unique:!0}),m.createObjectStore("documentMutations"),xS(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=ue.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),xS(e)),d=d.next(()=>function(m){const v=m.store("targetGlobal"),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",T)}(c))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,v){return v.store("mutations").K().next(T=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",a,{unique:!0});const M=v.store("mutations"),R=T.map($=>M.put($));return ue.waitFor(R)})}(e,c))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Bs(c))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(c)))),r<7&&o>=7&&(d=d.next(()=>this.Us(c))),r<8&&o>=8&&(d=d.next(()=>this.qs(e,c))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.Ks(c))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const v=m.createObjectStore("documentOverlays",{keyPath:lt});v.createIndex("collectionPathOverlayIndex",ke,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",bt,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const v=m.createObjectStore("remoteDocumentsV14",{keyPath:y});v.createIndex("documentKeyIndex",C),v.createIndex("collectionGroupIndex",D)}(e)).next(()=>this.Gs(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.Qs(e,c))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:re}).createIndex("sequenceNumberIndex",Te,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:$e}).createIndex("documentKeyIndex",Ye,{unique:!1})}(e))),d}Ls(e){let t=0;return e.store("remoteDocuments").J((r,o)=>{t+=Fb(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(o=>ue.forEach(o,c=>{const d=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",d).next(m=>ue.forEach(m,v=>{Nt(v.userId===c.userId);const T=Mp(this.wt,v);return mS(e,c.userId,T).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const c=[];return r.J((d,m)=>{const v=new tn(d),T=[0,Ls(v)];c.push(t.get(T).next(M=>M?ue.resolve():t.put({targetId:0,path:Ls(v),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ue.waitFor(c))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:Y});const r=t.store("collectionParents"),o=new sT,c=d=>{if(o.add(d)){const m=d.lastSegment(),v=d.popLast();return r.put({collectionId:m,parent:Ls(v)})}};return t.store("remoteDocuments").J({H:!0},(d,m)=>{const v=new tn(d);return c(v.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([d,m,v],T)=>{const M=s(m);return c(M.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,o)=>{const c=Hv(o),d=oS(this.wt,c);return t.put(d)})}Gs(e,t){const r=t.store("remoteDocuments"),o=[];return r.J((c,d)=>{const m=t.store("remoteDocumentsV14"),v=(T=d,T.document?new We(tn.fromString(T.document.name).popFirst(5)):T.noDocument?We.fromSegments(T.noDocument.path):T.unknownDocument?We.fromSegments(T.unknownDocument.path):ct()).path.toArray();var T;const M={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(M))}).next(()=>ue.waitFor(o))}Qs(e,t){const r=t.store("mutations"),o=bS(this.wt),c=new AS(Ub.Os,this.wt.ne);return r.K().next(d=>{const m=new Map;return d.forEach(v=>{var T;let M=null!==(T=m.get(v.userId))&&void 0!==T?T:zt();Mp(this.wt,v).keys().forEach(R=>M=M.add(R)),m.set(v.userId,M)}),ue.forEach(m,(v,T)=>{const M=new ki(T),R=kb.se(this.wt,M),$=c.getIndexManager(M),X=Lb.se(M,this.wt,$,c.referenceDelegate);return new TS(o,X,R,$).recalculateAndSaveOverlaysForDocumentKeys(new Ip(t,Fs.ot),v).next()})})}}function xS(n){n.createObjectStore("targetDocuments",{keyPath:k}).createIndex("documentTargetsIndex",U,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",S,{unique:!0}),n.createObjectStore("targetGlobal")}const aT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cT{constructor(e,t,r,o,c,d,m,v,T,M,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=c,this.window=d,this.document=m,this.Ws=T,this.zs=M,this.Hs=R,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=$=>Promise.resolve(),!cT.V())throw new Fe(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XP(this,o),this.ei=t+"main",this.wt=new jm(v),this.ni=new Oo(this.ei,this.Hs,new uO(this.wt)),this.Vs=new KP(this.referenceDelegate,this.wt),this.remoteDocumentCache=bS(this.wt),this.Ds=new jP,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===M&&ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(_e.FAILED_PRECONDITION,aT);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Fs(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,De.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,De.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,De.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Bb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Wl(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Wv(e).get("owner").next(t=>ue.resolve(this.di(t)))}_i(e){return Bb(e).delete(this.clientId)}wi(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Vr(r,"clientMetadata");return o.K().next(c=>{const d=e.gi(c,18e5),m=c.filter(v=>-1===d.indexOf(v));return ue.forEach(m,v=>o.delete(v.clientId)).next(()=>m)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?ue.resolve(!0):Wv(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Fe(_e.FAILED_PRECONDITION,aT);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bb(e).K().next(r=>void 0===this.gi(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,De.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Ip(t,Fs.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>Bb(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return Lb.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new WP(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return kb.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){je("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",c=15===(d=this.Hs)?Bv:14===d?nu:13===d?Vs:12===d?_n:11===d?Yt:void ct();var d;let m;return this.ni.runTransaction(e,o,c,v=>(m=new Ip(v,this.Ps?this.Ps.next():Fs.ot),"readwrite-primary"===t?this.ai(m).next(T=>!!T||this.hi(m)).next(T=>{if(!T)throw ur(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Fe(_e.FAILED_PRECONDITION,ov);return r(m)}).next(T=>this.fi(m).next(()=>T)):this.bi(m).next(()=>r(m)))).then(v=>(m.raiseOnCommittedEvent(),v))}bi(e){return Wv(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(_e.FAILED_PRECONDITION,aT)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wv(e).put("owner",t)}static V(){return Oo.V()}li(e){const t=Wv(e);return t.get("owner").next(r=>this.di(r)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ur(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Rt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return je("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ur("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){ur("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wv(n){return Vr(n,"owner")}function Bb(n){return Vr(n,"clientMetadata")}function lT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class uT{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=o}static Vi(e,t){let r=zt(),o=zt();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new uT(e,t.fromCache,r,o)}}class SS{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ci(e,t).next(c=>c||this.xi(e,t,o,r)).next(c=>c||this.Ni(e,t))}Ci(e,t){if(hb(t))return ue.resolve(null);let r=ro(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Dv(t,null,"F"),r=ro(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const d=zt(...c);return this.Di.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(v=>{const T=this.ki(t,m);return this.Mi(t,T,d,v.readTime)?this.Ci(e,Dv(t,null,"F")):this.Oi(e,T,t,v)}))})))}xi(e,t,r,o){return hb(t)||o.isEqual(St.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(c=>{const d=this.ki(t,c);return this.Mi(t,d,r,o)?this.Ni(e,t):(qC()<=Lc.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Tv(t)),this.Oi(e,d,t,XC(o,-1)))})}ki(e,t){let r=new wn(Sm(e));return t.forEach((o,c)=>{pb(e,c)&&(r=r.add(c))}),r}Mi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ni(e,t){return qC()<=Lc.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Tv(t)),this.Di.getDocumentsMatchingQuery(e,t,Ns.min())}Oi(e,t,r,o){return this.Di.getDocumentsMatchingQuery(e,r,o).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}class dO{constructor(e,t,r,o){this.persistence=e,this.Fi=t,this.wt=o,this.$i=new tr(Vt),this.Bi=new eu(c=>rd(c),Tm),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TS(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function MS(n,e,t,r){return new dO(n,e,t,r)}function PS(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,De.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],m=[];let v=zt();for(const T of o){d.push(T.batchId);for(const M of T.mutations)v=v.add(M.key)}for(const T of c){m.push(T.batchId);for(const M of T.mutations)v=v.add(M.key)}return t.localDocuments.getDocuments(r,v).next(T=>({Ki:T,removedBatchIds:d,addedBatchIds:m}))})})}),dT.apply(this,arguments)}function hO(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.Ui.newChangeBuffer({trackRemovals:!0});return function(d,m,v,T){const M=v.batch,R=M.keys();let $=ue.resolve();return R.forEach(X=>{$=$.next(()=>T.getEntry(m,X)).next(se=>{const Re=v.docVersions.get(X);Nt(null!==Re),se.version.compareTo(Re)<0&&(M.applyToRemoteDocument(se,v),se.isValidDocument()&&(se.setReadTime(v.commitVersion),T.addEntry(se)))})}),$.next(()=>d.mutationQueue.removeMutationBatch(m,M))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=zt();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(m=m.add(d.batch.mutations[v].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function OS(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function fO(n,e){const t=tt(n),r=e.snapshotVersion;let o=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.Ui.newChangeBuffer({trackRemovals:!0});o=t.$i;const m=[];e.targetChanges.forEach((M,R)=>{const $=o.get(R);if(!$)return;m.push(t.Vs.removeMatchingKeys(c,M.removedDocuments,R).next(()=>t.Vs.addMatchingKeys(c,M.addedDocuments,R)));let X=$.withSequenceNumber(c.currentSequenceNumber);var se,Re,Be;e.targetMismatches.has(R)?X=X.withResumeToken(Zr.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):M.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(M.resumeToken,r)),o=o.insert(R,X),Re=X,Be=M,(0===(se=$).resumeToken.approximateByteSize()||Re.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=3e8||Be.addedDocuments.size+Be.modifiedDocuments.size+Be.removedDocuments.size>0)&&m.push(t.Vs.updateTargetData(c,X))});let v=io(),T=zt();if(e.documentUpdates.forEach(M=>{e.resolvedLimboDocuments.has(M)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,M))}),m.push(kS(c,d,e.documentUpdates).next(M=>{v=M.Gi,T=M.Qi})),!r.isEqual(St.min())){const M=t.Vs.getLastRemoteSnapshotVersion(c).next(R=>t.Vs.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(M)}return ue.waitFor(m).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,v,T)).next(()=>v)}).then(c=>(t.$i=o,c))}function kS(n,e,t){let r=zt(),o=zt();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let d=io();return t.forEach((m,v)=>{const T=c.get(m);v.isFoundDocument()!==T.isFoundDocument()&&(o=o.add(m)),v.isNoDocument()&&v.version.isEqual(St.min())?(e.removeEntry(m,v.readTime),d=d.insert(m,v)):!T.isValidDocument()||v.version.compareTo(T.version)>0||0===v.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(v),d=d.insert(m,v)):je("LocalStore","Ignoring outdated watch update for ",m,". Current version:",T.version," Watch version:",v.version)}),{Gi:d,Qi:o}})}function pO(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qm(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Vs.getTargetData(r,e).next(c=>c?(o=c,ue.resolve(o)):t.Vs.allocateTargetId(r).next(d=>(o=new nc(e,d,0,r.currentSequenceNumber),t.Vs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.$i.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function Gm(n,e,t){return hT.apply(this,arguments)}function hT(){return hT=(0,De.Z)(function*(n,e,t){const r=tt(n),o=r.$i.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Wl(d))throw d;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.$i=r.$i.remove(e),r.Bi.delete(o.target)}),hT.apply(this,arguments)}function jb(n,e,t){const r=tt(n);let o=St.min(),c=zt();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,v,T){const M=tt(m),R=M.Bi.get(T);return void 0!==R?ue.resolve(M.$i.get(R)):M.Vs.getTargetData(v,T)}(r,d,ro(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(d,m.targetId).next(v=>{c=v})}).next(()=>r.Fi.getDocumentsMatchingQuery(d,e,t?o:St.min(),t?c:zt())).next(m=>(FS(r,gb(e),m),{documents:m,ji:c})))}function RS(n,e){const t=tt(n),r=tt(t.Vs),o=t.$i.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",c=>r.te(c,e).next(d=>d?d.target:null))}function NS(n,e){const t=tt(n),r=t.Li.get(e)||St.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Ui.getAllFromCollectionGroup(o,e,XC(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(FS(t,e,o),o))}function FS(n,e,t){let r=St.min();t.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.Li.set(e,r)}function fT(){return fT=(0,De.Z)(function*(n,e,t,r){const o=tt(n);let c=zt(),d=io();for(const T of t){const M=e.Wi(T.metadata.name);T.document&&(c=c.add(M));const R=e.zi(T);R.setReadTime(e.Hi(T.metadata.readTime)),d=d.insert(M,R)}const m=o.Ui.newChangeBuffer({trackRemovals:!0}),v=yield qm(o,(T=r,ro(up(tn.fromString(`__bundle__/docs/${T}`)))));var T;return o.persistence.runTransaction("Apply bundle documents","readwrite",T=>kS(T,m,d).next(M=>(m.apply(T),M)).next(M=>o.Vs.removeMatchingKeysForTargetId(T,v.targetId).next(()=>o.Vs.addMatchingKeys(T,c,v.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(T,M.Gi,M.Qi)).next(()=>M.Gi)))}),fT.apply(this,arguments)}function mO(n,e){return pT.apply(this,arguments)}function pT(){return pT=(0,De.Z)(function*(n,e,t=zt()){const r=yield qm(n,ro(rT(e.bundledQuery))),o=tt(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const d=zr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.Ds.saveNamedQuery(c,e);const m=r.withResumeToken(Zr.EMPTY_BYTE_STRING,d);return o.$i=o.$i.insert(m.targetId,m),o.Vs.updateTargetData(c,m).next(()=>o.Vs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.Vs.addMatchingKeys(c,t,r.targetId)).next(()=>o.Ds.saveNamedQuery(c,e))})}),pT.apply(this,arguments)}function LS(n,e){return`firestore_clients_${n}_${e}`}function VS(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function gT(n,e){return`firestore_targets_${n}_${e}`}class Hb{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let c,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(c=new Fe(o.error.code,o.error.message))),d?new Hb(e,t,o.state,c):(ur("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Fe(r.error.code,r.error.message))),c?new Kv(e,r.state,o):(ur("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $b{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=cd();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=ip(r.activeTargetIds[d]),c=c.add(r.activeTargetIds[d]);return o?new $b(e,c):(ur("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mT{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mT(t.clientId,t.onlineState):(ur("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _T{constructor(){this.activeTargetIds=cd()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yT{constructor(e,t,r,o,c){this.window=e,this.js=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new tr(Vt),this.started=!1,this.ir=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.rr=LS(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new _T),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const t=yield e.syncEngine.Ri();for(const o of t){if(o===e.tr)continue;const c=e.getItem(LS(e.persistenceKey,o));if(c){const d=$b.Ji(o,c);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(gT(this.persistenceKey,e));if(r){const o=Kv.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gT(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(je("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,De.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const o=t.vr(r.key,r.newValue);if(o)return t.Vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(c){let d=Fs.ot;if(null!=c)try{const m=JSON.parse(c);Nt("number"==typeof m),d=m}catch(m){ur("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==Fs.ot&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(c=>t.syncEngine.Nr(c)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new Hb(this.currentUser,e,t,r),c=VS(this.persistenceKey,this.currentUser,e);this.setItem(c,o.Yi())}pr(e){const t=VS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=gT(this.persistenceKey,e),c=new Kv(e,t,r);this.setItem(o,c.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return $b.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),o=Number(r[1]);return Hb.Ji(new ki(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return Kv.Ji(o,t)}wr(e){return mT.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,De.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),c=this.gr(r),d=[],m=[];return c.forEach(v=>{o.has(v)||d.push(v)}),o.forEach(v=>{c.has(v)||m.push(v)}),this.syncEngine.Or(d,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=cd();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class US{constructor(){this.Fr=new _T,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new _T,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _O{Br(e){}shutdown(){}}class BS{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vO{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class wO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,c){const d=this.oo(e,t);je("RestConnection","Sending: ",d,r);const m={};return this.uo(m,o,c),this.co(e,d,m,r).then(v=>(je("RestConnection","Received: ",v),v),v=>{throw jc("RestConnection",`${e} failed with error: `,v,"url: ",d,"request:",r),v})}ao(e,t,r,o,c,d){return this.ro(e,t,r,o,c)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ju,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}oo(e,t){return`${this.so}/v1/${t}:${yO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,o){return new Promise((c,d)=>{const m=new $C;m.listenOnce(xD.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Qf.NO_ERROR:const T=m.getResponseJson();je("Connection","XHR received:",JSON.stringify(T)),c(T);break;case Qf.TIMEOUT:je("Connection",'RPC "'+e+'" timed out'),d(new Fe(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Qf.HTTP_ERROR:const M=m.getStatus();if(je("Connection",'RPC "'+e+'" failed with status:',M,"response text:",m.getResponseText()),M>0){const R=m.getResponseJson().error;if(R&&R.status&&R.message){const $=function(X){const se=X.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(se)>=0?se:_e.UNKNOWN}(R.status);d(new Fe($,R.message))}else d(new Fe(_e.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Fe(_e.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{je("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(o);m.send(t,"POST",v,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=TD(),d=AD(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new SD({})),this.uo(m.initMessageHeaders,t,r),(0,Rt.uI)()||(0,Rt.b$)()||(0,Rt.d)()||(0,Rt.w1)()||(0,Rt.Mn)()||(0,Rt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=o.join("");je("Connection","Creating WebChannel: "+v,m);const T=c.createWebChannel(v,m);let M=!1,R=!1;const $=new vO({jr:se=>{R?je("Connection","Not sending because WebChannel is closed:",se):(M||(je("Connection","Opening WebChannel transport."),T.open(),M=!0),je("Connection","WebChannel sending:",se),T.send(se))},Wr:()=>T.close()}),X=(se,Re,Be)=>{se.listen(Re,Et=>{try{Be(Et)}catch(Mt){setTimeout(()=>{throw Mt},0)}})};return X(T,Bc.EventType.OPEN,()=>{R||je("Connection","WebChannel transport opened.")}),X(T,Bc.EventType.CLOSE,()=>{R||(R=!0,je("Connection","WebChannel transport closed"),$.eo())}),X(T,Bc.EventType.ERROR,se=>{R||(R=!0,jc("Connection","WebChannel transport errored:",se),$.eo(new Fe(_e.UNAVAILABLE,"The operation could not be completed")))}),X(T,Bc.EventType.MESSAGE,se=>{var Re;if(!R){const Be=se.data[0];Nt(!!Be);const Et=Be,Mt=Et.error||(null===(Re=Et[0])||void 0===Re?void 0:Re.error);if(Mt){je("Connection","WebChannel received error:",Mt);const It=Mt.status;let pt=function($t){const Dr=Lr[$t];if(void 0!==Dr)return Ib(Dr)}(It),Ot=Mt.message;void 0===pt&&(pt=_e.INTERNAL,Ot="Unknown error status: "+It+" with message "+Mt.message),R=!0,$.eo(new Fe(pt,Ot)),T.close()}else je("Connection","WebChannel received:",Be),$.no(Be)}}),X(d,jx.STAT_EVENT,se=>{se.stat===HC.PROXY?je("Connection","Detected buffering proxy"):se.stat===HC.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{$.Zr()},0),$}}function jS(){return"undefined"!=typeof window?window:null}function qb(){return"undefined"!=typeof document?document:null}function Yv(n){return new Qx(n,!0)}class vT{constructor(e,t,r=1e3,o=1.5,c=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=o,this._o=c,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&je("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class HS{constructor(e,t,r,o,c,d,m,v){this.js=e,this.Ao=r,this.Ro=o,this.bo=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new vT(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,De.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,De.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,De.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===_e.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new Fe(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,De.Z)(function*(){e.state=0,e.start()}))}qo(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CO extends HS{constructor(e,t,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.wt=c}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Xx(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:ct(),o=e.targetChange.targetIds||[],c=function(v,T){return v.dt?(Nt(void 0===T||"string"==typeof T),Zr.fromBase64String(T||"")):(Nt(void 0===T||T instanceof Uint8Array),Zr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(v){const T=void 0===v.code?_e.UNKNOWN:Ib(v.code);return new Fe(T,v.message||"")}(d);t=new kv(r,o,c,m||null)}else if("documentChange"in e){const r=e.documentChange,o=tc(n,r.document.name),c=zr(r.document.updateTime),d=new Ni({mapValue:{fields:r.document.fields}}),m=An.newFoundDocument(o,c,d);t=new vp(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=tc(n,r.document),c=r.readTime?zr(r.readTime):St.min(),d=An.newNoDocument(o,c);t=new vp([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=tc(n,r.document);t=new vp([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ct();{const r=e.filter,c=new Eb(r.count||0);t=new tu(r.targetId,c)}}var v;return t}(this.wt,e),r=function(o){if(!("targetChange"in o))return St.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?zr(c.readTime):St.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=Oh(this.wt),t.addTarget=function(o,c){let d;const m=c.target;return d=lp(m)?{documents:Mb(o,m)}:{query:JD(o,m)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?d.resumeToken=YD(o,c.resumeToken):c.snapshotVersion.compareTo(St.min())>0&&(d.readTime=Um(o,c.snapshotVersion.toTimestamp())),d}(this.wt,e);const r=function eT(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=Oh(this.wt),t.removeTarget=e,this.Oo(t)}}class bO extends HS{constructor(e,t,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.wt=c,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function QD(n,e){return n&&n.length>0?(Nt(void 0!==e),n.map(t=>function(r,o){let c=zr(r.updateTime?r.updateTime:o);return c.isEqual(St.min())&&(c=zr(o)),new GD(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=zr(e.commitTime);return this.listener.Jo(r,t)}return Nt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Oh(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>kh(this.wt,r))};this.Oo(t)}}class EO extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=o,this.Zo=!1}tu(){if(this.Zo)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.bo.ro(e,t,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(_e.UNKNOWN,o.toString())})}ao(e,t,r,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.bo.ao(e,t,r,c,d,o)).catch(c=>{throw"FirebaseError"===c.name?(c.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Fe(_e.UNKNOWN,c.toString())})}terminate(){this.Zo=!0}}class IO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ur(t),this.su=!1):je("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class DO{constructor(e,t,r,o,c){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=c,this.du.Br(m=>{r.enqueueAndForget((0,De.Z)(function*(){var v;Fh(d)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,De.Z)(function*(T){const M=tt(T);M.lu.add(4),yield Zm(M),M._u.set("Unknown"),M.lu.delete(4),yield Qv(M)}),function(T){return v.apply(this,arguments)})(d))}))}),this._u=new IO(r,o)}}function Qv(n){return wT.apply(this,arguments)}function wT(){return wT=(0,De.Z)(function*(n){if(Fh(n))for(const e of n.fu)yield e(!0)}),wT.apply(this,arguments)}function Zm(n){return CT.apply(this,arguments)}function CT(){return CT=(0,De.Z)(function*(n){for(const e of n.fu)yield e(!1)}),CT.apply(this,arguments)}function Gb(n,e){const t=tt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),IT(t)?ET(t):Wm(t).Co()&&bT(t,e))}function Jv(n,e){const t=tt(n),r=Wm(t);t.hu.delete(e),r.Co()&&$S(t,e),0===t.hu.size&&(r.Co()?r.ko():Fh(t)&&t._u.set("Unknown"))}function bT(n,e){n.wu.Nt(e.targetId),Wm(n).Qo(e)}function $S(n,e){n.wu.Nt(e),Wm(n).jo(e)}function ET(n){n.wu=new Rv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Wm(n).start(),n._u.iu()}function IT(n){return Fh(n)&&!Wm(n).Do()&&n.hu.size>0}function Fh(n){return 0===tt(n).lu.size}function qS(n){n.wu=void 0}function TO(n){return DT.apply(this,arguments)}function DT(){return DT=(0,De.Z)(function*(n){n.hu.forEach((e,t)=>{bT(n,e)})}),DT.apply(this,arguments)}function AO(n,e){return TT.apply(this,arguments)}function TT(){return TT=(0,De.Z)(function*(n,e){qS(n),IT(n)?(n._u.uu(e),ET(n)):n._u.set("Unknown")}),TT.apply(this,arguments)}function xO(n,e,t){return AT.apply(this,arguments)}function AT(){return AT=(0,De.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof kv&&2===e.state&&e.cause)try{yield(r=(0,De.Z)(function*(o,c){const d=c.cause;for(const m of c.targetIds)o.hu.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.hu.delete(m),o.wu.removeTarget(m))}),function(o,c){return r.apply(this,arguments)})(n,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Zb(n,r)}else if(e instanceof vp?n.wu.Ut(e):e instanceof tu?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(St.min()))try{const r=yield OS(n.localStore);t.compareTo(r)>=0&&(yield function(o,c){const d=o.wu.Yt(c);return d.targetChanges.forEach((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const T=o.hu.get(v);T&&o.hu.set(v,T.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach(m=>{const v=o.hu.get(m);if(!v)return;o.hu.set(m,v.withResumeToken(Zr.EMPTY_BYTE_STRING,v.snapshotVersion)),$S(o,m);const T=new nc(v.target,m,1,v.sequenceNumber);bT(o,T)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){je("RemoteStore","Failed to raise snapshot:",r),yield Zb(n,r)}var r}),AT.apply(this,arguments)}function Zb(n,e,t){return xT.apply(this,arguments)}function xT(){return xT=(0,De.Z)(function*(n,e,t){if(!Wl(e))throw e;n.lu.add(1),yield Zm(n),n._u.set("Offline"),t||(t=()=>OS(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Qv(n)}))}),xT.apply(this,arguments)}function GS(n,e){return e().catch(t=>Zb(n,t,e))}function zm(n){return ST.apply(this,arguments)}function ST(){return ST=(0,De.Z)(function*(n){const e=tt(n),t=Lh(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;SO(e);)try{const o=yield pO(e.localStore,r);if(null===o){0===e.au.length&&t.ko();break}r=o.batchId,MO(e,o)}catch(o){yield Zb(e,o)}ZS(e)&&zS(e)}),ST.apply(this,arguments)}function SO(n){return Fh(n)&&n.au.length<10}function MO(n,e){n.au.push(e);const t=Lh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function ZS(n){return Fh(n)&&!Lh(n).Do()&&n.au.length>0}function zS(n){Lh(n).start()}function PO(n){return MT.apply(this,arguments)}function MT(){return MT=(0,De.Z)(function*(n){Lh(n).Xo()}),MT.apply(this,arguments)}function OO(n){return PT.apply(this,arguments)}function PT(){return PT=(0,De.Z)(function*(n){const e=Lh(n);for(const t of n.au)e.Ho(t.mutations)}),PT.apply(this,arguments)}function kO(n,e,t){return OT.apply(this,arguments)}function OT(){return OT=(0,De.Z)(function*(n,e,t){const r=n.au.shift(),o=Tp.from(r,e,t);yield GS(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield zm(n)}),OT.apply(this,arguments)}function RO(n,e){return kT.apply(this,arguments)}function kT(){return kT=(0,De.Z)(function*(n,e){var t;e&&Lh(n).zo&&(yield(t=(0,De.Z)(function*(r,o){if(Pv(c=o.code)&&c!==_e.ABORTED){const d=r.au.shift();Lh(r).No(),yield GS(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield zm(r)}var c}),function(r,o){return t.apply(this,arguments)})(n,e)),ZS(n)&&zS(n)}),kT.apply(this,arguments)}function WS(n,e){return RT.apply(this,arguments)}function RT(){return RT=(0,De.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=Fh(t);t.lu.add(3),yield Zm(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Qv(t)}),RT.apply(this,arguments)}function NT(n,e){return FT.apply(this,arguments)}function FT(){return FT=(0,De.Z)(function*(n,e){const t=tt(n);e?(t.lu.delete(2),yield Qv(t)):e||(t.lu.add(2),yield Zm(t),t._u.set("Unknown"))}),FT.apply(this,arguments)}function Wm(n){return n.mu||(n.mu=function(e,t,r){const o=tt(e);return o.tu(),new CO(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:TO.bind(null,n),Jr:AO.bind(null,n),Go:xO.bind(null,n)}),n.fu.push(function(){var e=(0,De.Z)(function*(t){t?(n.mu.No(),IT(n)?ET(n):n._u.set("Unknown")):(yield n.mu.stop(),qS(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Lh(n){return n.gu||(n.gu=function(e,t,r){const o=tt(e);return o.tu(),new bO(t,o.bo,o.authCredentials,o.appCheckCredentials,o.wt,r)}(n.datastore,n.asyncQueue,{zr:PO.bind(null,n),Jr:RO.bind(null,n),Yo:OO.bind(null,n),Jo:kO.bind(null,n)}),n.fu.push(function(){var e=(0,De.Z)(function*(t){t?(n.gu.No(),yield zm(n)):(yield n.gu.stop(),n.au.length>0&&(je("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class LT{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,c){const d=Date.now()+r,m=new LT(e,t,d,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Km(n,e){if(ur("AsyncQueue",`${e}: ${n}`),Wl(n))return new Fe(_e.UNAVAILABLE,`${e}: ${n}`);throw n}class Ym{constructor(e){this.comparator=e?(t,r)=>e(t,r)||We.comparator(t.key,r.key):(t,r)=>We.comparator(t.key,r.key),this.keyedMap=mp(),this.sortedSet=new tr(this.comparator)}static emptySet(e){return new Ym(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ym)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ym;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class KS{constructor(){this.yu=new tr(We.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ct():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Qm{constructor(e,t,r,o,c,d,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,o){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Qm(e,t,Ym.emptySet(t),c,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class NO{constructor(){this.Iu=void 0,this.listeners=[]}}class FO{constructor(){this.queries=new eu(e=>fb(e),fp),this.onlineState="Unknown",this.Tu=new Set}}function VT(n,e){return UT.apply(this,arguments)}function UT(){return UT=(0,De.Z)(function*(n,e){const t=tt(n),r=e.query;let o=!1,c=t.queries.get(r);if(c||(o=!0,c=new NO),o)try{c.Iu=yield t.onListen(r)}catch(d){const m=Km(d,`Initialization of query '${Tv(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,c),c.listeners.push(e),e.Eu(t.onlineState),c.Iu&&e.Au(c.Iu)&&HT(t)}),UT.apply(this,arguments)}function BT(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,De.Z)(function*(n,e){const t=tt(n),r=e.query;let o=!1;const c=t.queries.get(r);if(c){const d=c.listeners.indexOf(e);d>=0&&(c.listeners.splice(d,1),o=0===c.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),jT.apply(this,arguments)}function LO(n,e){const t=tt(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.Au(o)&&(r=!0);d.Iu=o}}r&&HT(t)}function VO(n,e,t){const r=tt(n),o=r.queries.get(e);if(o)for(const c of o.listeners)c.onError(t);r.queries.delete(e)}function HT(n){n.Tu.forEach(e=>{e.next()})}class $T{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Qm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Qm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class UO{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class YS{constructor(e){this.wt=e}Wi(e){return tc(this.wt,e)}zi(e){return e.metadata.exists?Vv(this.wt,e.document,!1):An.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return zr(e)}}class BO{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=QS(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=tn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new YS(this.wt);for(const o of e)if(o.metadata.queries){const c=r.Wi(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||zt()).add(c);t.set(d,m)}}return t}complete(){var e=this;return(0,De.Z)(function*(){const t=yield function gO(n,e,t,r){return fT.apply(this,arguments)}(e.localStore,new YS(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield mO(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function QS(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class JS{constructor(e){this.key=e}}class XS{constructor(e){this.key=e}}class eM{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=zt(),this.mutatedKeys=zt(),this.Lu=Sm(e),this.Uu=new Ym(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new KS,o=t?t.Uu:this.Uu;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const v="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,T="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((M,R)=>{const $=o.get(M),X=pb(this.query,R)?R:null,se=!!$&&this.mutatedKeys.has($.key),Re=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let Be=!1;$&&X?$.data.isEqual(X.data)?se!==Re&&(r.track({type:3,doc:X}),Be=!0):this.Qu($,X)||(r.track({type:2,doc:X}),Be=!0,(v&&this.Lu(X,v)>0||T&&this.Lu(X,T)<0)&&(m=!0)):!$&&X?(r.track({type:0,doc:X}),Be=!0):$&&!X&&(r.track({type:1,doc:$}),Be=!0,(v||T)&&(m=!0)),Be&&(X?(d=d.add(X),c=Re?c.add(M):c.delete(M)):(d=d.delete(M),c=c.delete(M)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const M="F"===this.query.limitType?d.last():d.first();d=d.delete(M.key),c=c.delete(M.key),r.track({type:1,doc:M})}return{Uu:d,Gu:r,Mi:m,mutatedKeys:c}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const c=e.Gu.pu();c.sort((T,M)=>function(R,$){const X=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return X(R)-X($)}(T.type,M.type)||this.Lu(T.doc,M.doc)),this.ju(r);const d=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,v=m!==this.$u;return this.$u=m,0!==c.length||v?{snapshot:new Qm(this.query,e.Uu,o,c,e.mutatedKeys,0===m,v,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new KS,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=zt(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new XS(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new JS(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=zt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Qm.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class jO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class HO{constructor(e){this.key=e,this.Xu=!1}}class $O{constructor(e,t,r,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Zu={},this.tc=new eu(m=>fb(m),fp),this.ec=new Map,this.nc=new Set,this.sc=new tr(We.comparator),this.ic=new Map,this.rc=new oT,this.oc={},this.uc=new Map,this.cc=Rp.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function qO(n,e){return qT.apply(this,arguments)}function qT(){return qT=(0,De.Z)(function*(n,e){const t=fA(n);let r,o;const c=t.tc.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),o=c.view.Yu();else{const d=yield qm(t.localStore,ro(e));t.isPrimaryClient&&Gb(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield GT(t,e,r,"current"===m)}return o}),qT.apply(this,arguments)}function GT(n,e,t,r){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,De.Z)(function*(n,e,t,r){n.hc=(M,R,$)=>{return(X=(0,De.Z)(function*(se,Re,Be,Et){let Mt=Re.view.Ku(Be);Mt.Mi&&(Mt=yield jb(se.localStore,Re.query,!1).then(({documents:Ot})=>Re.view.Ku(Ot,Mt)));const It=Et&&Et.targetChanges.get(Re.targetId),pt=Re.view.applyChanges(Mt,se.isPrimaryClient,It);return nA(se,Re.targetId,pt.zu),pt.snapshot}),function(se,Re,Be,Et){return X.apply(this,arguments)})(n,M,R,$);var X};const o=yield jb(n.localStore,e,!0),c=new eM(e,o.ji),d=c.Ku(o.documents),m=yp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=c.applyChanges(d,n.isPrimaryClient,m);nA(n,t,v.zu);const T=new jO(e,t,c);return n.tc.set(e,T),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),v.snapshot}),ZT.apply(this,arguments)}function GO(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,De.Z)(function*(n,e){const t=tt(n),r=t.tc.get(e),o=t.ec.get(r.targetId);if(o.length>1)return t.ec.set(r.targetId,o.filter(c=>!fp(c,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Gm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Jv(t.remoteStore,r.targetId),Jm(t,r.targetId)}).catch(zl))):(Jm(t,r.targetId),yield Gm(t.localStore,r.targetId,!0))}),zT.apply(this,arguments)}function WT(){return WT=(0,De.Z)(function*(n,e,t){const r=pA(n);try{const o=yield function(c,d){const m=tt(c),v=Gn.now(),T=d.reduce(($,X)=>$.add(X.key),zt());let M,R;return m.persistence.runTransaction("Locally write mutations","readwrite",$=>{let X=io(),se=zt();return m.Ui.getEntries($,T).next(Re=>{X=Re,X.forEach((Be,Et)=>{Et.isValidDocument()||(se=se.add(Be))})}).next(()=>m.localDocuments.getOverlayedDocuments($,X)).next(Re=>{M=Re;const Be=[];for(const Et of d){const Mt=ZD(Et,M.get(Et.key).overlayedDocument);null!=Mt&&Be.push(new Xa(Et.key,Mt,_v(Mt.value.mapValue),fr.exists(!0)))}return m.mutationQueue.addMutationBatch($,v,Be,d)}).next(Re=>{R=Re;const Be=Re.applyToLocalDocumentSet(M,se);return m.documentOverlayCache.saveOverlays($,Re.batchId,Be)})}).then(()=>({batchId:R.batchId,changes:Db(M)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,d,m){let v=c.oc[c.currentUser.toKey()];v||(v=new tr(Vt)),v=v.insert(d,m),c.oc[c.currentUser.toKey()]=v}(r,o.batchId,t),yield ld(r,o.changes),yield zm(r.remoteStore)}catch(o){const c=Km(o,"Failed to persist write");t.reject(c)}}),WT.apply(this,arguments)}function tM(n,e){return KT.apply(this,arguments)}function KT(){return KT=(0,De.Z)(function*(n,e){const t=tt(n);try{const r=yield fO(t.localStore,e);e.targetChanges.forEach((o,c)=>{const d=t.ic.get(c);d&&(Nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Xu=!0:o.modifiedDocuments.size>0?Nt(d.Xu):o.removedDocuments.size>0&&(Nt(d.Xu),d.Xu=!1))}),yield ld(t,r,e)}catch(r){yield zl(r)}}),KT.apply(this,arguments)}function nM(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.tc.forEach((c,d)=>{const m=d.view.Eu(e);m.snapshot&&o.push(m.snapshot)}),function(c,d){const m=tt(c);m.onlineState=d;let v=!1;m.queries.forEach((T,M)=>{for(const R of M.listeners)R.Eu(d)&&(v=!0)}),v&&HT(m)}(r.eventManager,e),o.length&&r.Zu.Go(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zO(n,e,t){return YT.apply(this,arguments)}function YT(){return YT=(0,De.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ic.get(e),c=o&&o.key;if(c){let d=new tr(We.comparator);d=d.insert(c,An.newNoDocument(c,St.min()));const m=zt().add(c),v=new _p(St.min(),new Map,new wn(Vt),d,m);yield tM(r,v),r.sc=r.sc.remove(c),r.ic.delete(e),rA(r)}else yield Gm(r.localStore,e,!1).then(()=>Jm(r,e,t)).catch(zl)}),YT.apply(this,arguments)}function WO(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,De.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const o=yield hO(t.localStore,e);tA(t,r,null),eA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ld(t,o)}catch(o){yield zl(o)}}),QT.apply(this,arguments)}function KO(n,e,t){return JT.apply(this,arguments)}function JT(){return JT=(0,De.Z)(function*(n,e,t){const r=tt(n);try{const o=yield function(c,d){const m=tt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let T;return m.mutationQueue.lookupMutationBatch(v,d).next(M=>(Nt(null!==M),T=M.keys(),m.mutationQueue.removeMutationBatch(v,M))).next(()=>m.mutationQueue.performConsistencyCheck(v)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(v,T,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T)).next(()=>m.localDocuments.getDocuments(v,T))})}(r.localStore,e);tA(r,e,t),eA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ld(r,o)}catch(o){yield zl(o)}}),JT.apply(this,arguments)}function XT(){return XT=(0,De.Z)(function*(n,e){const t=tt(n);Fh(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const d=tt(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.uc.get(r)||[];o.push(e),t.uc.set(r,o)}catch(r){const o=Km(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),XT.apply(this,arguments)}function eA(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function tA(n,e,t){const r=tt(n);let o=r.oc[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.oc[r.currentUser.toKey()]=o}}function Jm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||rM(n,r)})}function rM(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(Jv(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),rA(n))}function nA(n,e,t){for(const r of t)r instanceof JS?(n.rc.addReference(r.key,e),QO(n,r)):r instanceof XS?(je("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||rM(n,r.key)):ct()}function QO(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(je("SyncEngine","New document in limbo: "+t),n.nc.add(r),rA(n))}function rA(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new We(tn.fromString(e)),r=n.cc.next();n.ic.set(r,new HO(t)),n.sc=n.sc.insert(t,r),Gb(n.remoteStore,new nc(ro(up(t.path)),r,2,Fs.ot))}}function ld(n,e,t){return iA.apply(this,arguments)}function iA(){return iA=(0,De.Z)(function*(n,e,t){const r=tt(n),o=[],c=[],d=[];var m;r.tc.isEmpty()||(r.tc.forEach((m,v)=>{d.push(r.hc(v,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,T.fromCache?"not-current":"current"),o.push(T);const M=uT.Vi(v.targetId,T);c.push(M)}}))}),yield Promise.all(d),r.Zu.Go(o),yield(m=(0,De.Z)(function*(v,T){const M=tt(v);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ue.forEach(T,$=>ue.forEach($.Pi,X=>M.persistence.referenceDelegate.addReference(R,$.targetId,X)).next(()=>ue.forEach($.vi,X=>M.persistence.referenceDelegate.removeReference(R,$.targetId,X)))))}catch(R){if(!Wl(R))throw R;je("LocalStore","Failed to update sequence numbers: "+R)}for(const R of T){const $=R.targetId;if(!R.fromCache){const X=M.$i.get($),Re=X.withLastLimboFreeSnapshotVersion(X.snapshotVersion);M.$i=M.$i.insert($,Re)}}}),function(v,T){return m.apply(this,arguments)})(r.localStore,c))}),iA.apply(this,arguments)}function JO(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,De.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=yield PS(t.localStore,e);t.currentUser=e,(o=t).uc.forEach(d=>{d.forEach(m=>{m.reject(new Fe(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ld(t,r.Ki)}var o}),sA.apply(this,arguments)}function XO(n,e){const t=tt(n),r=t.ic.get(e);if(r&&r.Xu)return zt().add(r.key);{let o=zt();const c=t.ec.get(e);if(!c)return o;for(const d of c){const m=t.tc.get(d);o=o.unionWith(m.view.qu)}return o}}function ek(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,De.Z)(function*(n,e){const t=tt(n),r=yield jb(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&nA(t,e.targetId,o.zu),o}),oA.apply(this,arguments)}function tk(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,De.Z)(function*(n,e){const t=tt(n);return NS(t.localStore,e).then(r=>ld(t,r))}),aA.apply(this,arguments)}function nk(n,e,t,r){return cA.apply(this,arguments)}function cA(){return cA=(0,De.Z)(function*(n,e,t,r){const o=tt(n),c=yield function(d,m){const v=tt(d),T=tt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",M=>T.yn(M,m).next(R=>R?v.localDocuments.getDocuments(M,R):ue.resolve(null)))}(o.localStore,e);var m;null!==c?("pending"===t?yield zm(o.remoteStore):"acknowledged"===t||"rejected"===t?(tA(o,e,r||null),eA(o,e),m=e,tt(tt(o.localStore).mutationQueue).In(m)):ct(),yield ld(o,c)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),cA.apply(this,arguments)}function lA(){return lA=(0,De.Z)(function*(n,e){const t=tt(n);if(fA(t),pA(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield iM(t,r.toArray());t.ac=!0,yield NT(t.remoteStore,!0);for(const c of o)Gb(t.remoteStore,c)}else if(!1===e&&!1!==t.ac){const r=[];let o=Promise.resolve();t.ec.forEach((c,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(Jm(t,d),Gm(t.localStore,d,!0))),Jv(t.remoteStore,d)}),yield o,yield iM(t,r),function(c){const d=tt(c);d.ic.forEach((m,v)=>{Jv(d.remoteStore,v)}),d.rc.cs(),d.ic=new Map,d.sc=new tr(We.comparator)}(t),t.ac=!1,yield NT(t.remoteStore,!1)}}),lA.apply(this,arguments)}function iM(n,e,t){return uA.apply(this,arguments)}function uA(){return uA=(0,De.Z)(function*(n,e,t){const r=tt(n),o=[],c=[];for(const d of e){let m;const v=r.ec.get(d);if(v&&0!==v.length){m=yield qm(r.localStore,ro(v[0]));for(const T of v){const M=r.tc.get(T),R=yield ek(r,M);R.snapshot&&c.push(R.snapshot)}}else{const T=yield RS(r.localStore,d);m=yield qm(r.localStore,T),yield GT(r,sM(T),d,!1)}o.push(m)}return r.Zu.Go(c),o}),uA.apply(this,arguments)}function sM(n){return bv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ik(n){const e=tt(n);return tt(tt(e.localStore).persistence).Ri()}function sk(n,e,t,r){return dA.apply(this,arguments)}function dA(){return dA=(0,De.Z)(function*(n,e,t,r){const o=tt(n);if(o.ac)return void je("SyncEngine","Ignoring unexpected query state notification.");const c=o.ec.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const d=yield NS(o.localStore,gb(c[0])),m=_p.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ld(o,d,m);break}case"rejected":yield Gm(o.localStore,e,!0),Jm(o,e,r);break;default:ct()}}),dA.apply(this,arguments)}function ok(n,e,t){return hA.apply(this,arguments)}function hA(){return hA=(0,De.Z)(function*(n,e,t){const r=fA(n);if(r.ac){for(const o of e){if(r.ec.has(o)){je("SyncEngine","Adding an already active target "+o);continue}const c=yield RS(r.localStore,o),d=yield qm(r.localStore,c);yield GT(r,sM(c),d.targetId,!1),Gb(r.remoteStore,d)}for(const o of t)r.ec.has(o)&&(yield Gm(r.localStore,o,!1).then(()=>{Jv(r.remoteStore,o),Jm(r,o)}).catch(zl))}}),hA.apply(this,arguments)}function fA(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zO.bind(null,e),e.Zu.Go=LO.bind(null,e.eventManager),e.Zu.lc=VO.bind(null,e.eventManager),e}function pA(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KO.bind(null,e),e}class oM{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,De.Z)(function*(){t.wt=Yv(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return MS(this.persistence,new SS,e.initialUser,this.wt)}_c(e){return new AS(Ub.Os,this.wt)}dc(e){return new US}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class aM extends oM{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield pA(r.yc.syncEngine),yield zm(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return MS(this.persistence,new SS,e.initialUser,this.wt)}mc(e,t){return new QP(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new rb(t,this.persistence);return new cv(e.asyncQueue,r)}_c(e){const t=lT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?No.withCacheSize(this.cacheSizeBytes):No.DEFAULT;return new cT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,jS(),qb(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new US}}class ck extends aM{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield t().call(r,e);const o=r.yc.syncEngine;r.sharedClientState instanceof yT&&(r.sharedClientState.syncEngine={kr:nk.bind(null,o),Mr:sk.bind(null,o),Or:ok.bind(null,o),Ri:ik.bind(null,o),Nr:tk.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var c=(0,De.Z)(function*(d){yield function rk(n,e){return lA.apply(this,arguments)}(r.yc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return c.apply(this,arguments)}}())})()}dc(e){const t=jS();if(!yT.V(t))throw new Fe(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=lT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yT(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class gA{initialize(e,t){var r=this;return(0,De.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>nM(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=JO.bind(null,r.syncEngine),yield NT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new FO}createDatastore(e){const t=Yv(e.databaseInfo.databaseId),r=new wO(e.databaseInfo);return new EO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,c=m=>nM(this.syncEngine,m,0),d=BS.V()?new BS:new _O,new DO(t,r,o,c,d);var t,r,o,c,d}createSyncEngine(e,t){return function(r,o,c,d,m,v,T){const M=new $O(r,o,c,d,m,v);return T&&(M.ac=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,De.Z)(function*(t){const r=tt(t);je("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Zm(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function cM(n,e=10240){let t=0;return{read:()=>(0,De.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class zb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class lk{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new di,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,De.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),o=Number(r);isNaN(o)&&e.Pc(`length string (${r}) is not valid number`);const c=yield e.vc(o);return new UO(JSON.parse(c),t.length+o)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,De.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,De.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,De.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class uk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,De.Z)(function*(c,d){const m=tt(c),v=Oh(m.wt)+"/documents",T={documents:d.map(X=>wp(m.wt,X))},M=yield m.ao("BatchGetDocuments",v,T,d.length),R=new Map;M.forEach(X=>{const se=function Uv(n,e){return"found"in e?function(t,r){Nt(!!r.found);const o=tc(t,r.found.name),c=zr(r.found.updateTime),d=new Ni({mapValue:{fields:r.found.fields}});return An.newFoundDocument(o,c,d)}(n,e):"missing"in e?function(t,r){Nt(!!r.missing),Nt(!!r.readTime);const o=tc(t,r.missing),c=zr(r.readTime);return An.newNoDocument(o,c)}(n,e):ct()}(m.wt,X);R.set(se.key.toString(),se)});const $=[];return d.forEach(X=>{const se=R.get(X.toString());Nt(!!se),$.push(se)}),$}),function(c,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Xl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const c=We.fromPath(o);e.mutations.push(new gp(c,e.precondition(c)))}),yield(r=(0,De.Z)(function*(o,c){const d=tt(o),m=Oh(d.wt)+"/documents",v={writes:c.map(T=>kh(d.wt,T))};yield d.ro("Commit",m,v)}),function(o,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ct();t=St.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?fr.updateTime(t):fr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new Fe(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fr.updateTime(t)}return fr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class dk{constructor(e,t,r,o,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=c,this.Dc=r.maxAttempts,this.So=new vT(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,De.Z)(function*(){const t=new uk(e.datastore),r=e.xc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.Nc(c)}))}).catch(o=>{e.Nc(o)})}))}xc(e){try{const t=this.updateFunction(e);return!Th(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Pv(t)}return!1}}class hk{constructor(e,t,r,o){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ki.UNAUTHENTICATED,this.clientId=QC.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,De.Z)(function*(m){je("FirestoreClient","Received user=",m.uid),yield c.authCredentialListener(m),c.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(je("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Km(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function lM(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,De.Z)(function*(c){r.isEqual(c)||(yield PS(e.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),mA.apply(this,arguments)}function uM(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield yA(n);je("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>WS(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,c)=>WS(e.remoteStore,c)),n.onlineComponents=e}),_A.apply(this,arguments)}function yA(n){return vA.apply(this,arguments)}function vA(){return vA=(0,De.Z)(function*(n){return n.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),yield lM(n,new oM)),n.offlineComponents}),vA.apply(this,arguments)}function Wb(n){return wA.apply(this,arguments)}function wA(){return wA=(0,De.Z)(function*(n){return n.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),yield uM(n,new gA)),n.onlineComponents}),wA.apply(this,arguments)}function dM(n){return yA(n).then(e=>e.persistence)}function Kb(n){return yA(n).then(e=>e.localStore)}function hM(n){return Wb(n).then(e=>e.remoteStore)}function CA(n){return Wb(n).then(e=>e.syncEngine)}function Xm(n){return bA.apply(this,arguments)}function bA(){return bA=(0,De.Z)(function*(n){const e=yield Wb(n),t=e.eventManager;return t.onListen=qO.bind(null,e.syncEngine),t.onUnlisten=GO.bind(null,e.syncEngine),t}),bA.apply(this,arguments)}function fM(n,e,t={}){const r=new di;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(o,c,d,m,v){const T=new zb({next:R=>{c.enqueueAndForget(()=>BT(o,M));const $=R.docs.has(d);!$&&R.fromCache?v.reject(new Fe(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):$&&R.fromCache&&m&&"server"===m.source?v.reject(new Fe(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(R)},error:R=>v.reject(R)}),M=new $T(up(d.path),T,{includeMetadataChanges:!0,Du:!0});return VT(o,M)}(yield Xm(n),n.asyncQueue,e,t,r)})),r.promise}function pM(n,e,t={}){const r=new di;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(o,c,d,m,v){const T=new zb({next:R=>{c.enqueueAndForget(()=>BT(o,M)),R.fromCache&&"server"===m.source?v.reject(new Fe(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(R)},error:R=>v.reject(R)}),M=new $T(d,T,{includeMetadataChanges:!0,Du:!0});return VT(o,M)}(yield Xm(n),n.asyncQueue,e,t,r)})),r.promise}const gM=new Map;function EA(n,e,t){if(!t)throw new Fe(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mM(n,e,t,r){if(!0===e&&!0===r)throw new Fe(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _M(n){if(!We.isDocumentKey(n))throw new Fe(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yM(n){if(We.isDocumentKey(n))throw new Fe(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Yb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ct()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yb(n);throw new Fe(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function vM(n,e){if(e<=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class wM{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,mM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xv{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wM({}),this._settingsFrozen=!1,e instanceof _a?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Fe(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(o.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new PD;switch(t.type){case"gapi":const r=t.client;return Nt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new KC(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gM.get(e);t&&(je("ComponentProvider","Removing Datastore"),gM.delete(e),t.terminate())}(this),Promise.resolve()}}class nr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nr(this.firestore,e,this._key)}}class Us{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class ru extends Us{constructor(e,t,r){super(e,t,up(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new We(e))}withConverter(e){return new ru(this.firestore,e,this._path)}}function CM(n,e,...t){if(n=(0,Rt.m9)(n),EA("collection","path",e),n instanceof Xv){const r=tn.fromString(e,...t);return yM(r),new ru(n,null,r)}{if(!(n instanceof nr||n instanceof ru))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return yM(r),new ru(n.firestore,null,r)}}function Qb(n,e,...t){if(n=(0,Rt.m9)(n),1===arguments.length&&(e=QC.I()),EA("doc","path",e),n instanceof Xv){const r=tn.fromString(e,...t);return _M(r),new nr(n,null,new We(r))}{if(!(n instanceof nr||n instanceof ru))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return _M(r),new nr(n.firestore,n instanceof ru?n.converter:null,new We(r))}}function bM(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),(n instanceof nr||n instanceof ru)&&(e instanceof nr||e instanceof ru)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function EM(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),n instanceof Us&&e instanceof Us&&n.firestore===e.firestore&&fp(n._query,e._query)&&n.converter===e.converter}class Ek{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new vT(this,"async_queue_retry"),this.Kc=()=>{const t=qb();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=qb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=qb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new di;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,De.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!Wl(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,ur("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const o=LT.createAndSchedule(this,e,t,r,c=>this.Wc(c));return this.$c.push(o),o}Gc(){this.Bc&&ct()}verifyOperationInProgress(){}zc(){var e=this;return(0,De.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function IA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Ik{constructor(){this._progressObserver={},this._taskCompletionResolver=new di,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class pr extends Xv{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Ek,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||IM(this),this._firestoreClient.terminate()}}function fi(n){return n._firestoreClient||IM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function IM(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new LD(n._databaseId,c,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var c,m;n._firestoreClient=new hk(n._authCredentials,n._appCheckCredentials,n._queue,r)}function DM(n,e,t){const r=new di;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield lM(n,t),yield uM(n,e),r.resolve()}catch(o){const c=o;if(!("FirebaseError"===(d=c).name?d.code===_e.FAILED_PRECONDITION||d.code===_e.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw c;jc("Error enabling offline persistence. Falling back to persistence disabled: "+c),r.reject(c)}var d})).then(()=>r.promise)}function TM(n){if(n._initialized||n._terminated)throw new Fe(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ud{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iu(Zr.fromBase64String(e))}catch(t){throw new Fe(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new iu(Zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fp{constructor(e){this._methodName=e}}class Jb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}const Rk=/^__.*__$/;class Nk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jl(e,this.data,t,this.fieldTransforms)}}class AM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class Xb{constructor(e,t,r,o,c,d){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=o,void 0===c&&this.Xc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Xb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.sa(e),o}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ta({path:r,na:!1});return o.Xc(),o}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return nE(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(xM(this.Zc)&&Rk.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Fk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||Yv(e)}aa(e,t,r,o=!1){return new Xb({Zc:e,methodName:t,ca:r,path:dr.emptyPath(),na:!1,ua:o},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Lp(n){const e=n._freezeSettings(),t=Yv(n._databaseId);return new Fk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eE(n,e,t,r,o,c={}){const d=n.aa(c.merge||c.mergeFields?2:0,e,t,o);xA("Data must be an object, but it was:",d,r);const m=PM(r,d);let v,T;if(c.merge)v=new hi(d.fieldMask),T=d.fieldTransforms;else if(c.mergeFields){const M=[];for(const R of c.mergeFields){const $=SA(e,R,t);if(!d.contains($))throw new Fe(_e.INVALID_ARGUMENT,`Field '${$}' is specified in your field mask but missing from your input data.`);kM(M,$)||M.push($)}v=new hi(M),T=d.fieldTransforms.filter(R=>v.covers(R.field))}else v=null,T=d.fieldTransforms;return new Nk(new Ni(m),v,T)}class ew extends Fp{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ew}}function SM(n,e,t){return new Xb({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class DA extends Fp{_toFieldTransform(e){return new Ph(e.path,new sd)}isEqual(e){return e instanceof DA}}class Lk extends Fp{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=SM(this,e,!0),r=this.ha.map(c=>Vp(c,t)),o=new od(r);return new Ph(e.path,o)}isEqual(e){return this===e}}class Vk extends Fp{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=SM(this,e,!0),r=this.ha.map(c=>Vp(c,t)),o=new ad(r);return new Ph(e.path,o)}isEqual(e){return this===e}}class Uk extends Fp{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new Mh(e.wt,Mm(e.wt,this.la));return new Ph(e.path,t)}isEqual(e){return this===e}}function TA(n,e,t,r){const o=n.aa(1,e,t);xA("Data must be an object, but it was:",o,r);const c=[],d=Ni.empty();Kl(r,(v,T)=>{const M=tE(e,v,t);T=(0,Rt.m9)(T);const R=o.ia(M);if(T instanceof ew)c.push(M);else{const $=Vp(T,R);null!=$&&(c.push(M),d.set(M,$))}});const m=new hi(c);return new AM(d,m,o.fieldTransforms)}function AA(n,e,t,r,o,c){const d=n.aa(1,e,t),m=[SA(e,r,t)],v=[o];if(c.length%2!=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $=0;$<c.length;$+=2)m.push(SA(e,c[$])),v.push(c[$+1]);const T=[],M=Ni.empty();for(let $=m.length-1;$>=0;--$)if(!kM(T,m[$])){const X=m[$];let se=v[$];se=(0,Rt.m9)(se);const Re=d.ia(X);if(se instanceof ew)T.push(X);else{const Be=Vp(se,Re);null!=Be&&(T.push(X),M.set(X,Be))}}const R=new hi(T);return new AM(M,R,d.fieldTransforms)}function MM(n,e,t,r=!1){return Vp(t,n.aa(r?4:3,e))}function Vp(n,e){if(OM(n=(0,Rt.m9)(n)))return xA("Unsupported field value:",e,n),PM(n,e);if(n instanceof Fp)return function(t,r){if(!xM(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const o=[];let c=0;for(const d of t){let m=Vp(d,r.ra(c));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Rt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Mm(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Gn.fromDate(t);return{timestampValue:Um(r.wt,o)}}if(t instanceof Gn){const o=new Gn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Um(r.wt,o)}}if(t instanceof Jb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof iu)return{bytesValue:YD(r.wt,t._byteString)};if(t instanceof nr){const o=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(o))throw r.oa(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Fv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${Yb(t)}`)}(n,e)}function PM(n,e){const t={};return ib(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kl(n,(r,o)=>{const c=Vp(o,e.ea(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function OM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Gn||n instanceof Jb||n instanceof iu||n instanceof nr||n instanceof Fp)}function xA(n,e,t){if(!OM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Yb(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function SA(n,e,t){if((e=(0,Rt.m9)(e))instanceof ud)return e._internalPath;if("string"==typeof e)return tE(n,e);throw nE("Field path arguments must be of type string or ",n,!1,void 0,t)}const Bk=new RegExp("[~\\*/\\[\\]]");function tE(n,e,t){if(e.search(Bk)>=0)throw nE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ud(...e.split("."))._internalPath}catch(r){throw nE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function nE(n,e,t,r,o){const c=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new Fe(_e.INVALID_ARGUMENT,m+n+v)}function kM(n,e){return n.some(t=>t.isEqual(e))}class tw{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jk extends tw{data(){return super.data()}}function rE(n,e){return"string"==typeof e?tE(n,e):e instanceof ud?e._internalPath:e._delegate._internalPath}class Up{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dd extends tw{constructor(e,t,r,o,c,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(rE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class nw extends dd{data(e={}){return super.data(e)}}class Vh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Up(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new nw(this._firestore,this._userDataWriter,r.key,r,new Up(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new nw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Up(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new nw(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Up(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,T=-1;return 0!==d.type&&(v=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),1!==d.type&&(c=c.add(d.doc),T=c.indexOf(d.doc.key)),{type:Hk(d.type),doc:m,oldIndex:v,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Hk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function RM(n,e){return n instanceof dd&&e instanceof dd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Vh&&e instanceof Vh&&n._firestore===e._firestore&&EM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function NM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rw{}function Uh(n,...e){for(const t of e)n=t._apply(n);return n}class $k extends rw{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=Lp(e.firestore),r=function(o,c,d,m,v,T,M){let R;if(v.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){jM(M,T);const X=[];for(const se of M)X.push(BM(m,o,se));R={arrayValue:{values:X}}}else R=BM(m,o,M)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||jM(M,T),R=MM(d,"where",M,"in"===T||"not-in"===T);const $=Ki.create(v,T,R);return function(X,se){if(se.ht()){const Be=dp(X);if(null!==Be&&!Be.isEqual(se.field))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Be.toString()}' and '${se.field.toString()}'`);const Et=Ev(X);null!==Et&&HM(0,se.field,Et)}const Re=function(Be,Et){for(const Mt of Be.filters)if(Et.indexOf(Mt.op)>=0)return Mt.op;return null}(X,function(Be){switch(Be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(se.op));if(null!==Re)throw new Fe(_e.INVALID_ARGUMENT,Re===se.op?`Invalid query. You cannot use more than one '${se.op.toString()}' filter.`:`Invalid query. You cannot use '${se.op.toString()}' filters with '${Re.toString()}' filters.`)}(o,$),$}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Us(e.firestore,e.converter,function(o,c){const d=o.filters.concat([c]);return new Gc(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class Gk extends rw{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,o,c){if(null!==r.startAt)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new id(o,c);return function(m,v){if(null===Ev(m)){const T=dp(m);null!==T&&HM(0,T,v.field)}}(r,d),d}(e._query,this.fa,this.wa);return new Us(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new Gc(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class FM extends rw{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new Us(e.firestore,e.converter,Dv(e._query,this.ma,this.ga))}}class LM extends rw{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=UM(e,this.type,this.ya,this.pa);return new Us(e.firestore,e.converter,(o=t,new Gc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class VM extends rw{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=UM(e,this.type,this.ya,this.pa);return new Us(e.firestore,e.converter,(o=t,new Gc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function UM(n,e,t,r){if(t[0]=(0,Rt.m9)(t[0]),t[0]instanceof tw)return function(o,c,d,m,v){if(!m)throw new Fe(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const T=[];for(const M of hp(o))if(M.field.isKeyField())T.push($c(c,m.key));else{const R=m.data.field(M.field);if(uv(R))throw new Fe(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const $=M.field.canonicalString();throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$}' (used as the orderBy) does not exist.`)}T.push(R)}return new qc(T,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Lp(n.firestore);return function(c,d,m,v,T,M){const R=c.explicitOrderBy;if(T.length>R.length)throw new Fe(_e.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $=[];for(let X=0;X<T.length;X++){const se=T[X];if(R[X].field.isKeyField()){if("string"!=typeof se)throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof se}`);if(!Iv(c)&&-1!==se.indexOf("/"))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${se}' contains a slash.`);const Re=c.path.child(tn.fromString(se));if(!We.isDocumentKey(Re))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Re}' is not because it contains an odd number of segments.`);const Be=new We(Re);$.push($c(d,Be))}else{const Re=MM(m,v,se);$.push(Re)}}return new qc($,M)}(n._query,n.firestore._databaseId,o,e,t,r)}}function BM(n,e,t){if("string"==typeof(t=(0,Rt.m9)(t))){if(""===t)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iv(e)&&-1!==t.indexOf("/"))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tn.fromString(t));if(!We.isDocumentKey(r))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $c(n,new We(r))}if(t instanceof nr)return $c(n,t._key);throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yb(t)}.`)}function jM(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function HM(n,e,t){if(!t.isEqual(e))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const Xk={maxAttempts:5};class MA{convertValue(e,t="none"){switch(Yl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ct()}}convertObject(e,t){const r={};return Kl(e.fields,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new Jb(hr(e.latitude),hr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rp(e));default:return null}}convertTimestamp(e){const t=ko(e);return new Gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tn.fromString(e);Nt(nT(r));const o=new _a(r.get(1),r.get(3)),c=new We(r.popFirst(5));return o.isEqual(t)||ur(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function iE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class eR extends MA{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}class $M{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Lp(e)}set(e,t,r){this._verifyNotCommitted();const o=Bh(e,this._firestore),c=iE(o.converter,t,r),d=eE(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,fr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const c=Bh(e,this._firestore);let d;return d="string"==typeof(t=(0,Rt.m9)(t))||t instanceof ud?AA(this._dataReader,"WriteBatch.update",c._key,t,r,o):TA(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Bh(e,this._firestore);return this._mutations=this._mutations.concat(new Xl(t._key,fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bh(n,e){if((n=(0,Rt.m9)(n)).firestore!==e)throw new Fe(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Bp extends MA{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}function qM(n,e,t){n=dn(n,nr);const r=dn(n.firestore,pr),o=iE(n.converter,e,t);return e_(r,[eE(Lp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,fr.none())])}function GM(n,e,t,...r){n=dn(n,nr);const o=dn(n.firestore,pr),c=Lp(o);let d;return d="string"==typeof(e=(0,Rt.m9)(e))||e instanceof ud?AA(c,"updateDoc",n._key,e,t,r):TA(c,"updateDoc",n._key,e),e_(o,[d.toMutation(n._key,fr.exists(!0))])}function ZM(n,...e){var t,r,o;n=(0,Rt.m9)(n);let c={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||IA(e[d])||(c=e[d],d++);const m={includeMetadataChanges:c.includeMetadataChanges};if(IA(e[d])){const R=e[d];e[d]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[d+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[d+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}let v,T,M;if(n instanceof nr)T=dn(n.firestore,pr),M=up(n._key.path),v={next:R=>{e[d]&&e[d](PA(T,n,R))},error:e[d+1],complete:e[d+2]};else{const R=dn(n,Us);T=dn(R.firestore,pr),M=R._query;const $=new Bp(T);v={next:X=>{e[d]&&e[d](new Vh(T,$,R,X))},error:e[d+1],complete:e[d+2]},NM(n._query)}return function(R,$,X,se){const Re=new zb(se),Be=new $T($,Re,X);return R.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return VT(yield Xm(R),Be)})),()=>{Re.Tc(),R.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return BT(yield Xm(R),Be)}))}}(fi(T),M,m,v)}function e_(n,e){return function(t,r){const o=new di;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function ZO(n,e,t){return WT.apply(this,arguments)}(yield CA(t),r,o)})),o.promise}(fi(n),e)}function PA(n,e,t){const r=t.docs.get(e._key),o=new Bp(n);return new dd(n,o,e._key,r,new Up(t.hasPendingWrites,t.fromCache),e.converter)}class uR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Lp(e)}get(e){const t=Bh(e,this._firestore),r=new eR(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ct();const c=o[0];if(c.isFoundDocument())return new tw(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new tw(this._firestore,r,t._key,null,t.converter);throw ct()})}set(e,t,r){const o=Bh(e,this._firestore),c=iE(o.converter,t,r),d=eE(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const c=Bh(e,this._firestore);let d;return d="string"==typeof(t=(0,Rt.m9)(t))||t instanceof ud?AA(this._dataReader,"Transaction.update",c._key,t,r,o):TA(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,d),this}delete(e){const t=Bh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Bh(e,this._firestore),r=new Bp(this._firestore);return super.get(e).then(o=>new dd(this._firestore,r,t._key,o._document,new Up(!1,!1),t.converter))}}function OA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function WM(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function KM(){if(!function FD(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ju=Js.SDK_VERSION,(0,Js._registerComponent)(new mf.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),c=new pr(o,new zC(t.getProvider("auth-internal")),new YC(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC")),(0,Js.registerVersion)(Qu,"3.4.14",n),(0,Js.registerVersion)(Qu,"3.4.14","esm2017")}();class iw{constructor(e){this._delegate=e}static fromBase64String(e){return KM(),new iw(iu.fromBase64String(e))}static fromUint8Array(e){return WM(),new iw(iu.fromUint8Array(e))}toBase64(){return KM(),this._delegate.toBase64()}toUint8Array(){return WM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kA(n){return function vR(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class wR{enableIndexedDbPersistence(e,t){return function Tk(n,e){TM(n=dn(n,pr));const t=fi(n),r=n._freezeSettings(),o=new gA;return DM(t,o,new aM(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ak(n){TM(n=dn(n,pr));const e=fi(n),t=n._freezeSettings(),r=new gA;return DM(e,r,new ck(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function xk(n){if(n._initialized&&!n._terminated)throw new Fe(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new di;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(t=(0,De.Z)(function*(r){if(!Oo.V())return Promise.resolve();const o=r+"main";yield Oo.delete(o)}),function(r){return t.apply(this,arguments)})(lT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class YM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof _a||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&jc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Ck(n,e,t,r={}){var o;const c=(n=dn(n,Xv))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&jc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=ki.MOCK_USER;else{d=(0,Rt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Fe(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ki(v)}n._authCredentials=new Jf(new ZC(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function Mk(n){return function fk(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield dM(n),t=yield hM(n);return e.setNetworkEnabled(!0),function(r){const o=tt(r);return o.lu.delete(0),Qv(o)}(t)}))}(fi(n=dn(n,pr)))}(this._delegate)}disableNetwork(){return function Pk(n){return function pk(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield dM(n),t=yield hM(n);return e.setNetworkEnabled(!1),(r=(0,De.Z)(function*(o){const c=tt(o);c.lu.add(0),yield Zm(c),c._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(fi(n=dn(n,pr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,mM("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Sk(n){return function(e){const t=new di;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function YO(n,e){return XT.apply(this,arguments)}(yield CA(e),t)})),t.promise}(fi(n=dn(n,pr)))}(this._delegate)}onSnapshotsInSync(e){return function lR(n,e){return function _k(n,e){const t=new zb(e);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield Xm(n),o=t,tt(r).Tu.add(o),void o.next();var r,o})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield Xm(n),o=t,void tt(r).Tu.delete(o);var r,o}))}}(fi(n=dn(n,pr)),IA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new t_(this,CM(this._delegate,e))}catch(t){throw so(t,"collection()","Firestore.collection()")}}doc(e){try{return new rc(this,Qb(this._delegate,e))}catch(t){throw so(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new oo(this,function bk(n,e){if(n=dn(n,Xv),EA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Us(n,null,(t=e,new Gc(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw so(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function dR(n,e,t){n=dn(n,pr);const r=Object.assign(Object.assign({},Xk),t);return function(o){if(o.maxAttempts<1)throw new Fe(_e.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function yk(n,e,t){const r=new di;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const o=yield(c=n,Wb(c).then(d=>d.datastore));var c;new dk(n.asyncQueue,o,t,e,r).run()})),r.promise}(fi(n),o=>e(new uR(n,o)),r)}(this._delegate,t=>e(new QM(this,t)))}batch(){return fi(this._delegate),new JM(new $M(this._delegate,e=>e_(this._delegate,e)))}loadBundle(e){return function Ok(n,e){const t=fi(n=dn(n,pr)),r=new Ik;return function vk(n,e,t,r){const o=function(c,d){let m;return m="string"==typeof c?(new TextEncoder).encode(c):c,v=function(v,T){if(v instanceof Uint8Array)return cM(v,T);if(v instanceof ArrayBuffer)return cM(new Uint8Array(v),T);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new lk(v,d);var v}(t,Yv(e));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function ak(n,e,t){const r=tt(n);var o;(o=(0,De.Z)(function*(c,d,m){try{const v=yield d.getMetadata();if(yield function($,X){const se=tt($),Re=zr(X.createTime);return se.persistence.runTransaction("hasNewerBundle","readonly",Be=>se.Ds.getBundleMetadata(Be,X.id)).then(Be=>!!Be&&Be.createTime.compareTo(Re)>=0)}(c.localStore,v))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:($=v).totalDocuments,bytesLoaded:$.totalBytes,totalDocuments:$.totalDocuments,totalBytes:$.totalBytes}),Promise.resolve(new Set);m._updateProgress(QS(v));const T=new BO(v,c.localStore,d.wt);let M=yield d.fc();for(;M;){const $=yield T.Nu(M);$&&m._updateProgress($),M=yield d.fc()}const R=yield T.complete();return yield ld(c,R.Ou,void 0),yield function($,X){const se=tt($);return se.persistence.runTransaction("Save bundle","readwrite",Re=>se.Ds.saveBundleMetadata(Re,X))}(c.localStore,v),m._completeWith(R.progress),Promise.resolve(R.Mu)}catch(v){return jc("SyncEngine",`Loading bundle failed with ${v}`),m._failWith(v),Promise.resolve(new Set)}var $}),function(c,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield CA(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function kk(n,e){return function wk(n,e){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(t,r){const o=tt(t);return o.persistence.runTransaction("Get named query","readonly",c=>o.Ds.getNamedQuery(c,r))}(yield Kb(n),e)}))}(fi(n=dn(n,pr)),e).then(t=>t?new Us(n,null,t.query):null)}(this._delegate,e).then(t=>t?new oo(this,t):null)}}class sE extends MA{constructor(e){super(),this.firestore=e}convertBytes(e){return new iw(new iu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return rc.forKey(t,this.firestore,null)}}class QM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new sE(e)}get(e){const t=Hp(e);return this._delegate.get(t).then(r=>new sw(this._firestore,new dd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Hp(e);return r?(OA("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=Hp(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=Hp(e);return this._delegate.delete(t),this}}class JM{constructor(e){this._delegate=e}set(e,t,r){const o=Hp(e);return r?(OA("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=Hp(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=Hp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class jp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new nw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ow(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=jp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let c=o.get(t);return c||(c=new jp(e,new sE(e),t),o.set(t,c)),c}}jp.INSTANCES=new WeakMap;class rc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new rc(t,new nr(t._delegate,r,new We(e)))}static forKey(e,t,r){return new rc(t,new nr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new t_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new t_(this.firestore,CM(this._delegate,e))}catch(t){throw so(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Rt.m9)(e))instanceof nr&&bM(this._delegate,e)}set(e,t){t=OA("DocumentReference.set",t);try{return t?qM(this._delegate,e,t):qM(this._delegate,e)}catch(r){throw so(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?GM(this._delegate,e):GM(this._delegate,e,t,...r)}catch(o){throw so(o,"updateDoc()","DocumentReference.update()")}}delete(){return function aR(n){return e_(dn(n.firestore,pr),[new Xl(n._key,fr.none())])}(this._delegate)}onSnapshot(...e){const t=XM(e),r=e1(e,o=>new sw(this.firestore,new dd(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return ZM(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function nR(n){n=dn(n,nr);const e=dn(n.firestore,pr),t=fi(e),r=new Bp(e);return function gk(n,e){const t=new di;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(o,c,d){try{const m=yield function(v,T){const M=tt(v);return M.persistence.runTransaction("read document","readonly",R=>M.localDocuments.getDocument(R,T))}(o,c);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Fe(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const v=Km(m,`Failed to get document '${c} from cache`);d.reject(v)}}),function(o,c,d){return r.apply(this,arguments)})(yield Kb(n),e,t);var r})),t.promise}(t,n._key).then(o=>new dd(e,r,n._key,o,new Up(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function rR(n){n=dn(n,nr);const e=dn(n.firestore,pr);return fM(fi(e),n._key,{source:"server"}).then(t=>PA(e,n,t))}(this._delegate):function tR(n){n=dn(n,nr);const e=dn(n.firestore,pr);return fM(fi(e),n._key).then(t=>PA(e,n,t))}(this._delegate),t.then(r=>new sw(this.firestore,new dd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new rc(this.firestore,this._delegate.withConverter(e?jp.getInstance(this.firestore,e):null))}}function so(n,e,t){return n.message=n.message.replace(e,t),n}function XM(n){for(const e of n)if("object"==typeof e&&!kA(e))return e;return{}}function e1(n,e){var t,r;let o;return o=kA(n[0])?n[0]:kA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class sw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new rc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return RM(this._delegate,e._delegate)}}class ow extends sw{data(e){const t=this._delegate.data(e);return function MD(n,e){n||ct()}(void 0!==t),t}}class oo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sE(e)}where(e,t,r){try{return new oo(this.firestore,Uh(this._delegate,function qk(n,e,t){const r=e,o=rE("where",n);return new $k(o,r,t)}(e,t,r)))}catch(o){throw so(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new oo(this.firestore,Uh(this._delegate,function Zk(n,e="asc"){const t=e,r=rE("orderBy",n);return new Gk(r,t)}(e,t)))}catch(r){throw so(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new oo(this.firestore,Uh(this._delegate,function zk(n){return vM("limit",n),new FM("limit",n,"F")}(e)))}catch(t){throw so(t,"limit()","Query.limit()")}}limitToLast(e){try{return new oo(this.firestore,Uh(this._delegate,function Wk(n){return vM("limitToLast",n),new FM("limitToLast",n,"L")}(e)))}catch(t){throw so(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new oo(this.firestore,Uh(this._delegate,function Kk(...n){return new LM("startAt",n,!0)}(...e)))}catch(t){throw so(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new oo(this.firestore,Uh(this._delegate,function Yk(...n){return new LM("startAfter",n,!1)}(...e)))}catch(t){throw so(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new oo(this.firestore,Uh(this._delegate,function Qk(...n){return new VM("endBefore",n,!1)}(...e)))}catch(t){throw so(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new oo(this.firestore,Uh(this._delegate,function Jk(...n){return new VM("endAt",n,!0)}(...e)))}catch(t){throw so(t,"endAt()","Query.endAt()")}}isEqual(e){return EM(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function sR(n){n=dn(n,Us);const e=dn(n.firestore,pr),t=fi(e),r=new Bp(e);return function mk(n,e){const t=new di;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(o,c,d){try{const m=yield jb(o,c,!0),v=new eM(c,m.ji),T=v.Ku(m.documents),M=v.applyChanges(T,!1);d.resolve(M.snapshot)}catch(m){const v=Km(m,`Failed to execute query '${c} against cache`);d.reject(v)}}),function(o,c,d){return r.apply(this,arguments)})(yield Kb(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Vh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function oR(n){n=dn(n,Us);const e=dn(n.firestore,pr),t=fi(e),r=new Bp(e);return pM(t,n._query,{source:"server"}).then(o=>new Vh(e,r,n,o))}(this._delegate):function iR(n){n=dn(n,Us);const e=dn(n.firestore,pr),t=fi(e),r=new Bp(e);return NM(n._query),pM(t,n._query).then(o=>new Vh(e,r,n,o))}(this._delegate),t.then(r=>new RA(this.firestore,new Vh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=XM(e),r=e1(e,o=>new RA(this.firestore,new Vh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return ZM(this._delegate,t,r)}withConverter(e){return new oo(this.firestore,this._delegate.withConverter(e?jp.getInstance(this.firestore,e):null))}}class bR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ow(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class RA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new oo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ow(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new bR(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new ow(this._firestore,r))})}isEqual(e){return RM(this._delegate,e._delegate)}}class t_ extends oo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new rc(this.firestore,e):null}doc(e){try{return new rc(this.firestore,void 0===e?Qb(this._delegate):Qb(this._delegate,e))}catch(t){throw so(t,"doc()","CollectionReference.doc()")}}add(e){return function cR(n,e){const t=dn(n.firestore,pr),r=Qb(n),o=iE(n.converter,e);return e_(t,[eE(Lp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new rc(this.firestore,t))}isEqual(e){return bM(this._delegate,e._delegate)}withConverter(e){return new t_(this.firestore,this._delegate.withConverter(e?jp.getInstance(this.firestore,e):null))}}function Hp(n){return dn(n,nr)}class NA{constructor(...e){this._delegate=new ud(...e)}static documentId(){return new NA(dr.keyField().canonicalString())}isEqual(e){return(e=(0,Rt.m9)(e))instanceof ud&&this._delegate._internalPath.isEqual(e._internalPath)}}class $p{constructor(e){this._delegate=e}static serverTimestamp(){const e=function fR(){return new DA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new $p(e)}static delete(){const e=function hR(){return new ew("deleteField")}();return e._methodName="FieldValue.delete",new $p(e)}static arrayUnion(...e){const t=function pR(...n){return new Lk("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new $p(t)}static arrayRemove(...e){const t=function gR(...n){return new Vk("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new $p(t)}static increment(e){const t=function mR(n){return new Uk("increment",n)}(e);return t._methodName="FieldValue.increment",new $p(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ER={Firestore:YM,GeoPoint:Jb,Timestamp:Gn,Blob:iw,Transaction:QM,WriteBatch:JM,DocumentReference:rc,DocumentSnapshot:sw,Query:oo,QueryDocumentSnapshot:ow,QuerySnapshot:RA,CollectionReference:t_,FieldPath:NA,FieldValue:$p,setLogLevel:function CR(n){!function GC(n){Gl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function DR(n){(function IR(n,e){n.INTERNAL.registerComponent(new mf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},ER)))})(n,(e,t)=>new YM(e,t,new wR)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(Ow.Z);var TR=F(6451),oE=F(5363),AR=F(6063);class xR extends b.x{constructor(e=1/0,t=1/0,r=AR.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:d}=this;t||(r.push(e),!o&&r.push(c.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,c=o.slice();for(let d=0;d<c.length&&!e.closed;d+=r?1:2)e.next(c[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,c=(o?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!o){const d=t.now();let m=0;for(let v=1;v<r.length&&r[v]<=d;v+=2)m=v;m&&r.splice(0,m+1)}}}var SR=F(3099);function t1(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,SR.B)({connector:()=>new xR(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function n1(n,e){return(0,bo.m)(e)?Fn(()=>n,e):Fn(()=>n)}var FA=F(9468);const r1=new l.OlP("angularfire2.auth.use-emulator"),s1=new l.OlP("angularfire2.auth.settings"),o1=new l.OlP("angularfire2.auth.tenant-id"),a1=new l.OlP("angularfire2.auth.langugage-code"),c1=new l.OlP("angularfire2.auth.use-device-language"),l1=new l.OlP("angularfire.auth.persistence"),u1=(n,e,t,r,o,c,d,m)=>(0,cs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=o,c&&v.useDeviceLanguage(),d)for(const[T,M]of Object.entries(d))v.settings[T]=M;return m&&v.setPersistence(m),v},[t,r,o,c,d,m]);let aE=(()=>{class n{constructor(t,r,o,c,d,m,v,T,M,R,$,X){const se=new b.x,Re=ot(void 0).pipe((0,oE.Q)(d.outsideAngular),Fn(()=>c.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,1451)))),(0,Dt.U)(()=>(0,cs.on)(t,c,r)),(0,Dt.U)(Be=>u1(Be,c,m,T,M,R,v,$)),t1({bufferSize:1,refCount:!1}));if(mo(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{Re.pipe(bc()).subscribe();const Et=Re.pipe(Fn(pt=>pt.getRedirectResult().then(Ot=>Ot,()=>null)),Jn.iC,t1({bufferSize:1,refCount:!1})),Mt=Re.pipe(Fn(pt=>new P.y(Ot=>({unsubscribe:c.runOutsideAngular(()=>pt.onAuthStateChanged($t=>Ot.next($t),$t=>Ot.error($t),()=>Ot.complete()))})))),It=Re.pipe(Fn(pt=>new P.y(Ot=>({unsubscribe:c.runOutsideAngular(()=>pt.onIdTokenChanged($t=>Ot.next($t),$t=>Ot.error($t),()=>Ot.complete()))}))));this.authState=Et.pipe(n1(Mt),(0,FA.R)(d.outsideAngular),(0,oE.Q)(d.insideAngular)),this.user=Et.pipe(n1(It),(0,FA.R)(d.outsideAngular),(0,oE.Q)(d.insideAngular)),this.idToken=this.user.pipe(Fn(pt=>pt?(0,pn.D)(pt.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(Fn(pt=>pt?(0,pn.D)(pt.getIdTokenResult()):ot(null))),this.credential=(0,TR.T)(Et,se,this.authState.pipe(Pn(pt=>!pt))).pipe((0,Dt.U)(pt=>(null==pt?void 0:pt.user)?pt:null),(0,FA.R)(d.outsideAngular),(0,oE.Q)(d.insideAngular))}return(0,cs.pX)(this,Re,c,{spy:{apply:(Be,Et,Mt)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&Mt.then(It=>se.next(It))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cs.Dh),l.LFG(cs.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Jn.HU),l.LFG(r1,8),l.LFG(s1,8),l.LFG(o1,8),l.LFG(a1,8),l.LFG(c1,8),l.LFG(l1,8),l.LFG($g,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),PR=(()=>{class n{constructor(){$I.Z.registerVersion("angularfire",Jn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[aE]}),n})();function d1(n,e){return function OR(n,e=Qd.z){return new P.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function LA(n,e){return d1(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function cE(n,e){return LA(n,e).pipe(Ds(void 0),Zg(),(0,Dt.U)(([t,r])=>{const o=r.payload.docChanges(),c=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const v=o.find(M=>M.doc.ref.isEqual(d.ref)),T=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&T&&JSON.stringify(T.metadata)===JSON.stringify(d.metadata)||c.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),c}))}function h1(n,e,t){return cE(n,t).pipe(is((r,o)=>function RR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function NR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return VA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return VA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return VA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(c=>c.payload),e),[]),function sy(n,e=Cr.y){return n=null!=n?n:X0,(0,ar.e)((t,r)=>{let o,c=!0;t.subscribe((0,Or.x)(r,d=>{const m=e(d);(c||!n(o,m))&&(c=!1,o=m,r.next(d))}))})}(),(0,Dt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function VA(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function f1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class p1{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=cE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Ds(void 0),Zg(),Pn(([r,o])=>o.length>0||!r),(0,Dt.U)(([r,o])=>o),Jn.iC)}auditTrail(e){return this.stateChanges(e).pipe(is((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=f1(e);return h1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(e={}){return LA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Jn.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(Jn.iC)}add(e){return this.ref.add(e)}doc(e){return new g1(this.ref.doc(e),this.afs)}}class g1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:c}=m1(r,t);return new p1(o,c,this.afs)}snapshotChanges(){return function kR(n,e){return d1(n,e).pipe(Ds(void 0),Zg(),(0,Dt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pn.D)(this.ref.get(e)).pipe(Jn.iC)}}class FR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?cE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Pn(t=>t.length>0),Jn.iC):cE(this.query,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}auditTrail(e){return this.stateChanges(e).pipe(is((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=f1(e);return h1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(e={}){return LA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Jn.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(Jn.iC)}}const LR=new l.OlP("angularfire2.enableFirestorePersistence"),VR=new l.OlP("angularfire2.firestore.persistenceSettings"),UR=new l.OlP("angularfire2.firestore.settings"),BR=new l.OlP("angularfire2.firestore.use-emulator");function m1(n,e=(t=>t)){return{query:e(n),ref:n}}let _1=(()=>{class n{constructor(t,r,o,c,d,m,v,T,M,R,$,X,se,Re,Be,Et,Mt){this.schedulers=v;const It=(0,cs.on)(t,m,r),pt=M;R&&u1(It,m,$,se,Re,Be,X,Et),[this.firestore,this.persistenceEnabled$]=(0,cs.cc)(`${It.name}.firestore`,"AngularFirestore",It.name,()=>{const Ot=m.runOutsideAngular(()=>It.firestore());if(c&&Ot.settings(c),pt&&Ot.useEmulator(...pt),o&&!mo(d)){const $t=()=>{try{return(0,pn.D)(Ot.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Dr){return"undefined"!=typeof console&&console.warn(Dr),ot(!1)}};return[Ot,m.runOutsideAngular($t)]}return[Ot,ot(!1)]},[c,pt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:d}=m1(o,r),m=this.schedulers.ngZone.run(()=>c);return new p1(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),c=this.firestore.collectionGroup(t);return new FR(o(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new g1(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cs.Dh),l.LFG(cs.xv,8),l.LFG(LR,8),l.LFG(UR,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Jn.HU),l.LFG(VR,8),l.LFG(BR,8),l.LFG(aE,8),l.LFG(r1,8),l.LFG(s1,8),l.LFG(o1,8),l.LFG(a1,8),l.LFG(c1,8),l.LFG(l1,8),l.LFG($g,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),lE=(()=>{class n{constructor(t){this.afs=t}addItem(t){return this.afs.collection("items").add(t)}getAllItemsByUid(t){return this.itemsRef=this.afs.collection("items",r=>r.where("uid","==",t).orderBy("createdDate","desc")),this.itemsRef.snapshotChanges().pipe((0,Dt.U)(r=>r&&0!==r.length?r.map(o=>{const c=o.payload.doc.data();return Object.assign({id:o.payload.doc.id},c)}):[]))}getAllItemsByType(t){return this.itemsRef=this.afs.collection("items",r=>r.where("category","==",t).where("isPublished","==",!0).orderBy("createdDate","desc")),this.itemsRef.snapshotChanges().pipe((0,Dt.U)(r=>r&&0!==r.length?r.map(o=>{const c=o.payload.doc.data();return Object.assign({id:o.payload.doc.id},c)}):[]))}getItem(t){return this.afs.collection("items").doc(t).ref.get()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y1=(()=>{class n{constructor(t,r){this.afAuth=t,this.afs=r}signIn(t,r){return this.afAuth.signInWithEmailAndPassword(t,r)}signUp(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r)}signOut(){return localStorage.clear(),this.afAuth.signOut()}forgotPassword(t){return this.afAuth.sendPasswordResetEmail(t)}setUserData(t,r,o){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,fullName:r,phone:o},{merge:!0})}getAuthState(){return this.afAuth.authState}getUser(t){return this.afs.collection("users").doc(t).ref.get()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(aE),l.LFG(_1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(){return l.CHM(t),l.oxw().goToDashboard()}),l._uU(1,"My Dashboard"),l.qZA()}}function HR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(){return l.CHM(t),l.oxw().goToLogin()}),l._uU(1,"Login"),l.qZA()}}function $R(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(){return l.CHM(t),l.oxw().logout()}),l._uU(1,"Logout"),l.qZA()}}const qR=function(n,e){return{white:n,"dark-bg":e}};let n_=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.isLoggedIn=!1,this.isWhite=!1,this.isDarkBG=!1}ngOnInit(){this.isLoggedIn="true"===localStorage.getItem("isLoggedIn")}goToHome(){this.router.navigate(["home"])}goToLogin(){this.router.navigate(["login"])}goToSell(){this.router.navigate(["sell"])}goToList(t){this.router.navigate(["list",t])}goToDashboard(){this.router.navigate(["dashboard"])}logout(){this.auth.signOut().then(()=>{this.isLoggedIn=!1,localStorage.removeItem("isLoggedIn"),this.router.navigate(["home"])})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($n),l.Y36(y1))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],inputs:{isWhite:"isWhite",isDarkBG:"isDarkBG"},decls:25,vars:7,consts:[[1,"header",3,"ngClass"],[1,"left"],[1,"logo",3,"click"],[1,"nav-item","shop"],[1,"shop-wrapper"],[1,"shop-item",3,"click"],[1,"shop-wrapper-arrow"],[1,"nav-item"],[1,"middle"],["class","nav-item",3,"click",4,"ngIf"],[1,"right"],[1,"nav-item","border",3,"click"],[1,"nav-item",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l.NdJ("click",function(){return r.goToHome()}),l._uU(3,"stillred"),l.qZA(),l.TgZ(4,"div",3),l._uU(5," Shop "),l.TgZ(6,"div",4)(7,"div",5),l.NdJ("click",function(){return r.goToList("sarees")}),l._uU(8,"Sarees"),l.qZA(),l.TgZ(9,"div",5),l.NdJ("click",function(){return r.goToList("lahenga")}),l._uU(10,"Lahenga"),l.qZA(),l.TgZ(11,"div",5),l.NdJ("click",function(){return r.goToList("suits")}),l._uU(12,"Suits / Anarkali Suits"),l.qZA(),l.TgZ(13,"div",5),l.NdJ("click",function(){return r.goToList("gowns")}),l._uU(14,"Gowns"),l.qZA()(),l._UZ(15,"div",6),l.qZA(),l.TgZ(16,"div",7),l._uU(17,"Help"),l.qZA()(),l.TgZ(18,"div",8),l.YNc(19,jR,2,0,"div",9),l.qZA(),l.TgZ(20,"div",10),l.YNc(21,HR,2,0,"div",9),l.YNc(22,$R,2,0,"div",9),l.TgZ(23,"div",11),l.NdJ("click",function(){return r.goToSell()}),l._uU(24,"Sell"),l.qZA()()()),2&t&&(l.Q6J("ngClass",l.WLB(4,qR,r.isWhite,r.isDarkBG)),l.xp6(19),l.Q6J("ngIf",r.isLoggedIn),l.xp6(2),l.Q6J("ngIf",!r.isLoggedIn),l.xp6(1),l.Q6J("ngIf",r.isLoggedIn))},directives:[Yr,Dn],styles:['.header[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100vw;height:70px;display:flex;align-items:center;justify-content:space-evenly;color:#fff;font-size:18px;font-weight:500}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{width:33.33%;display:flex;align-items:center}.header[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{justify-content:center}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{justify-content:right;margin-right:50px}.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-left:100px;margin-right:50px;cursor:pointer}.header[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{font-size:16px;margin-right:50px;cursor:pointer}.header[_ngcontent-%COMP%]   .nav-item.border[_ngcontent-%COMP%]{border:1px solid white;border-radius:4px;padding:8px 12px}.header[_ngcontent-%COMP%]   .nav-item.shop[_ngcontent-%COMP%]{margin-top:45px;height:70px}.header[_ngcontent-%COMP%]   .nav-item.shop[_ngcontent-%COMP%]   .shop-wrapper[_ngcontent-%COMP%]{display:none;position:absolute;top:65px;left:200px;width:200px;height:150px;background-color:#fff;border-radius:4px;padding:5px 20px;color:#000}.header[_ngcontent-%COMP%]   .nav-item.shop[_ngcontent-%COMP%]   .shop-wrapper[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]{margin:10px 0;font-size:15px;color:#3f3f3f;cursor:pointer}.header[_ngcontent-%COMP%]   .nav-item.shop[_ngcontent-%COMP%]   .shop-wrapper[_ngcontent-%COMP%]   .shop-item[_ngcontent-%COMP%]:hover{color:#000}.header[_ngcontent-%COMP%]   .nav-item.shop[_ngcontent-%COMP%]   .shop-wrapper-arrow[_ngcontent-%COMP%]{display:none;position:absolute;top:55px;left:220px;content:"";border-width:11px;width:0;height:0;border-color:transparent;border-bottom-color:#fff;border-style:solid;border-top-width:0}.header[_ngcontent-%COMP%]   .nav-item.shop[_ngcontent-%COMP%]:hover   .shop-wrapper[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .nav-item.shop[_ngcontent-%COMP%]:hover   .shop-wrapper-arrow[_ngcontent-%COMP%]{display:block}.header.white[_ngcontent-%COMP%]{color:#000}.header.white[_ngcontent-%COMP%]   .nav-item.border[_ngcontent-%COMP%]{border:1px solid #000}.header.dark-bg[_ngcontent-%COMP%]{color:#fff;background-color:#0b0b0b}']}),n})(),v1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),qp=(()=>{class n extends v1{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const su=new l.OlP("NgValueAccessor"),zR={provide:su,useExisting:(0,l.Gpc)(()=>aw),multi:!0},KR=new l.OlP("CompositionEventMode");let aw=(()=>{class n extends v1{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function WR(){const n=V()?V().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(KR,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[l._Bn([zR]),l.qOj]}),n})();const Bs=new l.OlP("NgValidators"),Hh=new l.OlP("NgAsyncValidators");function uE(n){return null}function M1(n){return null!=n}function P1(n){const e=(0,l.QGY)(n)?(0,pn.D)(n):n;return(0,l.CqO)(e),e}function O1(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function k1(n,e){return e.map(t=>t(n))}function R1(n){return n.map(e=>function QR(n){return!n.validate}(e)?e:t=>e.validate(t))}function UA(n){return null!=n?function N1(n){if(!n)return null;const e=n.filter(M1);return 0==e.length?null:function(t){return O1(k1(t,e))}}(R1(n)):null}function BA(n){return null!=n?function F1(n){if(!n)return null;const e=n.filter(M1);return 0==e.length?null:function(t){return function GR(...n){const e=(0,ea.jO)(n),{args:t,keys:r}=sn(n),o=new P.y(c=>{const{length:d}=t;if(!d)return void c.complete();const m=new Array(d);let v=d,T=d;for(let M=0;M<d;M++){let R=!1;(0,wc.Xf)(t[M]).subscribe((0,Or.x)(c,$=>{R||(R=!0,T--),m[M]=$},()=>v--,void 0,()=>{(!v||!R)&&(T||c.next(r?_c(r,m):m),c.complete())}))}});return e?o.pipe(du(e)):o}(k1(t,e).map(P1)).pipe((0,Dt.U)(O1))}}(R1(n)):null}function L1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function jA(n){return n?Array.isArray(n)?n:[n]:[]}function dE(n,e){return Array.isArray(n)?n.includes(e):n===e}function B1(n,e){const t=jA(e);return jA(n).forEach(o=>{dE(t,o)||t.push(o)}),t}function j1(n,e){return jA(e).filter(t=>!dE(n,t))}class H1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=UA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=BA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class $h extends H1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ao extends H1{get formDirective(){return null}get path(){return null}}class $1{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let HA=(()=>{class n extends $1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($h,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),$A=(()=>{class n extends $1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ao,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function cw(n,e){ZA(n,e),e.valueAccessor.writeValue(n.value),function sN(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&G1(n,e)})}(n,e),function aN(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function oN(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&G1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function iN(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function gE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ZA(n,e){const t=function V1(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(L1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function U1(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(L1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();gE(e._rawValidators,o),gE(e._rawAsyncValidators,o)}function G1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function KA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const lw="VALID",_E="INVALID",r_="PENDING",uw="DISABLED";function QA(n){return(yE(n)?n.validators:n)||null}function K1(n){return Array.isArray(n)?UA(n):n||null}function JA(n,e){return(yE(e)?e.asyncValidators:n)||null}function Y1(n){return Array.isArray(n)?BA(n):n||null}function yE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const XA=n=>n instanceof tx;function J1(n){return(n=>n instanceof tP)(n)?n.value:n.getRawValue()}function X1(n,e){const t=XA(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[e])throw new l.vHH(1001,"")}function eP(n,e){XA(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new l.vHH(1002,"")})}class ex{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=K1(this._rawValidators),this._composedAsyncValidatorFn=Y1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===lw}get invalid(){return this.status===_E}get pending(){return this.status==r_}get disabled(){return this.status===uw}get enabled(){return this.status!==uw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=K1(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Y1(e)}addValidators(e){this.setValidators(B1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(B1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(j1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(j1(e,this._rawAsyncValidators))}hasValidator(e){return dE(this._rawValidators,e)}hasAsyncValidator(e){return dE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=r_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uw,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lw,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lw||this.status===r_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uw:lw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=r_,this._hasOwnPendingAsyncValidator=!0;const t=P1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function dN(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=XA(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof fN)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?uw:this.errors?_E:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(r_)?r_:this._anyControlsHaveStatus(_E)?_E:lw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class tP extends ex{constructor(e=null,t,r){super(QA(t),JA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yE(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class tx extends ex{constructor(e,t,r){super(QA(t),JA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){eP(this,e),Object.keys(e).forEach(r=>{X1(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=J1(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,c)=>{r=t(r,o,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class fN extends ex{constructor(e,t,r){super(QA(t),JA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){eP(this,e),e.forEach((r,o)=>{X1(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>J1(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const pN={provide:ao,useExisting:(0,l.Gpc)(()=>hw)},dw=(()=>Promise.resolve(null))();let hw=(()=>{class n extends ao{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new tx({},UA(t),BA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){dw.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),cw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){dw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){dw.then(()=>{const r=this._findContainer(t.path),o=new tx({});(function Z1(n,e){ZA(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){dw.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){dw.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function W1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Bs,10),l.Y36(Hh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([pN]),l.qOj]}),n})();const mN={provide:$h,useExisting:(0,l.Gpc)(()=>vE)},iP=(()=>Promise.resolve(null))();let vE=(()=>{class n extends $h{constructor(t,r,o,c,d){super(),this._changeDetectorRef=d,this.control=new tP,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function WA(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(c=>{c.constructor===aw?t=c:function uN(n){return Object.getPrototypeOf(n.constructor)===qp}(c)?r=c:o=c}),o||r||t||null}(0,c)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function zA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){iP.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;iP.then(()=>{var c;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(c=this._changeDetectorRef)||void 0===c||c.markForCheck()})}_getPath(t){return this._parent?function fE(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ao,9),l.Y36(Bs,10),l.Y36(Hh,10),l.Y36(su,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([mN]),l.qOj,l.TTD]}),n})(),nx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),oP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const TN={provide:su,useExisting:(0,l.Gpc)(()=>wE),multi:!0};function fP(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let wE=(()=>{class n extends qp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=fP(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function AN(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([TN]),l.qOj]}),n})(),pP=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(fP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(wE,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const xN={provide:su,useExisting:(0,l.Gpc)(()=>ox),multi:!0};function gP(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ox=(()=>{class n extends qp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(c=>this._getOptionId(c));r=(c,d)=>{c._setSelected(o.indexOf(d.toString())>-1)}}else r=(o,c)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],c=r.selectedOptions;if(void 0!==c){const d=c;for(let m=0;m<d.length;m++){const T=this._getOptionValue(d[m].value);o.push(T)}}else{const d=r.options;for(let m=0;m<d.length;m++){const v=d[m];if(v.selected){const T=this._getOptionValue(v.value);o.push(T)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function SN(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([xN]),l.qOj]}),n})(),mP=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(gP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(gP(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(ox,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Gp=(()=>{class n{constructor(){this._validator=uE}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):uE,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const LN={provide:Bs,useExisting:(0,l.Gpc)(()=>CE),multi:!0};let CE=(()=>{class n extends Gp{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function _P(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function x1(n){return e=>function C1(n){return null!=n&&"number"==typeof n.length}(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[l._Bn([LN]),l.qOj]}),n})(),UN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[oP]]}),n})(),BN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[UN]}),n})(),fw=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-spinner"]],decls:4,vars:0,consts:[[1,"lds-facebook"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"div")(2,"div")(3,"div"),l.qZA())},styles:[".lds-facebook[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:16px;width:8px;background:#000;animation:lds-facebook 1.2s cubic-bezier(0,.5,.5,1) infinite}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:16px;animation-delay:-.24s}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:32px;animation-delay:-.12s}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:48px;animation-delay:0}@keyframes lds-facebook{0%{top:8px;height:64px}50%,to{top:24px;height:32px}}"]}),n})();function jN(n,e){if(1&n&&(l.TgZ(0,"div",39),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij(" ",t.titleError," ")}}function HN(n,e){if(1&n&&(l.TgZ(0,"div",39),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij(" ",t.categoryError," ")}}function $N(n,e){if(1&n&&(l.TgZ(0,"div",39),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij(" ",t.askingPriceError," ")}}function qN(n,e){if(1&n&&(l.TgZ(0,"div",39),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.uploadErr)}}function GN(n,e){1&n&&(l.TgZ(0,"div",33),l._uU(1,"Add a photo"),l.qZA())}function ZN(n,e){1&n&&(l.TgZ(0,"div",43),l._UZ(1,"app-spinner"),l.qZA())}function zN(n,e){if(1&n&&(l.TgZ(0,"div",44),l._UZ(1,"img",45),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("src",t.pic1Url,l.LSH)}}function WN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",46),l.NdJ("click",function(){return l.CHM(t),l.oxw().deleteImage(1)}),l._uU(1," x "),l.qZA()}}function KN(n,e){1&n&&(l.TgZ(0,"div",43),l._UZ(1,"app-spinner"),l.qZA())}function YN(n,e){if(1&n&&(l.TgZ(0,"div",44),l._UZ(1,"img",45),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("src",t.pic2Url,l.LSH)}}function QN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",46),l.NdJ("click",function(){return l.CHM(t),l.oxw().deleteImage(2)}),l._uU(1," x "),l.qZA()}}function JN(n,e){1&n&&(l.TgZ(0,"div",43),l._UZ(1,"app-spinner"),l.qZA())}function XN(n,e){if(1&n&&(l.TgZ(0,"div",44),l._UZ(1,"img",45),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("src",t.pic3Url,l.LSH)}}function eF(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",46),l.NdJ("click",function(){return l.CHM(t),l.oxw().deleteImage(3)}),l._uU(1," x "),l.qZA()}}function tF(n,e){1&n&&(l.TgZ(0,"div",43),l._UZ(1,"app-spinner"),l.qZA())}function nF(n,e){if(1&n&&(l.TgZ(0,"div",44),l._UZ(1,"img",45),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("src",t.pic4Url,l.LSH)}}function rF(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",46),l.NdJ("click",function(){return l.CHM(t),l.oxw().deleteImage(4)}),l._uU(1," x "),l.qZA()}}function iF(n,e){1&n&&(l.TgZ(0,"div",47),l._UZ(1,"app-spinner"),l.qZA())}const bE=function(n){return{active:n}};let sF=(()=>{class n{constructor(t,r){this.storage=t,this.itemService=r,this.uid="",this.title="",this.desc="",this.size="",this.retailPrice="",this.askingPrice="",this.titleError="",this.askingPriceError="",this.categoryError="",this.category="",this.activeImage=1,this.pic1Url="",this.pic2Url="",this.pic3Url="",this.pic4Url="",this.pic1Id="",this.pic2Id="",this.pic3Id="",this.pic4Id="",this.uploadSpinner=!1,this.uploadErr="",this.overallErr="",this.overallStatus="",this.isLoading=!1}ngOnInit(){this.uid=localStorage.getItem("uid")||""}createListing(){if(this.titleError="",this.categoryError="",this.askingPriceError="",this.overallErr="",this.overallStatus="",0===this.title.trim().length)this.titleError="Title is required";else if(0===this.category.length)this.categoryError="Category is required";else if(0===this.askingPrice.trim().length)this.askingPriceError="Asking Price is required";else{this.isLoading=!0;let t=[];this.pic1Url.length>0&&t.push({id:this.pic1Id,url:this.pic1Url}),this.pic2Url.length>0&&t.push({id:this.pic2Id,url:this.pic2Url}),this.pic3Url.length>0&&t.push({id:this.pic3Id,url:this.pic3Url}),this.pic4Url.length>0&&t.push({id:this.pic4Id,url:this.pic4Url});let r={title:this.title,desc:this.desc,size:this.size,category:this.category,retailPrice:this.retailPrice,askingPrice:this.askingPrice,pics:t,uid:this.uid,isPublished:!1,createdDate:new Date,email:localStorage.getItem("email"),phone:localStorage.getItem("phone")};this.itemService.addItem(r).then(o=>{this.isLoading=!1,this.overallStatus="Item added successfully",this.title="",this.desc="",this.size="",this.category="",this.retailPrice="",this.askingPrice="",this.pic1Url="",this.pic2Url="",this.pic3Url="",this.pic4Url="",this.pic1Id="",this.pic2Id="",this.pic3Id="",this.pic4Id="",this.activeImage=1},o=>{this.isLoading=!1,this.overallErr="Sorry, some problem occured."})}}onFileSelected(t){var r=Date.now();const o=t.target.files[0],d=this.storage.ref(`images/${r}`),m=this.storage.upload(`images/${r}`,o);this.uploadSpinner=!0,this.uploadErr="",m.snapshotChanges().pipe(Gh(()=>{d.getDownloadURL().subscribe(v=>{1===this.activeImage?(this.pic1Url=v,this.pic1Id=String(r),this.activeImage=2):2===this.activeImage?(this.pic2Url=v,this.pic2Id=String(r),this.activeImage=3):3===this.activeImage?(this.pic3Url=v,this.pic3Id=String(r),this.activeImage=4):(this.pic4Url=v,this.pic4Id=String(r),this.activeImage=5),this.uploadSpinner=!1})})).subscribe()}deleteImage(t){1==t?this.storage.refFromURL(this.pic1Url).delete():2==t?this.storage.refFromURL(this.pic2Url).delete():3==t&&this.storage.refFromURL(this.pic3Url).delete(),4==t&&this.storage.refFromURL(this.pic4Url).delete();let r=0;4===t?(this.pic4Url="",this.pic4Id=""):3===t?(this.pic3Url=this.pic4Url,this.pic3Id=this.pic4Id,this.pic4Url="",this.pic4Id=""):2===t?(this.pic2Url=this.pic3Url,this.pic2Id=this.pic3Id,this.pic3Url=this.pic4Url,this.pic3Id=this.pic4Id,this.pic4Url="",this.pic4Id=""):1===t&&(this.pic1Url=this.pic2Url,this.pic1Id=this.pic2Id,this.pic2Url=this.pic3Url,this.pic2Id=this.pic3Id,this.pic3Url=this.pic4Url,this.pic3Id=this.pic4Id,this.pic4Url="",this.pic4Id=""),""!==this.pic1Url&&r++,""!==this.pic2Url&&r++,""!==this.pic3Url&&r++,""!==this.pic4Url&&r++,this.activeImage=r+1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Q0),l.Y36(lE))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-add-item"]],decls:102,vars:43,consts:[[1,"add-item-container"],[3,"isWhite"],[1,"banner"],["src","assets/bg-images/bg4.jpg","alt",""],[1,"form-container"],[1,"left"],[1,"form-group"],[1,"label"],[1,"form-control"],["type","text","name","title","maxlength","50",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],[1,"form-control","h-60"],["name","desc","rows","4","maxlength","200",3,"ngModel","ngModelChange"],["name","category",3,"ngModel","ngModelChange"],["value","sarees"],["value","lahenga"],["value","suits"],["value","gowns"],["type","text","name","size","maxlength","25",3,"ngModel","ngModelChange"],[1,"form-control","input-wrapper"],[1,"currency"],["type","text","name","retailPrice","maxlength","10",3,"ngModel","ngModelChange"],["type","text","name","askingPrice","maxlength","10",3,"ngModel","ngModelChange"],[1,"right"],[1,"photos"],[1,"photo-container",3,"ngClass"],["class","text",4,"ngIf"],[1,"hidden-input"],["type","file","name","image","autocomplete","off",3,"disabled","change"],["photo1",""],["class","spinner-container",4,"ngIf"],["class","preview-container",4,"ngIf"],["class","close-container",3,"click",4,"ngIf"],[1,"text"],["photo2",""],["photo3",""],["photo4",""],["class","spinner-container overall-spinner",4,"ngIf"],[1,"status-container"],[1,"error"],[1,"status"],[1,"btn-container"],[1,"createBtn",3,"click"],[1,"spinner-container"],[1,"preview-container"],["alt","",3,"src"],[1,"close-container",3,"click"],[1,"spinner-container","overall-spinner"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"app-header",1),l.TgZ(2,"div",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"div",4)(5,"form")(6,"div",5)(7,"div",6)(8,"div",7),l._uU(9,"Title"),l.qZA(),l.TgZ(10,"div",8)(11,"input",9),l.NdJ("ngModelChange",function(c){return r.title=c}),l.qZA()(),l.YNc(12,jN,2,1,"div",10),l.qZA(),l.TgZ(13,"div",6)(14,"div",7),l._uU(15,"About the dress (Optional)"),l.qZA(),l.TgZ(16,"div",11)(17,"textarea",12),l.NdJ("ngModelChange",function(c){return r.desc=c}),l.qZA()()(),l.TgZ(18,"div",6)(19,"div",7),l._uU(20,"Category"),l.qZA(),l.TgZ(21,"div",8)(22,"select",13),l.NdJ("ngModelChange",function(c){return r.category=c}),l.TgZ(23,"option",14),l._uU(24,"Sarees"),l.qZA(),l.TgZ(25,"option",15),l._uU(26,"Lahenga"),l.qZA(),l.TgZ(27,"option",16),l._uU(28,"Suits / Anarkali Suits"),l.qZA(),l.TgZ(29,"option",17),l._uU(30,"Gowns"),l.qZA()()(),l.YNc(31,HN,2,1,"div",10),l.qZA(),l.TgZ(32,"div",6)(33,"div",7),l._uU(34,"Size (Optional)"),l.qZA(),l.TgZ(35,"div",8)(36,"input",18),l.NdJ("ngModelChange",function(c){return r.size=c}),l.qZA()()(),l.TgZ(37,"div",6)(38,"div",7),l._uU(39,"Retail Price (Optional)"),l.qZA(),l.TgZ(40,"div",19)(41,"div",20),l._uU(42,"AUD"),l.qZA(),l.TgZ(43,"input",21),l.NdJ("ngModelChange",function(c){return r.retailPrice=c}),l.qZA()()(),l.TgZ(44,"div",6)(45,"div",7),l._uU(46,"Asking Price"),l.qZA(),l.TgZ(47,"div",19)(48,"div",20),l._uU(49,"AUD"),l.qZA(),l.TgZ(50,"input",22),l.NdJ("ngModelChange",function(c){return r.askingPrice=c}),l.qZA()(),l.YNc(51,$N,2,1,"div",10),l.qZA()(),l.TgZ(52,"div",23)(53,"div",6)(54,"div",7),l._uU(55,"Photos (Optional)"),l.qZA(),l.YNc(56,qN,2,1,"div",10),l.TgZ(57,"div",24)(58,"div",25),l.YNc(59,GN,2,0,"div",26),l.TgZ(60,"div",27)(61,"input",28,29),l.NdJ("change",function(c){return r.onFileSelected(c)}),l.qZA()(),l.YNc(63,ZN,2,0,"div",30),l.YNc(64,zN,2,1,"div",31),l.YNc(65,WN,2,0,"div",32),l.qZA(),l.TgZ(66,"div",25)(67,"div",33),l._uU(68,"Add a photo"),l.qZA(),l.TgZ(69,"div",27)(70,"input",28,34),l.NdJ("change",function(c){return r.onFileSelected(c)}),l.qZA()(),l.YNc(72,KN,2,0,"div",30),l.YNc(73,YN,2,1,"div",31),l.YNc(74,QN,2,0,"div",32),l.qZA(),l.TgZ(75,"div",25)(76,"div",33),l._uU(77,"Add a photo"),l.qZA(),l.TgZ(78,"div",27)(79,"input",28,35),l.NdJ("change",function(c){return r.onFileSelected(c)}),l.qZA()(),l.YNc(81,JN,2,0,"div",30),l.YNc(82,XN,2,1,"div",31),l.YNc(83,eF,2,0,"div",32),l.qZA(),l.TgZ(84,"div",25)(85,"div",33),l._uU(86,"Add a photo"),l.qZA(),l.TgZ(87,"div",27)(88,"input",28,36),l.NdJ("change",function(c){return r.onFileSelected(c)}),l.qZA()(),l.YNc(90,tF,2,0,"div",30),l.YNc(91,nF,2,1,"div",31),l.YNc(92,rF,2,0,"div",32),l.qZA()()(),l.YNc(93,iF,2,0,"div",37),l.TgZ(94,"div",38)(95,"div",39),l._uU(96),l.qZA(),l.TgZ(97,"div",40),l._uU(98),l.qZA()(),l.TgZ(99,"div",41)(100,"button",42),l.NdJ("click",function(){return r.createListing()}),l._uU(101," Create Listing "),l.qZA()()()()()()),2&t&&(l.xp6(1),l.Q6J("isWhite",!0),l.xp6(10),l.Q6J("ngModel",r.title),l.xp6(1),l.Q6J("ngIf",r.titleError.length>0),l.xp6(5),l.Q6J("ngModel",r.desc),l.xp6(5),l.Q6J("ngModel",r.category),l.xp6(9),l.Q6J("ngIf",r.categoryError.length>0),l.xp6(5),l.Q6J("ngModel",r.size),l.xp6(7),l.Q6J("ngModel",r.retailPrice),l.xp6(7),l.Q6J("ngModel",r.askingPrice),l.xp6(1),l.Q6J("ngIf",r.askingPriceError.length>0),l.xp6(5),l.Q6J("ngIf",r.uploadErr.length>0),l.xp6(2),l.Q6J("ngClass",l.VKq(35,bE,1===r.activeImage)),l.xp6(1),l.Q6J("ngIf",0===r.pic1Url.length),l.xp6(2),l.Q6J("disabled",1!==r.activeImage),l.xp6(2),l.Q6J("ngIf",1===r.activeImage&&r.uploadSpinner),l.xp6(1),l.Q6J("ngIf",r.pic1Url.length>0),l.xp6(1),l.Q6J("ngIf",r.pic1Url.length>0),l.xp6(1),l.Q6J("ngClass",l.VKq(37,bE,2===r.activeImage)),l.xp6(4),l.Q6J("disabled",2!==r.activeImage),l.xp6(2),l.Q6J("ngIf",2===r.activeImage&&r.uploadSpinner),l.xp6(1),l.Q6J("ngIf",r.pic2Url.length>0),l.xp6(1),l.Q6J("ngIf",r.pic2Url.length>0),l.xp6(1),l.Q6J("ngClass",l.VKq(39,bE,3===r.activeImage)),l.xp6(4),l.Q6J("disabled",3!==r.activeImage),l.xp6(2),l.Q6J("ngIf",3===r.activeImage&&r.uploadSpinner),l.xp6(1),l.Q6J("ngIf",r.pic3Url.length>0),l.xp6(1),l.Q6J("ngIf",r.pic3Url.length>0),l.xp6(1),l.Q6J("ngClass",l.VKq(41,bE,4===r.activeImage)),l.xp6(4),l.Q6J("disabled",4!==r.activeImage),l.xp6(2),l.Q6J("ngIf",4===r.activeImage&&r.uploadSpinner),l.xp6(1),l.Q6J("ngIf",r.pic4Url.length>0),l.xp6(1),l.Q6J("ngIf",r.pic4Url.length>0),l.xp6(1),l.Q6J("ngIf",r.isLoading),l.xp6(3),l.Oqu(r.overallErr),l.xp6(2),l.Oqu(r.overallStatus))},directives:[n_,nx,$A,hw,aw,CE,HA,vE,Dn,wE,pP,mP,Yr,fw],styles:[".add-item-container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;position:relative}.add-item-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%;height:500px}.add-item-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{position:absolute;top:300px;left:15vw;width:70vw;height:calc(100vh - 350px);background-color:#fff;box-shadow:1px 1px 20px -5px #747474;border-radius:4px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;padding:40px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:30%;border-right:1px solid rgba(0,0,0,.15);padding-right:40px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:24px;margin-bottom:17px;width:100%}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:5px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid rgba(0,0,0,.15);color:#495057;outline:none;padding:8px 12px;border-radius:4px;font-size:18px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{width:50px;height:100%;position:absolute;top:0px;left:0px;background:#e9ecef;display:flex;align-items:center;justify-content:center}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:58px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;height:60px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:3px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{padding-left:40px;width:70%;position:relative}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]{width:200px;height:140px;margin:10px 10px 0 0;background-color:#e9ecef;display:flex;align-items:center;justify-content:center;position:relative}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100%;height:100%}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;opacity:0;cursor:pointer}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .hidden-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{cursor:unset}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:none}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container.active[_ngcontent-%COMP%]{border:4px dashed #e9ecef;background-color:#fff;cursor:pointer}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container.active[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:block;color:#606060}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{position:absolute;background:white;width:100%;text-align:center}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100%;height:100%}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]   .close-container[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;width:20px;height:20px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fff;background-color:#0003;font-size:13px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   .photo-container[_ngcontent-%COMP%]:hover   .close-container[_ngcontent-%COMP%]{background-color:#000c}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{position:absolute;background:white;width:100%;text-align:center}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .spinner-container.overall-spinner[_ngcontent-%COMP%]{margin-top:100px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]{position:absolute;bottom:15px;left:40px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .status-container[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{color:green}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{position:absolute;bottom:0px;right:20px}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   .createBtn[_ngcontent-%COMP%]{width:175px;height:40px;padding:8px 12px;border-radius:4px;font-size:18px;margin-top:20px;border:0px;background-color:#2699fb;color:#fff;cursor:pointer}.add-item-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute;right:15px;top:0px;color:red}.h-60[_ngcontent-%COMP%]{height:60px}"]}),n})();var oF=F(5226),DP=F.n(oF);function aF(n,e){if(1&n&&(l.TgZ(0,"div",9),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij(" Pay for ",t.selectedItems.length," item ")}}function cF(n,e){if(1&n&&(l.TgZ(0,"div",9),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij(" Pay for ",t.selectedItems.length," item(s) ")}}function lF(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",17)(1,"button",23),l.NdJ("click",function(){l.CHM(t);const o=l.oxw().$implicit;return l.oxw(2).unpublish(o)}),l._uU(2," Unpublish "),l.qZA()()}}function uF(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",27),l.NdJ("click",function(){l.CHM(t);const o=l.oxw(2).$implicit;return l.oxw(2).publish(o)}),l._uU(1," Publish "),l.qZA()}}function dF(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",28),l.NdJ("click",function(){l.CHM(t);const o=l.oxw(2).$implicit;return l.oxw(2).remove(o)}),l._uU(1," Remove "),l.qZA()}}function hF(n,e){if(1&n&&(l.TgZ(0,"div",24),l.YNc(1,uF,2,0,"button",25),l.YNc(2,dF,2,0,"button",26),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngIf",!t.isSelected),l.xp6(1),l.Q6J("ngIf",t.isSelected)}}function fF(n,e){if(1&n&&(l.TgZ(0,"div",20)(1,"div",12),l._uU(2),l.qZA(),l.TgZ(3,"div",13),l._uU(4),l.qZA(),l.TgZ(5,"div",14),l._uU(6),l.qZA(),l.TgZ(7,"div",15),l._uU(8),l.qZA(),l.TgZ(9,"div",16),l._uU(10),l.qZA(),l.TgZ(11,"div",16),l._uU(12),l.qZA(),l.YNc(13,lF,3,0,"div",21),l.YNc(14,hF,3,2,"div",22),l.qZA()),2&n){const t=e.$implicit,r=e.index;l.xp6(2),l.Oqu(r+1),l.xp6(2),l.Oqu(t.title),l.xp6(2),l.Oqu(t.desc),l.xp6(2),l.Oqu(t.size),l.xp6(2),l.Oqu(t.retailPrice),l.xp6(2),l.Oqu(t.askingPrice),l.xp6(1),l.Q6J("ngIf",t.isPublished),l.xp6(1),l.Q6J("ngIf",!t.isPublished)}}function pF(n,e){1&n&&(l.TgZ(0,"div",29),l._uU(1,"No items added yet"),l.qZA())}function gF(n,e){if(1&n&&(l.TgZ(0,"div",10)(1,"div",11)(2,"div",12),l._uU(3,"SL.NO"),l.qZA(),l.TgZ(4,"div",13),l._uU(5,"TITLE"),l.qZA(),l.TgZ(6,"div",14),l._uU(7,"DESCRIPTION"),l.qZA(),l.TgZ(8,"div",15),l._uU(9,"SIZE"),l.qZA(),l.TgZ(10,"div",16),l._uU(11,"RETAIL PRICE"),l.qZA(),l.TgZ(12,"div",16),l._uU(13,"ASKING PRICE"),l.qZA(),l.TgZ(14,"div",17),l._uU(15,"PUBLISH"),l.qZA()(),l.YNc(16,fF,15,8,"div",18),l.YNc(17,pF,2,0,"div",19),l.qZA()),2&n){const t=l.oxw();l.xp6(16),l.Q6J("ngForOf",t.items),l.xp6(1),l.Q6J("ngIf",0===t.items.length)}}function mF(n,e){1&n&&(l.TgZ(0,"div",30),l._UZ(1,"app-spinner"),l.qZA())}let _F=(()=>{class n{constructor(t){this.itemService=t,this.uid="",this.items=[],this.isLoading=!1,this.selectedItems=[]}ngOnInit(){this.uid=localStorage.getItem("uid")||"",this.getData()}getData(){this.isLoading=!0,this.itemService.getAllItemsByUid(this.uid).subscribe(t=>{this.items=t,this.isLoading=!1;for(let r of this.items)r.isSelected=!1},t=>{this.isLoading=!1,console.log(t)})}publish(t){t.isSelected=!t.isSelected,this.selectedItems.push(t.id)}unpublish(t){DP().fire({title:"Are you sure?",text:"If you unpublish, this listing will be removed and to publish it again, you have to pay again. ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, unpublish it!"}).then(r=>{r.isConfirmed&&(t.isPublished=!1,DP().fire("Unpublished!","Your listing has been removed.","success"))})}remove(t){t.isSelected=!t.isSelected;let r=this.selectedItems.indexOf(t.id);this.selectedItems.splice(r,1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(lE))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-dashboard"]],decls:12,vars:5,consts:[[1,"add-item-container"],[3,"isWhite"],[1,"banner"],["src","assets/bg-images/bg5.jpg","alt",""],[1,"table-container"],[1,"title"],["class","pay-btn",4,"ngIf"],["class","items",4,"ngIf"],["class","spinner-container",4,"ngIf"],[1,"pay-btn"],[1,"items"],[1,"item","heading"],[1,"index"],[1,"item-title"],[1,"desc"],[1,"size"],[1,"price"],[1,"status"],["class","item",4,"ngFor","ngForOf"],["class","no-items",4,"ngIf"],[1,"item"],["class","status",4,"ngIf"],["class","status published",4,"ngIf"],[1,"unpublish-btn",3,"click"],[1,"status","published"],["class","publish-btn",3,"click",4,"ngIf"],["class","remove-btn",3,"click",4,"ngIf"],[1,"publish-btn",3,"click"],[1,"remove-btn",3,"click"],[1,"no-items"],[1,"spinner-container"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"app-header",1),l.TgZ(2,"div",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"div",4)(5,"div",5)(6,"span"),l._uU(7,"All Items"),l.qZA(),l.YNc(8,aF,2,1,"div",6),l.YNc(9,cF,2,1,"div",6),l.qZA(),l.YNc(10,gF,18,2,"div",7),l.YNc(11,mF,2,0,"div",8),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("isWhite",!1),l.xp6(7),l.Q6J("ngIf",1===r.selectedItems.length),l.xp6(1),l.Q6J("ngIf",r.selectedItems.length>1),l.xp6(1),l.Q6J("ngIf",!r.isLoading),l.xp6(1),l.Q6J("ngIf",r.isLoading))},directives:[n_,Dn,Rn,fw],styles:[".add-item-container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;position:relative}.add-item-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%;height:600px}.add-item-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{position:absolute;top:400px;left:15vw;width:70vw;height:calc(100vh - 450px);background-color:#fff;box-shadow:1px 1px 20px -5px #747474;border-radius:4px;padding:40px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;height:100%}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px;display:flex;align-items:center;justify-content:space-between}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .pay-btn[_ngcontent-%COMP%]{width:163px;font-size:15px;padding:5px 10px;border-radius:4px;background-color:#00a523;color:#fff;border:0px;outline:none;cursor:pointer;text-align:center}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{margin-top:20px;border-bottom:1px solid #cdcdcd;height:400px;overflow:auto}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .no-items[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:20px;color:#3c3c3c;height:350px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;border:1px solid #cdcdcd;border-bottom:0px solid white;padding:10px 0}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item.heading[_ngcontent-%COMP%]{font-weight:700}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{width:70px;text-align:center;padding:10px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{width:170px;padding:10px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{min-width:250px;width:calc(100% - 850px);padding:10px 20px 10px 10px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{width:70px;text-align:center;padding:10px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{width:140px;text-align:center;padding:10px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{width:110px;text-align:center;padding:10px}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .status.published[_ngcontent-%COMP%]{color:green}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .publish-btn[_ngcontent-%COMP%], .add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%], .add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .unpublish-btn[_ngcontent-%COMP%]{width:80px;padding:5px 10px;border-radius:4px;background-color:#03a2c5;color:#fff;border:0px;outline:none;cursor:pointer}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .unpublish-btn[_ngcontent-%COMP%]{background-color:#ff3c2a}.add-item-container[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{background-color:#ff7828}"]}),n})(),yF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:13,vars:1,consts:[[1,"home-container"],[1,"overlay"],["src","assets/bg-images/bg3.jpg","alt","",1,"bg-pic"],[3,"isWhite"],[1,"title-search"],[1,"title"],[1,"sub-title"],[1,"search"],["type","text","placeholder","Search",1,"search-input"],[1,"search-btn"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"div",1)(2,"img",2)(3,"app-header",3),l.TgZ(4,"div",4)(5,"h1",5),l._uU(6,"Wear your dream designer outfit"),l.qZA(),l.TgZ(7,"h3",6),l._uU(8," Australia's Largest online bollywood pre-owned marketplace "),l.qZA(),l.TgZ(9,"div",7),l._UZ(10,"input",8),l.TgZ(11,"button",9),l._uU(12,"Search"),l.qZA()()()()),2&t&&(l.xp6(3),l.Q6J("isWhite",!1))},directives:[n_],styles:[".home-container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;position:relative}.home-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;background:rgba(0,0,0,.2);width:100vw;height:100vh;overflow:hidden}.home-container[_ngcontent-%COMP%]   .bg-pic[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]{position:absolute;top:calc(50vh - 140px);left:15vw;width:70vw;height:200px}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:50px;line-height:60px;margin-bottom:8px;font-weight:700;font-family:Poppins,sans-serif;text-align:center;color:#fff}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{font-size:22px;line-height:30px;margin-bottom:48px;font-family:Poppins,sans-serif;text-align:center;color:#fff}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding:30px;background:#fff;width:100%;border-radius:4px;box-shadow:0 0 #8898aa1a,0 15px 35px 2px #31315d1a,0 5px 15px 2px #00000014;position:relative}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;height:50px;font-size:16px;font-weight:400;border-radius:4px;color:#495057;background-color:#fff;border:1px solid rgba(0,0,0,.15);padding:8px 160px 8px 12px;outline:none;line-height:1.5}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#495057;font-size:16px;font-weight:400}.home-container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{position:absolute;top:30px;right:30px;width:150px;height:50px;background-color:#2699fb;border-radius:0 4px 4px 0/0px 4px 4px 0px;border:0px;outline:none;cursor:pointer;font-weight:700;color:#fff}"]}),n})();function vF(n,e){1&n&&(l.TgZ(0,"div",27),l._UZ(1,"img",28),l.qZA())}const EE=function(n){return{active:n}};function wF(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",29),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).selectPic(0)}),l._UZ(1,"img",30),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("ngClass",l.VKq(2,EE,0===t.selectedPicIndex)),l.xp6(1),l.Q6J("src",null==t.item?null:t.item.pics[0].url,l.LSH)}}function CF(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",29),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).selectPic(1)}),l._UZ(1,"img",30),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("ngClass",l.VKq(2,EE,1===t.selectedPicIndex)),l.xp6(1),l.Q6J("src",null==t.item?null:t.item.pics[1].url,l.LSH)}}function bF(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",29),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).selectPic(2)}),l._UZ(1,"img",30),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("ngClass",l.VKq(2,EE,2===t.selectedPicIndex)),l.xp6(1),l.Q6J("src",null==t.item?null:t.item.pics[2].url,l.LSH)}}function EF(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",29),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).selectPic(3)}),l._UZ(1,"img",30),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("ngClass",l.VKq(2,EE,3===t.selectedPicIndex)),l.xp6(1),l.Q6J("src",null==t.item?null:t.item.pics[3].url,l.LSH)}}function IF(n,e){if(1&n&&l._UZ(0,"img",30),2&n){const t=l.oxw(2);l.Q6J("src",t.selectedPic,l.LSH)}}function DF(n,e){1&n&&l._UZ(0,"img",28)}function TF(n,e){1&n&&(l.TgZ(0,"div",31),l._uU(1," Sarees "),l.qZA())}function AF(n,e){1&n&&(l.TgZ(0,"div",31),l._uU(1," Suits / Anarkali Suits "),l.qZA())}function xF(n,e){1&n&&(l.TgZ(0,"div",31),l._uU(1," Lahenga "),l.qZA())}function SF(n,e){1&n&&(l.TgZ(0,"div",31),l._uU(1," Gowns "),l.qZA())}function MF(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",6)(1,"div",7),l.YNc(2,vF,2,0,"div",8),l.YNc(3,wF,2,4,"div",9),l.YNc(4,CF,2,4,"div",9),l.YNc(5,bF,2,4,"div",9),l.YNc(6,EF,2,4,"div",9),l.qZA(),l.TgZ(7,"div",10)(8,"div",11)(9,"div",12),l.YNc(10,IF,1,1,"img",13),l.YNc(11,DF,1,0,"img",14),l.qZA(),l.TgZ(12,"div",15)(13,"div",16),l._uU(14),l.qZA(),l.TgZ(15,"div",17),l._uU(16),l.ALo(17,"date"),l.qZA(),l.TgZ(18,"div",18),l._uU(19),l.qZA(),l.TgZ(20,"div",19),l._uU(21," Retail Price: AUD "),l.TgZ(22,"span",20),l._uU(23),l.qZA()(),l.TgZ(24,"div",19),l._uU(25," Asking Price: AUD "),l.TgZ(26,"span",21),l._uU(27),l.qZA()(),l.TgZ(28,"div",22)(29,"button",23),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return o.viewContact(o.item)}),l._uU(30,"View Seller Contact"),l.qZA()()()(),l.TgZ(31,"div",24),l.YNc(32,TF,2,0,"div",25),l.YNc(33,AF,2,0,"div",25),l.YNc(34,xF,2,0,"div",25),l.YNc(35,SF,2,0,"div",25),l.TgZ(36,"div",26),l._uU(37),l.qZA()()()()}if(2&n){const t=l.oxw();l.xp6(2),l.Q6J("ngIf",0==(null==t.item?null:t.item.pics.length)),l.xp6(1),l.Q6J("ngIf",(null==t.item?null:t.item.pics.length)>0),l.xp6(1),l.Q6J("ngIf",(null==t.item?null:t.item.pics.length)>1),l.xp6(1),l.Q6J("ngIf",(null==t.item?null:t.item.pics.length)>2),l.xp6(1),l.Q6J("ngIf",(null==t.item?null:t.item.pics.length)>3),l.xp6(4),l.Q6J("ngIf",t.selectedPic.length>0),l.xp6(1),l.Q6J("ngIf",0===t.selectedPic.length),l.xp6(3),l.hij(" ",null==t.item?null:t.item.title," "),l.xp6(2),l.hij(" Posted on: ",l.xi3(17,17,null==t.item?null:t.item.createdDate.toDate(),"mediumDate")," "),l.xp6(3),l.hij("Size: ",null==t.item?null:t.item.size,""),l.xp6(4),l.Oqu(null==t.item?null:t.item.retailPrice),l.xp6(4),l.Oqu(null==t.item?null:t.item.askingPrice),l.xp6(5),l.Q6J("ngIf","sarees"===(null==t.item?null:t.item.category)),l.xp6(1),l.Q6J("ngIf","suits"===(null==t.item?null:t.item.category)),l.xp6(1),l.Q6J("ngIf","lahenga"===(null==t.item?null:t.item.category)),l.xp6(1),l.Q6J("ngIf","gowns"===(null==t.item?null:t.item.category)),l.xp6(2),l.hij(" ",null==t.item?null:t.item.desc," ")}}function PF(n,e){1&n&&(l.TgZ(0,"div",32),l._UZ(1,"app-spinner"),l.qZA())}function OF(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",33),l.NdJ("click",function(){return l.CHM(t),l.oxw().closeContact()}),l.qZA()}}function kF(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",34)(1,"div",35)(2,"div",36),l._uU(3,"Contact Seller"),l.qZA(),l.TgZ(4,"div",37),l.NdJ("click",function(){return l.CHM(t),l.oxw().closeContact()}),l._uU(5,"x"),l.qZA()(),l.TgZ(6,"div",38)(7,"div",39),l._uU(8),l.qZA(),l.TgZ(9,"div",39),l._uU(10),l.qZA()(),l.TgZ(11,"div",40)(12,"button",23),l.NdJ("click",function(){return l.CHM(t),l.oxw().closeContact()}),l._uU(13,"Ok"),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(8),l.hij("Email: ",null==t.selectedItem?null:t.selectedItem.email,""),l.xp6(2),l.hij("Phone: ",null==t.selectedItem?null:t.selectedItem.phone,"")}}let RF=(()=>{class n{constructor(t,r){this.route=t,this.itemService=r,this.id="",this.selectedPic="",this.selectedPicIndex=0,this.isLoading=!1,this.showContact=!1}ngOnInit(){this.route.params.subscribe(t=>{this.id=t.id,this.getItem()})}getItem(){this.isLoading=!0,this.itemService.getItem(this.id).then(t=>{t.exists&&(this.item=t.data(),this.item.pics.length>0&&(this.selectedPic=this.item.pics[0].url)),this.isLoading=!1},t=>{this.isLoading=!1,console.log(t)})}selectPic(t){console.log(t),this.selectedPicIndex=t,this.selectedPic=this.item.pics[t].url}viewContact(t){this.selectedItem=t,this.showContact=!0}closeContact(){this.showContact=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ja),l.Y36(lE))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-item"]],decls:6,vars:6,consts:[[1,"item-container"],[3,"isWhite","isDarkBG"],["class","item",4,"ngIf"],["class","no-item",4,"ngIf"],["class","overlay",3,"click",4,"ngIf"],["class","contact-modal",4,"ngIf"],[1,"item"],[1,"item-left"],["class","thumbnail",4,"ngIf"],["class","thumbnail",3,"ngClass","click",4,"ngIf"],[1,"item-right"],[1,"item-right-top"],[1,"item-pic"],["alt","",3,"src",4,"ngIf"],["src","assets/no-image.png","alt","",4,"ngIf"],[1,"item-details"],[1,"item-title"],[1,"item-posted"],[1,"item-size"],[1,"item-price"],[1,"retail-price"],[1,"asking-price"],[1,"item-contact"],[3,"click"],[1,"item-right-bottom"],["class","item-category",4,"ngIf"],[1,"item-desc"],[1,"thumbnail"],["src","assets/no-image.png","alt",""],[1,"thumbnail",3,"ngClass","click"],["alt","",3,"src"],[1,"item-category"],[1,"no-item"],[1,"overlay",3,"click"],[1,"contact-modal"],[1,"top"],[1,"title"],[1,"close-btn",3,"click"],[1,"middle"],[1,"sec"],[1,"bottom"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"app-header",1),l.YNc(2,MF,38,20,"div",2),l.YNc(3,PF,2,0,"div",3),l.YNc(4,OF,1,0,"div",4),l.YNc(5,kF,14,2,"div",5),l.qZA()),2&t&&(l.xp6(1),l.Q6J("isWhite",!0)("isDarkBG",!0),l.xp6(1),l.Q6J("ngIf",!r.isLoading),l.xp6(1),l.Q6J("ngIf",r.isLoading),l.xp6(1),l.Q6J("ngIf",r.showContact),l.xp6(1),l.Q6J("ngIf",r.showContact))},directives:[n_,Dn,Yr,fw],pipes:[au],styles:[".item-container[_ngcontent-%COMP%]{width:100vw;min-height:100vh;overflow-x:hidden;position:relative}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;width:1000px;height:700px;margin:0 auto;padding-top:150px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-left[_ngcontent-%COMP%]{width:175px;height:465px;background-color:#f1f1f1}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-left[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{margin:10px;height:104px;border:2px solid #f1f1f1}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-left[_ngcontent-%COMP%]   .thumbnail.active[_ngcontent-%COMP%]{border:2px solid #4880ff}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-left[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100px;object-fit:cover;object-position:top;cursor:pointer}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]{width:825px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]{display:flex}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-pic[_ngcontent-%COMP%]{width:550px;padding:0 20px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:510px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{width:285px;padding-left:5px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;margin-bottom:5px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-posted[_ngcontent-%COMP%]{font-size:16px;color:gray;margin-bottom:20px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-size[_ngcontent-%COMP%]{font-size:18px;margin-bottom:20px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]   .asking-price[_ngcontent-%COMP%], .item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]   .retail-price[_ngcontent-%COMP%]{margin-left:10px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-contact[_ngcontent-%COMP%]{margin-top:40px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-top[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .item-contact[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0px;outline:none;padding:10px 25px;border-radius:5px;font-weight:700;font-size:18px;color:#fff;background-color:#059fba;cursor:pointer}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-bottom[_ngcontent-%COMP%]{padding:20px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-bottom[_ngcontent-%COMP%]   .item-category[_ngcontent-%COMP%]{border:2px solid #059fba;padding:3px 12px;font-size:16px;border-radius:4px;width:-moz-fit-content;width:fit-content;margin-bottom:10px}.item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-right[_ngcontent-%COMP%]   .item-right-bottom[_ngcontent-%COMP%]   .item-desc[_ngcontent-%COMP%]{margin-bottom:10px}.item-container[_ngcontent-%COMP%]   .no-item[_ngcontent-%COMP%]{width:100vw;height:800px;display:flex;align-items:center;justify-content:center}.item-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;width:100vw;height:100vh;background-color:#000000bf}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]{position:absolute;top:calc(50vh - 100px);left:calc(50vw - 200px);width:400px;height:200px;background-color:#fff;border-radius:4px;padding:10px 15px}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #f1f1f1;padding-bottom:7px}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{cursor:pointer;font-size:18px}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{padding:15px 0 5px;border-bottom:1px solid #f1f1f1}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]   .sec[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{text-align:center}.item-container[_ngcontent-%COMP%]   .contact-modal[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:4px;background-color:#059fba;color:#fff;outline:none;border:0px;margin-top:10px;cursor:pointer}"]}),n})();function NF(n,e){1&n&&(l.TgZ(0,"span"),l._uU(1,"Sarees"),l.qZA())}function FF(n,e){1&n&&(l.TgZ(0,"span"),l._uU(1,"Lahenga"),l.qZA())}function LF(n,e){1&n&&(l.TgZ(0,"span"),l._uU(1,"Suits / Anarkali Suits"),l.qZA())}function VF(n,e){1&n&&(l.TgZ(0,"span"),l._uU(1,"Gowns"),l.qZA())}function UF(n,e){if(1&n&&l._UZ(0,"img",22),2&n){const t=l.oxw().$implicit;l.Q6J("src",t.pics[0].url,l.LSH)}}function BF(n,e){1&n&&l._UZ(0,"img",23)}function jF(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(){const c=l.CHM(t).$implicit;return l.oxw(2).goToItem(c.id)}),l.TgZ(1,"div",13),l.YNc(2,UF,1,1,"img",14),l.YNc(3,BF,1,0,"img",15),l.qZA(),l.TgZ(4,"div",16)(5,"div",17),l._uU(6),l.qZA(),l.TgZ(7,"div",18),l._uU(8),l.qZA(),l.TgZ(9,"div",19)(10,"div",20),l._uU(11),l.qZA(),l.TgZ(12,"div",21),l._uU(13,"View details"),l.qZA()()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Q6J("ngIf",t.pics[0]),l.xp6(1),l.Q6J("ngIf",!t.pics[0]),l.xp6(3),l.Oqu(t.title),l.xp6(2),l.Oqu(t.desc),l.xp6(3),l.hij("AUD ",t.askingPrice,"")}}function HF(n,e){if(1&n&&(l.TgZ(0,"div",10),l.YNc(1,jF,14,5,"div",11),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.items)}}function $F(n,e){1&n&&(l.TgZ(0,"div",24),l._uU(1," No items found "),l.qZA())}function qF(n,e){1&n&&(l.TgZ(0,"div",25),l._UZ(1,"app-spinner"),l.qZA())}let GF=(()=>{class n{constructor(t,r,o){this.route=t,this.router=r,this.itemService=o,this.type="",this.isLoading=!1,this.items=[]}ngOnInit(){this.route.params.subscribe(t=>{this.type=t.type,this.getAllData()})}getAllData(){this.isLoading=!0,this.itemService.getAllItemsByType(this.type).subscribe(t=>{this.items=t,this.isLoading=!1},t=>{this.isLoading=!1,console.log(t)})}goToItem(t){this.router.navigate(["item",t])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ja),l.Y36($n),l.Y36(lE))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-list"]],decls:13,vars:8,consts:[[1,"list-container"],[3,"isWhite"],[1,"banner"],["src","assets/bg-images/bg6.jpg","alt",""],[1,"items-container"],[1,"title"],[4,"ngIf"],["class","items",4,"ngIf"],["class","no-items",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"items"],["class","item",3,"click",4,"ngFor","ngForOf"],[1,"item",3,"click"],[1,"item-img"],["alt","",3,"src",4,"ngIf"],["src","assets/no-image.png","alt","",4,"ngIf"],[1,"item-body"],[1,"item-title"],[1,"item-desc"],[1,"item-bottom"],[1,"item-price"],[1,"item-view"],["alt","",3,"src"],["src","assets/no-image.png","alt",""],[1,"no-items"],[1,"spinner"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"app-header",1),l.TgZ(2,"div",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"div",4)(5,"div",5),l.YNc(6,NF,2,0,"span",6),l.YNc(7,FF,2,0,"span",6),l.YNc(8,LF,2,0,"span",6),l.YNc(9,VF,2,0,"span",6),l.qZA(),l.YNc(10,HF,2,1,"div",7),l.YNc(11,$F,2,0,"div",8),l.YNc(12,qF,2,0,"div",9),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("isWhite",!1),l.xp6(5),l.Q6J("ngIf","sarees"===r.type),l.xp6(1),l.Q6J("ngIf","lahenga"===r.type),l.xp6(1),l.Q6J("ngIf","suits"===r.type),l.xp6(1),l.Q6J("ngIf","gowns"===r.type),l.xp6(1),l.Q6J("ngIf",r.items.length>0&&!r.isLoading),l.xp6(1),l.Q6J("ngIf",0===r.items.length&&!r.isLoading),l.xp6(1),l.Q6J("ngIf",0===r.items.length&&r.isLoading))},directives:[n_,Dn,Rn,fw],styles:[".list-container[_ngcontent-%COMP%]{width:100vw;min-height:100vh;position:relative}.list-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{width:100%;height:350px}.list-container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]{padding:50px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:-20px;margin-left:-20px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:250px;margin-left:20px;margin-top:20px;height:330px;border-radius:5px;box-shadow:0 4px 8px #0003,0 6px 20px #00000030;cursor:pointer}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]{width:250px;height:150px;border-radius:5px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:150px;border-top-left-radius:5px;border-top-right-radius:5px;object-fit:cover}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]{padding:10px 20px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-size:22px;margin-bottom:5px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-desc[_ngcontent-%COMP%]{color:gray;display:-webkit-box;max-width:260px;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;margin-bottom:10px;height:80px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-bottom[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-bottom[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{font-size:18px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-body[_ngcontent-%COMP%]   .item-bottom[_ngcontent-%COMP%]   .item-view[_ngcontent-%COMP%]{font-size:14px}.list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .no-items[_ngcontent-%COMP%], .list-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:100%;height:400px;display:flex;align-items:center;justify-content:center;font-size:20px}"]}),n})();function ZF(n,e){if(1&n&&(l.TgZ(0,"div",21),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.loginEmailError," ")}}function zF(n,e){if(1&n&&(l.TgZ(0,"div",21),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.passwordError," ")}}function WF(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12)(1,"form")(2,"div",13)(3,"div",14),l._uU(4,"Email"),l.qZA(),l.TgZ(5,"div",15)(6,"input",16),l.NdJ("ngModelChange",function(o){return l.CHM(t),l.oxw().email=o}),l.qZA()(),l.YNc(7,ZF,2,1,"div",17),l.qZA(),l.TgZ(8,"div",13)(9,"div",14),l._uU(10,"Password"),l.qZA(),l.TgZ(11,"div",15)(12,"input",18),l.NdJ("ngModelChange",function(o){return l.CHM(t),l.oxw().password=o}),l.qZA()(),l.YNc(13,zF,2,1,"div",17),l.qZA(),l.TgZ(14,"div")(15,"button",19),l.NdJ("click",function(){return l.CHM(t),l.oxw().login()}),l._uU(16,"Login"),l.qZA()(),l.TgZ(17,"div",20),l.NdJ("click",function(){return l.CHM(t),l.oxw().forgotPassword()}),l._uU(18,"Forgot Password"),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(6),l.Q6J("ngModel",t.email),l.xp6(1),l.Q6J("ngIf",t.loginEmailError.length>0),l.xp6(5),l.Q6J("ngModel",t.password),l.xp6(1),l.Q6J("ngIf",t.passwordError.length>0)}}function KF(n,e){if(1&n&&(l.TgZ(0,"div",21),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.fullNameError," ")}}function YF(n,e){if(1&n&&(l.TgZ(0,"div",21),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.registerEmailError," ")}}function QF(n,e){if(1&n&&(l.TgZ(0,"div",21),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.phoneError," ")}}function JF(n,e){if(1&n&&(l.TgZ(0,"div",21),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.passwordError," ")}}function XF(n,e){if(1&n&&(l.TgZ(0,"div",21),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.confirmPasswordError," ")}}function e2(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12)(1,"form")(2,"div",13)(3,"div",14),l._uU(4,"Full name"),l.qZA(),l.TgZ(5,"div",15)(6,"input",22),l.NdJ("ngModelChange",function(o){return l.CHM(t),l.oxw().fullName=o}),l.qZA()(),l.YNc(7,KF,2,1,"div",17),l.qZA(),l.TgZ(8,"div",13)(9,"div",14),l._uU(10,"Email"),l.qZA(),l.TgZ(11,"div",15)(12,"input",16),l.NdJ("ngModelChange",function(o){return l.CHM(t),l.oxw().email=o}),l.qZA()(),l.YNc(13,YF,2,1,"div",17),l.qZA(),l.TgZ(14,"div",13)(15,"div",14),l._uU(16,"Phone"),l.qZA(),l.TgZ(17,"div",15)(18,"input",23),l.NdJ("ngModelChange",function(o){return l.CHM(t),l.oxw().phone=o}),l.qZA()(),l.YNc(19,QF,2,1,"div",17),l.qZA(),l.TgZ(20,"div",13)(21,"div",14),l._uU(22,"Create Password"),l.qZA(),l.TgZ(23,"div",15)(24,"input",18),l.NdJ("ngModelChange",function(o){return l.CHM(t),l.oxw().password=o}),l.qZA()(),l.YNc(25,JF,2,1,"div",17),l.qZA(),l.TgZ(26,"div",13)(27,"div",14),l._uU(28,"Confirm Password"),l.qZA(),l.TgZ(29,"div",15)(30,"input",24),l.NdJ("ngModelChange",function(o){return l.CHM(t),l.oxw().confirmPassword=o}),l.qZA()(),l.YNc(31,XF,2,1,"div",17),l.qZA(),l.TgZ(32,"div")(33,"button",19),l.NdJ("click",function(){return l.CHM(t),l.oxw().register()}),l._uU(34,"Register"),l.qZA()()()()}if(2&n){const t=l.oxw();l.xp6(6),l.Q6J("ngModel",t.fullName),l.xp6(1),l.Q6J("ngIf",t.fullNameError.length>0),l.xp6(5),l.Q6J("ngModel",t.email),l.xp6(1),l.Q6J("ngIf",t.registerEmailError.length>0),l.xp6(5),l.Q6J("ngModel",t.phone),l.xp6(1),l.Q6J("ngIf",t.phoneError.length>0),l.xp6(5),l.Q6J("ngModel",t.password),l.xp6(1),l.Q6J("ngIf",t.passwordError.length>0),l.xp6(5),l.Q6J("ngModel",t.confirmPassword),l.xp6(1),l.Q6J("ngIf",t.confirmPasswordError.length>0)}}function t2(n,e){if(1&n&&(l.TgZ(0,"div",25),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij(" ",t.overallErr," ")}}function n2(n,e){if(1&n&&(l.TgZ(0,"div",26),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij(" ",t.overallStatus," ")}}function r2(n,e){1&n&&(l.TgZ(0,"div",27),l._UZ(1,"app-spinner"),l.qZA())}const TP=function(n){return{active:n}};let i2=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.activeTab="login",this.fullName="",this.email="",this.phone="",this.password="",this.confirmPassword="",this.fullNameError="",this.registerEmailError="",this.phoneError="",this.loginEmailError="",this.passwordError="",this.confirmPasswordError="",this.emailPattern=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,this.phonePattern=/^[0-9]{10}$/,this.isLoading=!1,this.overallErr="",this.overallStatus=""}ngOnInit(){this.emailRegex=new RegExp(this.emailPattern),this.phoneRegex=new RegExp(this.phonePattern)}setActiveTab(t){this.activeTab=t,this.overallErr="",this.overallStatus=""}goToHome(){this.router.navigate(["home"])}login(){this.fullNameError="",this.loginEmailError="",this.passwordError="",this.overallErr="",this.overallStatus="",0===this.email.trim().length?this.loginEmailError="Email is required":this.emailRegex.test(this.email)?0===this.password.trim().length?this.passwordError="Password is required":(this.isLoading=!0,this.auth.signIn(this.email,this.password).then(t=>{this.auth.getAuthState().subscribe(r=>{this.email="",this.password="",this.isLoading=!1,this.overallStatus="Login successful",r&&this.auth.getUser(r.uid).then(o=>{let c=o.data();localStorage.setItem("email",c.email),localStorage.setItem("phone",c.phone),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("uid",r.uid),this.router.navigate(["home"])})})}).catch(t=>{this.overallErr="Please check your email and password",this.isLoading=!1})):this.loginEmailError="Email should be valid"}register(){this.fullNameError="",this.registerEmailError="",this.phoneError="",this.passwordError="",this.confirmPasswordError="",this.overallErr="",0===this.fullName.trim().length?this.fullNameError="Full name is required":0===this.email.trim().length?this.registerEmailError="Email is required":this.emailRegex.test(this.email)?0===this.phone.trim().length?this.phoneError="Phone number is required":this.phoneRegex.test(this.phone)?0===this.password.trim().length?this.passwordError="Password is required":this.password.trim().length<6?this.passwordError="Password should be atleast 6 characters in length":0===this.confirmPassword.trim().length?this.confirmPasswordError="Confirm password is required":this.password!==this.confirmPassword?this.confirmPasswordError="Password and confirm password does not match":(this.isLoading=!0,this.auth.signUp(this.email,this.password).then(t=>{this.auth.setUserData(t.user,this.fullName,this.phone).then(r=>{this.fullName="",this.email="",this.phone="",this.password="",this.confirmPassword="",this.isLoading=!1,this.overallStatus="Account created successfully"},r=>{this.isLoading=!1,this.overallErr="Sorry, some problem occured."})}).catch(t=>{this.isLoading=!1,this.overallErr="auth/email-already-in-use"===t.code?"Email already in use":"Sorry, some problem occured."})):this.phoneError="Phone number should be valid":this.registerEmailError="Email should be valid"}forgotPassword(){this.loginEmailError="",this.overallErr="",this.overallStatus="",0===this.email.trim().length?this.loginEmailError="Email is required":this.emailRegex.test(this.email)?(this.isLoading=!0,this.auth.forgotPassword(this.email).then(()=>{this.isLoading=!1,window.alert("Password reset email sent, check your inbox. Please check your spam folder also.")}).catch(t=>{this.isLoading=!1,this.overallErr="auth/user-not-found"===t.code?"User not yet registered":"Sorry, some problem occured"})):this.loginEmailError="Email should be valid"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($n),l.Y36(y1))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:16,vars:11,consts:[[1,"login-container"],[1,"left"],[1,"logo",3,"click"],["src","assets/bg-images/bg2.jpg","alt","",1,"bg-pic"],[1,"right"],[1,"nav-tab"],[1,"nav-item","br",3,"ngClass","click"],[1,"nav-item","bl",3,"ngClass","click"],["class","form-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","success-container",4,"ngIf"],["class","spinner-container",4,"ngIf"],[1,"form-container"],[1,"form-group"],[1,"label"],[1,"form-control"],["type","email","name","email","maxlength","50",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],["type","password","name","password","maxlength","50",3,"ngModel","ngModelChange"],[1,"loginBtn",3,"click"],[1,"link",3,"click"],[1,"error"],["type","text","name","fullName","maxlength","25",3,"ngModel","ngModelChange"],["type","tel","name","phone","maxlength","10",3,"ngModel","ngModelChange"],["type","password","name","confirmPassword","maxlength","50",3,"ngModel","ngModelChange"],[1,"error-container"],[1,"success-container"],[1,"spinner-container"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l.NdJ("click",function(){return r.goToHome()}),l._uU(3,"stillred"),l.qZA(),l._UZ(4,"img",3),l.qZA(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6),l.NdJ("click",function(){return r.setActiveTab("login")}),l._uU(8," Login "),l.qZA(),l.TgZ(9,"div",7),l.NdJ("click",function(){return r.setActiveTab("register")}),l._uU(10," Register "),l.qZA()(),l.YNc(11,WF,19,4,"div",8),l.YNc(12,e2,35,10,"div",8),l.YNc(13,t2,2,1,"div",9),l.YNc(14,n2,2,1,"div",10),l.YNc(15,r2,2,0,"div",11),l.qZA()()),2&t&&(l.xp6(7),l.Q6J("ngClass",l.VKq(7,TP,"login"===r.activeTab)),l.xp6(2),l.Q6J("ngClass",l.VKq(9,TP,"register"===r.activeTab)),l.xp6(2),l.Q6J("ngIf","login"===r.activeTab),l.xp6(1),l.Q6J("ngIf","register"===r.activeTab),l.xp6(1),l.Q6J("ngIf",r.overallErr.length>0),l.xp6(1),l.Q6J("ngIf",r.overallStatus.length>0),l.xp6(1),l.Q6J("ngIf",r.isLoading))},directives:[Yr,Dn,nx,$A,hw,aw,CE,HA,vE,fw],styles:[".login-container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;display:flex}.login-container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:70vw}.login-container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .bg-pic[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.login-container[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:500;cursor:pointer;position:absolute;top:22px;left:100px}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:30vw}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .nav-tab[_ngcontent-%COMP%]{display:flex;align-items:center;height:70px;margin-top:150px;font-size:18px}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .nav-tab[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{width:50%;text-align:center;cursor:pointer}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .nav-tab[_ngcontent-%COMP%]   .nav-item.bl[_ngcontent-%COMP%]{border-left:1px solid black}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .nav-tab[_ngcontent-%COMP%]   .nav-item.br[_ngcontent-%COMP%]{border-right:1px solid black}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .nav-tab[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{font-weight:700;cursor:default}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:50px;margin-top:50px}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{font-size:16px;font-weight:400;line-height:24px;margin-bottom:20px;width:100%}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:5px}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;height:40px}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid rgba(0,0,0,.15);color:#495057;outline:none;padding:8px 12px;border-radius:4px;font-size:18px}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:3px}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .loginBtn[_ngcontent-%COMP%]{width:100%;height:40px;padding:8px 12px;border-radius:4px;font-size:18px;margin-top:20px;border:0px;background-color:#2699fb;color:#fff;cursor:pointer}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-top:25px;font-size:16px;color:#2699fb;text-align:center;cursor:pointer}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{color:red;font-size:14px;width:100%;text-align:center}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .success-container[_ngcontent-%COMP%]{color:green;font-size:14px;width:100%;text-align:center}.login-container[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .spinner-container[_ngcontent-%COMP%]{width:100%;text-align:center}"]}),n})(),s2=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}goToHome(){this.router.navigate(["home"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($n))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-not-found"]],decls:6,vars:0,consts:[[1,"not-found"],[1,"title"],[1,"link",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div")(2,"div",1),l._uU(3,"404 | Page Not Found"),l.qZA(),l.TgZ(4,"div",2),l.NdJ("click",function(){return r.goToHome()}),l._uU(5,"HOME"),l.qZA()()())},styles:[".not-found[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;font-family:Aboreto,cursive;font-weight:700}.not-found[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:60px;width:100%}.not-found[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:28px;color:#00f;width:100%;text-align:center;margin-top:20px;cursor:pointer}"]}),n})(),o2=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}addItem(){this.router.navigate(["add-item"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($n))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-sell"]],decls:45,vars:1,consts:[[1,"sell-container"],[1,"overlay"],[1,"overlay-white"],["src","assets/bg-images/bg1.jpg","alt","",1,"bg-pic"],[3,"isWhite"],[1,"title-container"],[1,"main-title"],[1,"sub-title"],[1,"content-container"],[1,"content-wrapper"],[1,"content"],[1,"step-container"],[1,"step-row"],[1,"title"],[1,"step-col","left"],[1,"number-circle"],[1,"step-title"],[1,"step-desc"],[1,"step-col","center"],[1,"step-col","right"],[1,"step-row","t-center","d-block"],[1,"start-btn",3,"click"],[1,"price"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"div",1)(2,"div",2)(3,"img",3)(4,"app-header",4),l.TgZ(5,"div",5)(6,"div",6)(7,"h1"),l._uU(8,"Sell your dress"),l.qZA()(),l.TgZ(9,"div",7),l._uU(10," No wonder we're the best place to sell your dress "),l.qZA()(),l.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"h2",13),l._uU(17,"Selling in 3 steps"),l.qZA()(),l.TgZ(18,"div",12)(19,"div",14)(20,"div",15),l._uU(21,"1"),l.qZA(),l.TgZ(22,"h4",16),l._uU(23,"List your dress"),l.qZA(),l.TgZ(24,"div",17),l._uU(25," With photos and a selling price you choose. All for a small one-off fee! "),l.qZA()(),l.TgZ(26,"div",18)(27,"div",15),l._uU(28,"2"),l.qZA(),l.TgZ(29,"h4",16),l._uU(30,"Chat privately"),l.qZA(),l.TgZ(31,"div",17),l._uU(32," Receive messages from buyers & keep your contact details private. "),l.qZA()(),l.TgZ(33,"div",19)(34,"div",15),l._uU(35,"3"),l.qZA(),l.TgZ(36,"h4",16),l._uU(37,"Get paid"),l.qZA(),l.TgZ(38,"div",17),l._uU(39," Accept secure payment online & send the dress on its way. "),l.qZA()()(),l.TgZ(40,"div",20)(41,"button",21),l.NdJ("click",function(){return r.addItem()}),l._uU(42,"Start Selling"),l.qZA(),l.TgZ(43,"div",22),l._uU(44,"AUD 4.95 per item"),l.qZA()()()()()()()),2&t&&(l.xp6(4),l.Q6J("isWhite",!1))},directives:[n_],styles:[".sell-container[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow:hidden;position:relative}.sell-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0px;left:0px;background:linear-gradient(to right,rgba(1,138,251,.6) 0%,rgba(216,118,255,.6) 100%);width:100vw;height:100vh;overflow:hidden}.sell-container[_ngcontent-%COMP%]   .overlay-white[_ngcontent-%COMP%]{position:absolute;bottom:0px;left:0px;background:#fff;width:100vw;height:35vh;overflow:hidden}.sell-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{position:absolute;top:280px;left:0px;width:100vw;height:130px}.sell-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-size:26px;line-height:30px;margin-bottom:40px;font-weight:700;font-family:Poppins,sans-serif;text-align:center;color:#fff}.sell-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]   .sub-title[_ngcontent-%COMP%]{font-size:22px;line-height:30px;margin-bottom:48px;font-family:Poppins,sans-serif;text-align:center;color:#fff}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{position:absolute;bottom:100px;left:0px;background:transparent;width:100vw;height:450px;border-radius:4px}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{width:1000px;height:500px;box-shadow:0 0 #8898aa1a,0 15px 35px 2px #31315d1a,0 5px 15px 2px #00000014;padding:40px 80px;margin:0 auto;position:relative;background:white;border-radius:4px}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;z-index:999;width:840px}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]{width:100%;color:#484848}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]{margin-bottom:50px;width:100%;display:flex;justify-content:space-between}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row.t-center[_ngcontent-%COMP%]{text-align:center}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row.d-block[_ngcontent-%COMP%]{display:block}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:36px;font-weight:700;text-align:center;width:100%;font-family:Roboto,sans-serif}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .step-col[_ngcontent-%COMP%]{max-width:33.333333%}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .step-col.left[_ngcontent-%COMP%]{text-align:left}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .step-col.center[_ngcontent-%COMP%]{text-align:center}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .step-col.right[_ngcontent-%COMP%]{text-align:right}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .step-col[_ngcontent-%COMP%]   .number-circle[_ngcontent-%COMP%]{display:inline-block;text-align:center;background-color:#868e96;color:#fff;border-radius:100%;width:40px;height:40px;line-height:40px;font-size:16px;font-weight:700}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .step-col[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:31px;margin:16px 0}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .step-col[_ngcontent-%COMP%]   .step-desc[_ngcontent-%COMP%]{width:250px;margin:0;padding:0}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:20px;width:200px;background-color:#2699fb;border:0px;color:#fff;border-radius:4px;padding:8px 16px;cursor:pointer;margin-bottom:15px}.sell-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .step-container[_ngcontent-%COMP%]   .step-row[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:16px}.sell-container[_ngcontent-%COMP%]   .bg-pic[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}"]}),n})(),AP=(()=>{class n{constructor(t){this.router=t}canActivate(t,r){let o=!1;return o="true"===localStorage.getItem("isLoggedIn"),o||this.router.navigate(["/login"]),o}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($n))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const a2=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:yF},{path:"login",component:i2},{path:"sell",component:o2},{path:"add-item",component:sF,canActivate:[AP]},{path:"dashboard",component:_F,canActivate:[AP]},{path:"list/:type",component:GF},{path:"item/:id",component:RF},{path:"**",component:s2}];let c2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Dw.forRoot(a2,{initialNavigation:"enabledBlocking"})],Dw]}),n})(),l2=(()=>{class n{constructor(){this.title="still-red"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[bu],styles:[""]}),n})();const xP_firebase={apiKey:"AIzaSyCdHBrUlCGmM1iKfGa91ibiyaAAbgZP0Zs",authDomain:"still-red.firebaseapp.com",projectId:"still-red",storageBucket:"still-red.appspot.com",messagingSenderId:"869361364799",appId:"1:869361364799:web:65dcdd729b02a1546eed8a"},cx=new l.OlP("@sweetalert2/ngx-sweetalert2#swalProvider"),SP=new l.OlP("@sweetalert2/ngx-sweetalert2#fireOnInit"),MP=new l.OlP("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let PP=(()=>{class n{constructor(t){this.swalProvider=t}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const t=function r(c){return"function"==typeof c&&void 0===c.version}(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=t.then(c=>function o(c){return"function"==typeof c}(c)?c:c.default)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function u2(){return Promise.resolve().then(F.t.bind(F,5226,19))}let d2=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[PP,{provide:cx,useValue:t.provideSwal||u2},{provide:SP,useValue:t.fireOnInit||!1},{provide:MP,useValue:t.dismissOnDestroy||!0}]}}static forChild(t={}){return{ngModule:n,providers:[...t.provideSwal?[PP,{provide:cx,useValue:t.provideSwal}]:[],...void 0!==t.fireOnInit?[{provide:SP,useValue:t.fireOnInit}]:[],...void 0!==t.dismissOnDestroy?[{provide:MP,useValue:t.dismissOnDestroy}]:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ba]]}),n})(),h2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[l2]}),n.\u0275inj=l.cJS({providers:[],imports:[[Qo.withServerTransition({appId:"serverApp"}),BN,cs.hO.initializeApp(xP_firebase),PR,c2,d2.forRoot()]]}),n})();function OP(){Yo().bootstrapModule(h2).catch(n=>console.error(n))}(0,l.G48)(),"complete"===document.readyState?OP():document.addEventListener("DOMContentLoaded",OP)},5867:(rt,oe,F)=>{"use strict";F.d(oe,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=F(9681);(0,l.registerVersion)("firebase","9.9.3","app")},127:(rt,oe,F)=>{"use strict";F.d(oe,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.9.3","app-compat")},1451:(rt,oe,F)=>{"use strict";F.r(oe);var l=F(5861),L=F(3942),V=F(2090),pe=F(9681),ce=F(655),ye=F(1877),le=F(4859);const Le=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new ye.Yd("@firebase/auth");function Je(_,...f){Ne.logLevel<=ye.in.ERROR&&Ne.error(`Auth (${pe.SDK_VERSION}): ${_}`,...f)}function Me(_,...f){throw qe(_,...f)}function be(_,...f){return qe(_,...f)}function Ae(_,f,p){const w=Object.assign(Object.assign({},Ve()),{[f]:p});return new V.LL("auth","Firebase",w).create(f,{appName:_.name})}function Ze(_,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Me(_,"argument-error"),Ae(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(_,...f){if("string"!=typeof _){const p=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(p,...w)}return me.create(_,...f)}function q(_,f,...p){if(!_)throw qe(f,...p)}function Ce(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Je(f),new Error(f)}function ee(_,f){_||Ce(f)}const ae=new Map;function ne(_){ee(_ instanceof Function,"Expected a class definition");let f=ae.get(_);return f?(ee(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ae.set(_,f),f)}function Ue(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ht(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Qt{constructor(f,p){this.shortDelay=f,this.longDelay=p,ee(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Ht(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ht()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xn(_,f){ee(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class Jt{static initialize(f,p,w){this.fetchImpl=f,p&&(this.headersImpl=p),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Cn=new Qt(3e4,6e4);function Xt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Tt(_,f,p,w){return pi.apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(_,f,p,w,x={}){return Ur(_,x,(0,l.Z)(function*(){let N={},J={};w&&("GET"===f?J=w:N={body:JSON.stringify(w)});const ge=(0,V.xO)(Object.assign({key:_.config.apiKey},J)).slice(1),He=yield _._getAdditionalHeaders();return He["Content-Type"]="application/json",_.languageCode&&(He["X-Firebase-Locale"]=_.languageCode),Jt.fetch()(gr(_,_.config.apiHost,p,ge),Object.assign({method:f,headers:He,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Ur(_,f,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(_,f,p){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},Lt),f);try{const x=new Ln(_),N=yield Promise.race([p(),x.promise]);x.clearNetworkTimeout();const J=yield N.json();if("needConfirmation"in J)throw hn(_,"account-exists-with-different-credential",J);if(N.ok&&!("errorMessage"in J))return J;{const ge=N.ok?J.errorMessage:J.error.message,[He,st]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw hn(_,"credential-already-in-use",J);if("EMAIL_EXISTS"===He)throw hn(_,"email-already-in-use",J);if("USER_DISABLED"===He)throw hn(_,"user-disabled",J);const vt=w[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Ae(_,vt,st);Me(_,vt)}}catch(x){if(x instanceof V.ZR)throw x;Me(_,"network-request-failed")}})).apply(this,arguments)}function Pt(_,f,p,w){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(_,f,p,w,x={}){const N=yield Tt(_,f,p,w,x);return"mfaPendingCredential"in N&&Me(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function gr(_,f,p,w){const x=`${f}${p}?${w}`;return _.config.emulator?xn(_.config,x):`${_.config.apiScheme}://${x}`}class Ln{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,w)=>{this.timer=setTimeout(()=>w(be(this.auth,"network-request-failed")),Cn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hn(_,f,p){const w={appName:_.name};p.email&&(w.email=p.email),p.phoneNumber&&(w.phoneNumber=p.phoneNumber);const x=be(_,f,w);return x.customData._tokenResponse=p,x}function Tr(){return(Tr=(0,l.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function yn(_,f){return en.apply(this,arguments)}function en(){return(en=(0,l.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Fi(_,f){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function En(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function co(){return(co=(0,l.Z)(function*(_,f=!1){const p=(0,V.m9)(_),w=yield p.getIdToken(f),x=ut(w);q(x&&x.exp&&x.auth_time&&x.iat,p.auth,"internal-error");const N="object"==typeof x.firebase?x.firebase:void 0,J=null==N?void 0:N.sign_in_provider;return{claims:x,token:w,authTime:En(nt(x.auth_time)),issuedAtTime:En(nt(x.iat)),expirationTime:En(nt(x.exp)),signInProvider:J||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function nt(_){return 1e3*Number(_)}function ut(_){var f;const[p,w,x]=_.split(".");if(void 0===p||void 0===w||void 0===x)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,V.tV)(w);return N?JSON.parse(N):(Je("Failed to decode base64 JWT payload"),null)}catch(N){return Je("Caught error parsing JWT payload as JSON",null===(f=N)||void 0===f?void 0:f.toString()),null}}function ir(_,f){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,l.Z)(function*(_,f,p=!1){if(p)return f;try{return yield f}catch(w){throw w instanceof V.ZR&&Gt(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function Gt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Ar{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,l.Z)(function*(){yield p.iteration()}),w)}iteration(){var f=this;return(0,l.Z)(function*(){var p;try{yield f.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(p=w)||void 0===p?void 0:p.code)&&f.schedule(!0))}f.schedule()})()}}class mr{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xr(_){return mt.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(_){var f;const p=_.auth,w=yield _.getIdToken(),x=yield ir(_,Fi(p,{idToken:w}));q(null==x?void 0:x.users.length,p,"internal-error");const N=x.users[0];_._notifyReloadListener(N);const J=(null===(f=N.providerUserInfo)||void 0===f?void 0:f.length)?H(N.providerUserInfo):[],ge=Q(_.providerData,J),vt=!!_.isAnonymous&&!(_.email&&N.passwordHash||(null==ge?void 0:ge.length)),yt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ge,metadata:new mr(N.createdAt,N.lastLoginAt),isAnonymous:vt};Object.assign(_,yt)})).apply(this,arguments)}function G(){return(G=(0,l.Z)(function*(_){const f=(0,V.m9)(_);yield xr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Q(_,f){return[..._.filter(w=>!f.some(x=>x.providerId===w.providerId)),...f]}function H(_){return _.map(f=>{var{providerId:p}=f,w=(0,ce._T)(f,["providerId"]);return{providerId:p,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function z(){return(z=(0,l.Z)(function*(_,f){const p=yield Ur(_,{},(0,l.Z)(function*(){const w=(0,V.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:x,apiKey:N}=_.config,J=gr(_,x,"/v1/token",`key=${N}`),ge=yield _._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",Jt.fetch()(J,{method:"POST",headers:ge,body:w})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Oe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){q(f.idToken,"internal-error"),q(void 0!==f.idToken,"internal-error"),q(void 0!==f.refreshToken,"internal-error");const p="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function At(_){const f=ut(_);return q(f,"internal-error"),q(void 0!==f.exp,"internal-error"),q(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var w=this;return(0,l.Z)(function*(){return q(!w.accessToken||w.refreshToken,f,"user-token-expired"),p||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var w=this;return(0,l.Z)(function*(){const{accessToken:x,refreshToken:N,expiresIn:J}=yield function W(_,f){return z.apply(this,arguments)}(f,p);w.updateTokensAndExpiration(x,N,Number(J))})()}updateTokensAndExpiration(f,p,w){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,p){const{refreshToken:w,accessToken:x,expirationTime:N}=p,J=new Oe;return w&&(q("string"==typeof w,"internal-error",{appName:f}),J.refreshToken=w),x&&(q("string"==typeof x,"internal-error",{appName:f}),J.accessToken=x),N&&(q("number"==typeof N,"internal-error",{appName:f}),J.expirationTime=N),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Oe,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function Ge(_,f){q("string"==typeof _||void 0===_,"internal-error",{appName:f})}class gt{constructor(f){var{uid:p,auth:w,stsTokenManager:x}=f,N=(0,ce._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new mr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,l.Z)(function*(){const w=yield ir(p,p.stsTokenManager.getToken(p.auth,f));return q(w,p.auth,"internal-error"),p.accessToken!==w&&(p.accessToken=w,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),w})()}getIdTokenResult(f){return function gi(_){return co.apply(this,arguments)}(this,f)}reload(){return function hs(_){return G.apply(this,arguments)}(this)}_assign(f){this!==f&&(q(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new gt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var w=this;return(0,l.Z)(function*(){let x=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),x=!0),p&&(yield xr(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,l.Z)(function*(){const p=yield f.getIdToken();return yield ir(f,function it(_,f){return Tr.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var w,x,N,J,ge,He,st,vt;const yt=null!==(w=p.displayName)&&void 0!==w?w:void 0,Hn=null!==(x=p.email)&&void 0!==x?x:void 0,Zi=null!==(N=p.phoneNumber)&&void 0!==N?N:void 0,xl=null!==(J=p.photoURL)&&void 0!==J?J:void 0,hf=null!==(ge=p.tenantId)&&void 0!==ge?ge:void 0,hg=null!==(He=p._redirectEventId)&&void 0!==He?He:void 0,Mc=null!==(st=p.createdAt)&&void 0!==st?st:void 0,xu=null!==(vt=p.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Kd,emailVerified:fg,isAnonymous:$n,providerData:ff,stsTokenManager:pf}=p;q(Kd&&pf,f,"internal-error");const gf=Oe.fromJSON(this.name,pf);q("string"==typeof Kd,f,"internal-error"),Ge(yt,f.name),Ge(Hn,f.name),q("boolean"==typeof fg,f,"internal-error"),q("boolean"==typeof $n,f,"internal-error"),Ge(Zi,f.name),Ge(xl,f.name),Ge(hf,f.name),Ge(hg,f.name),Ge(Mc,f.name),Ge(xu,f.name);const Su=new gt({uid:Kd,auth:f,email:Hn,emailVerified:fg,displayName:yt,isAnonymous:$n,photoURL:xl,phoneNumber:Zi,tenantId:hf,stsTokenManager:gf,createdAt:Mc,lastLoginAt:xu});return ff&&Array.isArray(ff)&&(Su.providerData=ff.map(Sl=>Object.assign({},Sl))),hg&&(Su._redirectEventId=hg),Su}static _fromIdTokenResponse(f,p,w=!1){return(0,l.Z)(function*(){const x=new Oe;x.updateFromServerResponse(p);const N=new gt({uid:p.localId,auth:f,stsTokenManager:x,isAnonymous:w});return yield xr(N),N})()}}const Wt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(p,w){var x=this;return(0,l.Z)(function*(){x.storage[p]=w})()}_get(p){var w=this;return(0,l.Z)(function*(){const x=w.storage[p];return void 0===x?null:x})()}_remove(p){var w=this;return(0,l.Z)(function*(){delete w.storage[p]})()}_addListener(p,w){}_removeListener(p,w){}}return _.type="NONE",_})();function Zn(_,f,p){return`firebase:${_}:${f}:${p}`}class Bt{constructor(f,p,w){this.persistence=f,this.auth=p,this.userKey=w;const{config:x,name:N}=this.auth;this.fullUserKey=Zn(this.userKey,x.apiKey,N),this.fullPersistenceKey=Zn("persistence",x.apiKey,N),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?gt._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,l.Z)(function*(){if(p.persistence===f)return;const w=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,w?p.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,w="authUser"){return(0,l.Z)(function*(){if(!p.length)return new Bt(ne(Wt),f,w);const x=(yield Promise.all(p.map(function(){var st=(0,l.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return st.apply(this,arguments)}}()))).filter(st=>st);let N=x[0]||ne(Wt);const J=Zn(w,f.config.apiKey,f.name);let ge=null;for(const st of p)try{const vt=yield st._get(J);if(vt){const yt=gt._fromJSON(f,vt);st!==N&&(ge=yt),N=st;break}}catch(vt){}const He=x.filter(st=>st._shouldAllowMigration);return N._shouldAllowMigration&&He.length?(N=He[0],ge&&(yield N._set(J,ge.toJSON())),yield Promise.all(p.map(function(){var st=(0,l.Z)(function*(vt){if(vt!==N)try{yield vt._remove(J)}catch(yt){}});return function(vt){return st.apply(this,arguments)}}())),new Bt(N,f,w)):new Bt(N,f,w)})()}}function Kr(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Vn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Vi(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Qi(f))return"Blackberry";if(Un(f))return"Webos";if(lo(f))return"Safari";if((f.includes("chrome/")||Fo(f))&&!f.includes("edge/"))return"Chrome";if(Sr(f))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Vi(_=(0,V.z$)()){return/firefox\//i.test(_)}function lo(_=(0,V.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Fo(_=(0,V.z$)()){return/crios\//i.test(_)}function Vn(_=(0,V.z$)()){return/iemobile/i.test(_)}function Sr(_=(0,V.z$)()){return/android/i.test(_)}function Qi(_=(0,V.z$)()){return/blackberry/i.test(_)}function Un(_=(0,V.z$)()){return/webos/i.test(_)}function Br(_=(0,V.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function _i(_=(0,V.z$)()){return Br(_)||Sr(_)||Un(_)||Qi(_)||/windows phone/i.test(_)||Vn(_)}function ho(_,f=[]){let p;switch(_){case"Browser":p=Kr((0,V.z$)());break;case"Worker":p=`${Kr((0,V.z$)())}-${_}`;break;default:p=_}const w=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${pe.SDK_VERSION}/${w}`}class jr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,p){const w=N=>new Promise((J,ge)=>{try{J(f(N))}catch(He){ge(He)}});w.onAbort=p,this.queue.push(w);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(f){var p=this;return(0,l.Z)(function*(){var w;if(p.auth.currentUser===f)return;const x=[];try{for(const N of p.queue)yield N(f),N.onAbort&&x.push(N.onAbort)}catch(N){x.reverse();for(const J of x)try{J()}catch(ge){}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=N)||void 0===w?void 0:w.message})}})()}}class Xe{constructor(f,p,w){this.app=f,this.heartbeatServiceProvider=p,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new un(this),this.idTokenSubscription=new un(this),this.beforeStateQueue=new jr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,p){var w=this;return p&&(this._popupRedirectResolver=ne(p)),this._initializationPromise=this.queue((0,l.Z)(function*(){var x,N;if(!w._deleted&&(w.persistenceManager=yield Bt.create(w,f),!w._deleted)){if(null===(x=w._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(J){}yield w.initializeCurrentUser(p),w.lastNotifiedUid=(null===(N=w.currentUser)||void 0===N?void 0:N.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p,!0)}})()}initializeCurrentUser(f){var p=this;return(0,l.Z)(function*(){var w;const x=yield p.assertedPersistence.getCurrentUser();let N=x,J=!1;if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ge=null===(w=p.redirectUser)||void 0===w?void 0:w._redirectEventId,He=null==N?void 0:N._redirectEventId,st=yield p.tryRedirectSignIn(f);(!ge||ge===He)&&(null==st?void 0:st.user)&&(N=st.user,J=!0)}if(!N)return p.directlySetCurrentUser(null);if(!N._redirectEventId){if(J)try{yield p.beforeStateQueue.runMiddleware(N)}catch(ge){N=x,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ge))}return N?p.reloadAndSetCurrentUserOrClear(N):p.directlySetCurrentUser(null)}return q(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===N._redirectEventId?p.directlySetCurrentUser(N):p.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var p=this;return(0,l.Z)(function*(){let w=null;try{w=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch(x){yield p._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,l.Z)(function*(){var w;try{yield xr(f)}catch(x){if("auth/network-request-failed"!==(null===(w=x)||void 0===w?void 0:w.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Qe(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,l.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,l.Z)(function*(){const w=f?(0,V.m9)(f):null;return w&&q(w.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(w&&w._clone(p))})()}_updateCurrentUser(f,p=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return f&&q(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),p||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var p=this;return this.queue((0,l.Z)(function*(){yield p.assertedPersistence.setPersistence(ne(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new V.LL("auth","Firebase",f())}onAuthStateChanged(f,p,w){return this.registerStateListener(this.authStateSubscription,f,p,w)}beforeAuthStateChanged(f,p){return this.beforeStateQueue.pushCallback(f,p)}onIdTokenChanged(f,p,w){return this.registerStateListener(this.idTokenSubscription,f,p,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var w=this;return(0,l.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(p);return null===f?x.removeCurrentUser():x.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,l.Z)(function*(){if(!p.redirectPersistenceManager){const w=f&&ne(f)||p._popupRedirectResolver;q(w,p,"argument-error"),p.redirectPersistenceManager=yield Bt.create(p,[ne(w._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,l.Z)(function*(){var w,x;return p._isInitialized&&(yield p.queue((0,l.Z)(function*(){}))),(null===(w=p._currentUser)||void 0===w?void 0:w._redirectEventId)===f?p._currentUser:(null===(x=p.redirectUser)||void 0===x?void 0:x._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,l.Z)(function*(){if(f===p.currentUser)return p.queue((0,l.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,w,x){if(this._deleted)return()=>{};const N="function"==typeof p?p:p.next.bind(p),J=this._isInitialized?Promise.resolve():this._initializationPromise;return q(J,this,"internal-error"),J.then(()=>N(this.currentUser)),"function"==typeof p?f.addObserver(p,w,x):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,l.Z)(function*(){p.currentUser&&p.currentUser!==f&&(p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh()),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ho(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.Z)(function*(){var p;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const x=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return x&&(w["X-Firebase-Client"]=x),w})()}}function ft(_){return(0,V.m9)(_)}class un{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,V.ne)(p=>this.observer=p)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ui(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Bi(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class yi{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return Ce("not implemented")}_getIdTokenResponse(f){return Ce("not implemented")}_linkToIdToken(f,p){return Ce("not implemented")}_getReauthenticationResolver(f){return Ce("not implemented")}}function Mn(_,f){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,l.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:resetPassword",Xt(_,f))})).apply(this,arguments)}function Lo(_,f){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function wa(_,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:update",Xt(_,f))})).apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signInWithPassword",Xt(_,f))})).apply(this,arguments)}function gs(_,f){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:sendOobCode",Xt(_,f))})).apply(this,arguments)}function fn(_,f){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,l.Z)(function*(_,f){return gs(_,f)})).apply(this,arguments)}function Uo(_,f){return $r.apply(this,arguments)}function $r(){return($r=(0,l.Z)(function*(_,f){return gs(_,f)})).apply(this,arguments)}function _r(_,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,l.Z)(function*(_,f){return gs(_,f)})).apply(this,arguments)}function zc(_,f){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,l.Z)(function*(_,f){return gs(_,f)})).apply(this,arguments)}function ic(){return(ic=(0,l.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signInWithEmailLink",Xt(_,f))})).apply(this,arguments)}function Wc(){return(Wc=(0,l.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signInWithEmailLink",Xt(_,f))})).apply(this,arguments)}class yr extends yi{constructor(f,p,w,x=null){super("password",w),this._email=f,this._password=p,this._tenantId=x}static _fromEmailAndPassword(f,p){return new yr(f,p,"password")}static _fromEmailAndCode(f,p,w=null){return new yr(f,p,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,l.Z)(function*(){switch(p.signInMethod){case"password":return function Rn(_,f){return ps.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function vi(_,f){return ic.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Me(f,"internal-error")}})()}_linkToIdToken(f,p){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Lo(f,{idToken:p,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function hd(_,f){return Wc.apply(this,arguments)}(f,{idToken:p,email:w._email,oobCode:w._password});default:Me(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function ms(_,f){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,l.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signInWithIdp",Xt(_,f))})).apply(this,arguments)}class Ji extends yi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new Ji(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Me("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:x}=p,N=(0,ce._T)(p,["providerId","signInMethod"]);if(!w||!x)return null;const J=new Ji(w,x);return J.idToken=N.idToken||void 0,J.accessToken=N.accessToken||void 0,J.secret=N.secret,J.nonce=N.nonce,J.pendingToken=N.pendingToken||null,J}_getIdTokenResponse(f){return ms(f,this.buildRequest())}_linkToIdToken(f,p){const w=this.buildRequest();return w.idToken=p,ms(f,w)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,ms(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,V.xO)(p)}return f}}function ou(_,f){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,l.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:sendVerificationCode",Xt(_,f))})).apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signInWithPhoneNumber",Xt(_,f))})).apply(this,arguments)}function Qc(){return(Qc=(0,l.Z)(function*(_,f){const p=yield Pt(_,"POST","/v1/accounts:signInWithPhoneNumber",Xt(_,f));if(p.temporaryProof)throw hn(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const au={USER_NOT_FOUND:"user-not-found"};function Jc(){return(Jc=(0,l.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signInWithPhoneNumber",Xt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),au)})).apply(this,arguments)}class fo extends yi{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new fo({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new fo({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function sc(_,f){return _s.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function fd(_,f){return Qc.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function pd(_,f){return Jc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:w,verificationCode:x}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:w,code:x}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:w,phoneNumber:x,temporaryProof:N}=f;return w||p||x||N?new fo({verificationId:p,verificationCode:w,phoneNumber:x,temporaryProof:N}):null}}class js{constructor(f){var p,w,x,N,J,ge;const He=(0,V.zd)((0,V.pd)(f)),st=null!==(p=He.apiKey)&&void 0!==p?p:null,vt=null!==(w=He.oobCode)&&void 0!==w?w:null,yt=function Xc(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=He.mode)&&void 0!==x?x:null);q(st&&vt&&yt,"argument-error"),this.apiKey=st,this.operation=yt,this.code=vt,this.continueUrl=null!==(N=He.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(J=He.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(ge=He.tenantId)&&void 0!==ge?ge:null}static parseLink(f){const p=function jo(_){const f=(0,V.zd)((0,V.pd)(_)).link,p=f?(0,V.zd)((0,V.pd)(f)).deep_link_id:null,w=(0,V.zd)((0,V.pd)(_)).deep_link_id;return(w?(0,V.zd)((0,V.pd)(w)).link:null)||w||p||f||_}(f);try{return new js(p)}catch(w){return null}}}let tl=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,w){return yr._fromEmailAndPassword(p,w)}static credentialWithLink(p,w){const x=js.parseLink(w);return q(x,"argument-error"),yr._fromEmailAndCode(p,x.code,x.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class vr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class wi extends vr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ji extends wi{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return q("providerId"in p&&"signInMethod"in p,"argument-error"),Ji._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return q(f.idToken||f.accessToken,"argument-error"),Ji._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ji.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ji.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:N,nonce:J,providerId:ge}=f;if(!w&&!x&&!p&&!N||!ge)return null;try{return new ji(ge)._credential({idToken:p,accessToken:w,nonce:J,pendingToken:N})}catch(He){return null}}}let po=(()=>{class _ extends wi{constructor(){super("facebook.com")}static credential(p){return Ji._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(w){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),nl=(()=>{class _ extends wi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,w){return Ji._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:w})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:w,oauthAccessToken:x}=p;if(!w&&!x)return null;try{return _.credential(w,x)}catch(N){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),rl=(()=>{class _ extends wi{constructor(){super("github.com")}static credential(p){return Ji._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(w){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ys extends yi{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return ms(f,this.buildRequest())}_linkToIdToken(f,p){const w=this.buildRequest();return w.idToken=p,ms(f,w)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,ms(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:x,pendingToken:N}=p;return w&&x&&N&&w===x?new ys(w,N):null}static _create(f,p){return new ys(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mr extends vr{constructor(f){q(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Mr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Mr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=ys.fromJSON(f);return q(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:w}=f;if(!p||!w)return null;try{return ys._create(w,p)}catch(x){return null}}}let il=(()=>{class _ extends wi{constructor(){super("twitter.com")}static credential(p,w){return Ji._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:w})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=p;if(!w||!x)return null;try{return _.credential(w,x)}catch(N){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Pr(_,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signUp",Xt(_,f))})).apply(this,arguments)}class Jr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,w,x=!1){return(0,l.Z)(function*(){const N=yield gt._fromIdTokenResponse(f,w,x),J=oc(w);return new Jr({user:N,providerId:J,_tokenResponse:w,operationType:p})})()}static _forOperation(f,p,w){return(0,l.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const x=oc(w);return new Jr({user:f,providerId:x,_tokenResponse:w,operationType:p})})()}}function oc(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ac(){return(ac=(0,l.Z)(function*(_){var f;const p=ft(_);if(yield p._initializationPromise,null===(f=p.currentUser)||void 0===f?void 0:f.isAnonymous)return new Jr({user:p.currentUser,providerId:null,operationType:"signIn"});const w=yield Pr(p,{returnSecureToken:!0}),x=yield Jr._fromIdTokenResponse(p,"signIn",w,!0);return yield p._updateCurrentUser(x.user),x})).apply(this,arguments)}class _o extends V.ZR{constructor(f,p,w,x){var N;super(p.code,p.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,_o.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:p.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,p,w,x){return new _o(f,p,w,x)}}function cc(_,f,p,w){return("reauthenticate"===f?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?_o._fromErrorAndOperation(_,N,f,w):N})}function Ci(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function an(){return(an=(0,l.Z)(function*(_,f){const p=(0,V.m9)(_);yield rn(!0,p,f);const{providerUserInfo:w}=yield yn(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),x=Ci(w||[]);return p.providerData=p.providerData.filter(N=>x.has(N.providerId)),x.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Ho(_,f){return $s.apply(this,arguments)}function $s(){return($s=(0,l.Z)(function*(_,f,p=!1){const w=yield ir(_,f._linkToIdToken(_.auth,yield _.getIdToken()),p);return Jr._forOperation(_,"link",w)})).apply(this,arguments)}function rn(_,f,p){return $o.apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(_,f,p){yield xr(f);const x=!1===_?"provider-already-linked":"no-such-provider";q(Ci(f.providerData).has(p)===_,f.auth,x)})).apply(this,arguments)}function Ea(_,f){return vs.apply(this,arguments)}function vs(){return(vs=(0,l.Z)(function*(_,f,p=!1){var w;const{auth:x}=_,N="reauthenticate";try{const J=yield ir(_,cc(x,N,f,_),p);q(J.idToken,x,"internal-error");const ge=ut(J.idToken);q(ge,x,"internal-error");const{sub:He}=ge;return q(_.uid===He,x,"user-mismatch"),Jr._forOperation(_,N,J)}catch(J){throw"auth/user-not-found"===(null===(w=J)||void 0===w?void 0:w.code)&&Me(x,"user-mismatch"),J}})).apply(this,arguments)}function sr(_,f){return lc.apply(this,arguments)}function lc(){return(lc=(0,l.Z)(function*(_,f,p=!1){const w="signIn",x=yield cc(_,w,f),N=yield Jr._fromIdTokenResponse(_,w,x);return p||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function vn(_,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,l.Z)(function*(_,f){return sr(ft(_),f)})).apply(this,arguments)}function zn(_,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(_,f){const p=(0,V.m9)(_);return yield rn(!1,p,f.providerId),Ho(p,f)})).apply(this,arguments)}function Xi(_,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(_,f){return Ea((0,V.m9)(_),f)})).apply(this,arguments)}function bi(_,f){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,l.Z)(function*(_,f){return Pt(_,"POST","/v1/accounts:signInWithCustomToken",Xt(_,f))})).apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(_,f){const p=ft(_),w=yield bi(p,{token:f,returnSecureToken:!0}),x=yield Jr._fromIdTokenResponse(p,"signIn",w);return yield p._updateCurrentUser(x.user),x})).apply(this,arguments)}class ws{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?uc._fromServerResponse(f,p):Me(f,"internal-error")}}class uc extends ws{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new uc(p)}}function Go(_,f,p){var w;q((null===(w=p.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),q(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(q(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(q(p.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function zo(){return(zo=(0,l.Z)(function*(_,f,p){const w=(0,V.m9)(_),x={requestType:"PASSWORD_RESET",email:f};p&&Go(w,x,p),yield Uo(w,x)})).apply(this,arguments)}function dc(){return(dc=(0,l.Z)(function*(_,f,p){yield Mn((0,V.m9)(_),{oobCode:f,newPassword:p})})).apply(this,arguments)}function Pe(){return(Pe=(0,l.Z)(function*(_,f){yield wa((0,V.m9)(_),{oobCode:f})})).apply(this,arguments)}function qt(_,f){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(_,f){const p=(0,V.m9)(_),w=yield Mn(p,{oobCode:f}),x=w.requestType;switch(q(x,p,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(w.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(w.mfaInfo,p,"internal-error");default:q(w.email,p,"internal-error")}let N=null;return w.mfaInfo&&(N=ws._fromServerResponse(ft(p),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:N},operation:x}})).apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(_,f){const{data:p}=yield qt((0,V.m9)(_),f);return p.email})).apply(this,arguments)}function ti(){return(ti=(0,l.Z)(function*(_,f,p){const w=ft(_),x=yield Pr(w,{returnSecureToken:!0,email:f,password:p}),N=yield Jr._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(N.user),N})).apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(_,f,p){const w=(0,V.m9)(_),x={requestType:"EMAIL_SIGNIN",email:f};q(p.handleCodeInApp,w,"argument-error"),p&&Go(w,x,p),yield _r(w,x)})).apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(_,f,p){const w=(0,V.m9)(_),x=tl.credentialWithLink(f,p||Ue());return q(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),vn(w,x)})).apply(this,arguments)}function wr(_,f){return qr.apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:createAuthUri",Xt(_,f))})).apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(_,f){const w={identifier:f,continueUri:ht()?Ue():"http://localhost"},{signinMethods:x}=yield wr((0,V.m9)(_),w);return x||[]})).apply(this,arguments)}function pc(){return(pc=(0,l.Z)(function*(_,f){const p=(0,V.m9)(_),x={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Go(p.auth,x,f);const{email:N}=yield fn(p.auth,x);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(_,f,p){const w=(0,V.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};p&&Go(w.auth,N,p);const{email:J}=yield zc(w.auth,N);J!==_.email&&(yield _.reload())})).apply(this,arguments)}function gc(_,f){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(_,f){return Tt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Jo(){return(Jo=(0,l.Z)(function*(_,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const w=(0,V.m9)(_),N={idToken:yield w.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},J=yield ir(w,gc(w.auth,N));w.displayName=J.displayName||null,w.photoURL=J.photoUrl||null;const ge=w.providerData.find(({providerId:He})=>"password"===He);ge&&(ge.displayName=w.displayName,ge.photoURL=w.photoURL),yield w._updateTokensIfNecessary(J)})).apply(this,arguments)}function xa(_,f,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,l.Z)(function*(_,f,p){const{auth:w}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),p&&(N.password=p);const J=yield ir(_,Lo(w,N));yield _._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Gs{constructor(f,p,w={}){this.isNewUser=f,this.providerId=p,this.profile=w}}class ll extends Gs{constructor(f,p,w,x){super(f,p,w),this.username=x}}class Sa extends Gs{constructor(f,p){super(f,"facebook.com",p)}}class Gr extends ll{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class cu extends Gs{constructor(f,p){super(f,"google.com",p)}}class mc extends ll{constructor(f,p,w){super(f,"twitter.com",p,w)}}function Wn(_){const{user:f,_tokenResponse:p}=_;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function cl(_){var f,p;if(!_)return null;const{providerId:w}=_,x=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&(null==_?void 0:_.idToken)){const J=null===(p=null===(f=ut(_.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(J)return new Gs(N,"anonymous"!==J&&"custom"!==J?J:null)}if(!w)return null;switch(w){case"facebook.com":return new Sa(N,x);case"github.com":return new Gr(N,x);case"google.com":return new cu(N,x);case"twitter.com":return new mc(N,x,_.screenName||null);case"custom":case"anonymous":return new Gs(N,null);default:return new Gs(N,w,x)}}(p)}class ns{constructor(f,p){this.type=f,this.credential=p}static _fromIdtoken(f){return new ns("enroll",f)}static _fromMfaPendingCredential(f){return new ns("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,w;if(null==f?void 0:f.multiFactorSession){if(null===(p=f.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return ns._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(w=f.multiFactorSession)||void 0===w?void 0:w.idToken)return ns._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Es{constructor(f,p,w){this.session=f,this.hints=p,this.signInResolver=w}static _fromError(f,p){const w=ft(f),x=p.customData._serverResponse,N=(x.mfaInfo||[]).map(ge=>ws._fromServerResponse(w,ge));q(x.mfaPendingCredential,w,"internal-error");const J=ns._fromMfaPendingCredential(x.mfaPendingCredential);return new Es(J,N,function(){var ge=(0,l.Z)(function*(He){const st=yield He._process(w,J);delete x.mfaInfo,delete x.mfaPendingCredential;const vt=Object.assign(Object.assign({},x),{idToken:st.idToken,refreshToken:st.refreshToken});switch(p.operationType){case"signIn":const yt=yield Jr._fromIdTokenResponse(w,p.operationType,vt);return yield w._updateCurrentUser(yt.user),yt;case"reauthenticate":return q(p.user,w,"internal-error"),Jr._forOperation(p.user,p.operationType,vt);default:Me(w,"internal-error")}});return function(He){return ge.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,l.Z)(function*(){return p.signInResolver(f)})()}}function dl(_,f){return Tt(_,"POST","/v2/accounts/mfaEnrollment:start",Xt(_,f))}class Ii{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(w=>ws._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new Ii(f)}getSession(){var f=this;return(0,l.Z)(function*(){return ns._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,p){var w=this;return(0,l.Z)(function*(){const x=f,N=yield w.getSession(),J=yield ir(w.user,x._process(w.user.auth,N,p));return yield w.user._updateTokensIfNecessary(J),w.user.reload()})()}unenroll(f){var p=this;return(0,l.Z)(function*(){var w;const x="string"==typeof f?f:f.uid,N=yield p.user.getIdToken(),J=yield ir(p.user,function or(_,f){return Tt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(_,f))}(p.user.auth,{idToken:N,mfaEnrollmentId:x}));p.enrolledFactors=p.enrolledFactors.filter(({uid:ge})=>ge!==x),yield p.user._updateTokensIfNecessary(J);try{yield p.user.reload()}catch(ge){if("auth/user-token-expired"!==(null===(w=ge)||void 0===w?void 0:w.code))throw ge}})()}}const Pa=new WeakMap,rs="__sak";class Oa{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(rs,"1"),this.storage.removeItem(rs),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const b=(()=>{class _ extends Oa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,w)=>this.onStorageEvent(p,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vd(){const _=(0,V.z$)();return lo(_)||Br(_)}()&&function nn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=_i(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),N=this.localCache[w];x!==N&&p(w,N,x)}}onStorageEvent(p,w=!1){if(!p.key)return void this.forAllChangedKeys((ge,He,st)=>{this.notifyListeners(ge,st)});const x=p.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(x);if(p.newValue!==ge)null!==p.newValue?this.storage.setItem(x,p.newValue):this.storage.removeItem(x);else if(this.localCache[x]===p.newValue&&!w)return}const N=()=>{const ge=this.storage.getItem(x);!w&&this.localCache[x]===ge||this.notifyListeners(x,ge)},J=this.storage.getItem(x);!function uo(){return(0,V.w1)()&&10===document.documentMode}()||J===p.newValue||p.newValue===p.oldValue?N():setTimeout(N,10)}notifyListeners(p,w){this.localCache[p]=w;const x=this.listeners[p];if(x)for(const N of Array.from(x))N(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,w){var x=()=>super._set,N=this;return(0,l.Z)(function*(){yield x().call(N,p,w),N.localCache[p]=JSON.stringify(w)})()}_get(p){var w=()=>super._get,x=this;return(0,l.Z)(function*(){const N=yield w().call(x,p);return x.localCache[p]=JSON.stringify(N),N})()}_remove(p){var w=()=>super._remove,x=this;return(0,l.Z)(function*(){yield w().call(x,p),delete x.localCache[p]})()}}return _.type="LOCAL",_})(),P=(()=>{class _ extends Oa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,w){}_removeListener(p,w){}}return _.type="SESSION",_})();let Ee=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const w=this.receivers.find(N=>N.isListeningto(p));if(w)return w;const x=new _(p);return this.receivers.push(x),x}isListeningto(p){return this.eventTarget===p}handleEvent(p){var w=this;return(0,l.Z)(function*(){const x=p,{eventId:N,eventType:J,data:ge}=x.data,He=w.handlersMap[J];if(!(null==He?void 0:He.size))return;x.ports[0].postMessage({status:"ack",eventId:N,eventType:J});const st=Array.from(He).map(function(){var yt=(0,l.Z)(function*(Hn){return Hn(x.origin,ge)});return function(Hn){return yt.apply(this,arguments)}}()),vt=yield function j(_){return Promise.all(_.map(function(){var f=(0,l.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(w){return{fulfilled:!1,reason:w}}});return function(p){return f.apply(this,arguments)}}()))}(st);x.ports[0].postMessage({status:"done",eventId:N,eventType:J,response:vt})})()}_subscribe(p,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(w)}_unsubscribe(p,w){this.handlersMap[p]&&w&&this.handlersMap[p].delete(w),(!w||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function et(_="",f=10){let p="";for(let w=0;w<f;w++)p+=Math.floor(10*Math.random());return _+p}class cn{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,w=50){var x=this;return(0,l.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let J,ge;return new Promise((He,st)=>{const vt=et("",20);N.port1.start();const yt=setTimeout(()=>{st(new Error("unsupported_event"))},w);ge={messageChannel:N,onMessage(Hn){const Zi=Hn;if(Zi.data.eventId===vt)switch(Zi.data.status){case"ack":clearTimeout(yt),J=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),He(Zi.data.response);break;default:clearTimeout(yt),clearTimeout(J),st(new Error("invalid_response"))}}},x.handlers.add(ge),N.port1.addEventListener("message",ge.onMessage),x.target.postMessage({eventType:f,eventId:vt,data:p},[N.port2])}).finally(()=>{ge&&x.removeMessageHandler(ge)})})()}}function sn(){return window}function Cr(){return void 0!==sn().WorkerGlobalScope&&"function"==typeof sn().importScripts}function wd(){return(wd=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const _c="firebaseLocalStorageDb",Is="firebaseLocalStorage",hl="fbase_key";class zs{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Co(_,f){return _.transaction([Is],f?"readwrite":"readonly").objectStore(Is)}function ka(){const _=indexedDB.open(_c,1);return new Promise((f,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Is,{keyPath:hl})}catch(x){p(x)}}),_.addEventListener("success",(0,l.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Is)?f(w):(w.close(),yield function bo(){const _=indexedDB.deleteDatabase(_c);return new zs(_).toPromise()}(),f(yield ka()))}))})}function yc(_,f,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(_,f,p){const w=Co(_,!0).put({[hl]:f,value:p});return new zs(w).toPromise()})).apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(_,f){const p=Co(_,!1).get(f),w=yield new zs(p).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function vc(_,f){const p=Co(_,!0).delete(f);return new zs(p).toPromise()}const ra=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,l.Z)(function*(){return p.db||(p.db=yield ka()),p.db})()}_withRetries(p){var w=this;return(0,l.Z)(function*(){let x=0;for(;;)try{const N=yield w._openDb();return yield p(N)}catch(N){if(x++>3)throw N;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,l.Z)(function*(){return Cr()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,l.Z)(function*(){p.receiver=Ee._getInstance(function du(){return Cr()?self:null}()),p.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(x,N){return{keyProcessed:(yield p._poll()).includes(N.key)}});return function(x,N){return w.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(x,N){return["keyChanged"]});return function(x,N){return w.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,l.Z)(function*(){var w,x;if(p.activeServiceWorker=yield function Dt(){return wd.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new cn(p.activeServiceWorker);const N=yield p.sender._send("ping",{},800);!N||(null===(w=N[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=N[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Cd(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:p},w.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ka();return yield yc(p,rs,"1"),yield vc(p,rs),!0}catch(p){}return!1})()}_withPendingWrite(p){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield p()}finally{w.pendingWrites--}})()}_set(p,w){var x=this;return(0,l.Z)(function*(){return x._withPendingWrite((0,l.Z)(function*(){return yield x._withRetries(N=>yc(N,p,w)),x.localCache[p]=w,x.notifyServiceWorker(p)}))})()}_get(p){var w=this;return(0,l.Z)(function*(){const x=yield w._withRetries(N=>function na(_,f){return Ra.apply(this,arguments)}(N,p));return w.localCache[p]=x,x})()}_remove(p){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(x=>vc(x,p)),delete w.localCache[p],w.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,l.Z)(function*(){const w=yield p._withRetries(J=>{const ge=Co(J,!1).getAll();return new zs(ge).toPromise()});if(!w)return[];if(0!==p.pendingWrites)return[];const x=[],N=new Set;for(const{fbase_key:J,value:ge}of w)N.add(J),JSON.stringify(p.localCache[J])!==JSON.stringify(ge)&&(p.notifyListeners(J,ge),x.push(J));for(const J of Object.keys(p.localCache))p.localCache[J]&&!N.has(J)&&(p.notifyListeners(J,null),x.push(J));return x})()}notifyListeners(p,w){this.localCache[p]=w;const x=this.listeners[p];if(x)for(const N of Array.from(x))N(w)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function ar(_,f){return Tt(_,"POST","/v2/accounts/mfaSignIn:start",Xt(_,f))}function Fn(){return(Fn=(0,l.Z)(function*(_){return(yield Tt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ds(_){return new Promise((f,p)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=f,w.onerror=x=>{const N=be("internal-error");N.customData=x,p(N)},w.type="text/javascript",w.charset="UTF-8",function Na(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(w)})}function Eo(_){return`__${_}${Math.floor(1e6*Math.random())}`}const ri=1e12;class br{constructor(f){this.auth=f,this.counter=ri,this._widgets=new Map}render(f,p){const w=this.counter;return this._widgets.set(w,new Ts(f,this.auth.name,p||{})),this.counter++,w}reset(f){var p;const w=f||ri;null===(p=this._widgets.get(w))||void 0===p||p.delete(),this._widgets.delete(w)}getResponse(f){var p;return(null===(p=this._widgets.get(f||ri))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,l.Z)(function*(){var w;return null===(w=p._widgets.get(f||ri))||void 0===w||w.execute(),""})()}}class Ts{constructor(f,p,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof f?document.getElementById(f):f;q(x,"argument-error",{appName:p}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bd(_){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fu=Eo("rcb"),On=new Qt(3e4,6e4);class Id{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(f=sn().grecaptcha)||void 0===f?void 0:f.render)}load(f,p=""){return q(function bc(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(sn().grecaptcha):new Promise((w,x)=>{const N=sn().setTimeout(()=>{x(be(f,"network-request-failed"))},On.get());sn()[fu]=()=>{sn().clearTimeout(N),delete sn()[fu];const ge=sn().grecaptcha;if(!ge)return void x(be(f,"internal-error"));const He=ge.render;ge.render=(st,vt)=>{const yt=He(st,vt);return this.counter++,yt},this.hostLanguage=p,w(ge)},Ds(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:fu,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(N),x(be(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var p;return!!(null===(p=sn().grecaptcha)||void 0===p?void 0:p.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ss{load(f){return(0,l.Z)(function*(){return new br(f)})()}clearedOneInstance(){}}const Gh="recaptcha",ia={theme:"light",type:"image"};class Zh{constructor(f,p=Object.assign({},ia),w){this.parameters=p,this.type=Gh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ft(w),this.isInvisible="invisible"===this.parameters.size,q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof f?document.getElementById(f):f;q(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ss:new Id,this.validateStartingState()}verify(){var f=this;return(0,l.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(p)||new Promise(N=>{const J=ge=>{!ge||(f.tokenChangeListeners.delete(J),N(ge))};f.tokenChangeListeners.add(J),f.isInvisible&&w.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(w=>w(p)),"function"==typeof f)f(p);else if("string"==typeof f){const w=sn()[f];"function"==typeof w&&w(p)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const w=document.createElement("div");p.appendChild(w),p=w}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.Z)(function*(){q(ht()&&!Cr(),f.auth,"internal-error"),yield function Ws(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function ni(_){return Fn.apply(this,arguments)}(f.auth);q(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Dd{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=fo._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Fa(){return(Fa=(0,l.Z)(function*(_,f,p){const w=ft(_),x=yield si(w,f,(0,V.m9)(p));return new Dd(x,N=>vn(w,N))})).apply(this,arguments)}function Td(){return(Td=(0,l.Z)(function*(_,f,p){const w=(0,V.m9)(_);yield rn(!1,w,"phone");const x=yield si(w.auth,f,(0,V.m9)(p));return new Dd(x,N=>zn(w,N))})).apply(this,arguments)}function ii(){return(ii=(0,l.Z)(function*(_,f,p){const w=(0,V.m9)(_),x=yield si(w.auth,f,(0,V.m9)(p));return new Dd(x,N=>Xi(w,N))})).apply(this,arguments)}function si(_,f,p){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,l.Z)(function*(_,f,p){var w;const x=yield p.verify();try{let N;if(q("string"==typeof x,_,"argument-error"),q(p.type===Gh,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const J=N.session;if("phoneNumber"in N)return q("enroll"===J.type,_,"internal-error"),(yield dl(_,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{q("signin"===J.type,_,"internal-error");const ge=(null===(w=N.multiFactorHint)||void 0===w?void 0:w.uid)||N.multiFactorUid;return q(ge,_,"missing-multi-factor-info"),(yield ar(_,{mfaPendingCredential:J.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield ou(_,{phoneNumber:N.phoneNumber,recaptchaToken:x});return J}}finally{p._reset()}})).apply(this,arguments)}function sa(){return(sa=(0,l.Z)(function*(_,f){yield Ho((0,V.m9)(_),f)})).apply(this,arguments)}let La=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=ft(p)}verifyPhoneNumber(p,w){return si(this.auth,p,(0,V.m9)(w))}static credential(p,w){return fo._fromVerification(p,w)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:w,temporaryProof:x}=p;return w&&x?fo._fromTokenResponse(w,x):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Io(_,f){return f?ne(f):(q(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class fl extends yi{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return ms(f,this._buildIdpRequest())}_linkToIdToken(f,p){return ms(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return ms(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Zt(_){return sr(_.auth,new fl(_),_.bypassAuthState)}function Ad(_){const{auth:f,user:p}=_;return q(p,f,"internal-error"),Ea(p,new fl(_),_.bypassAuthState)}function Ks(_){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(_){const{auth:f,user:p}=_;return q(p,f,"internal-error"),Ho(p,new fl(_),_.bypassAuthState)})).apply(this,arguments)}class Do{constructor(f,p,w,x,N=!1){this.auth=f,this.resolver=w,this.user=x,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,l.Z)(function*(w,x){f.pendingPromise={resolve:w,reject:x};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(w,x){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:N,tenantId:J,error:ge,type:He}=f;if(ge)return void p.reject(ge);const st={auth:p.auth,requestUri:w,sessionId:x,tenantId:J||void 0,postBody:N||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(He)(st))}catch(vt){p.reject(vt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Zt;case"linkViaPopup":case"linkViaRedirect":return Ks;case"reauthViaPopup":case"reauthViaRedirect":return Ad;default:Me(this.auth,"internal-error")}}resolve(f){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const To=new Qt(2e3,1e4);function Va(){return(Va=(0,l.Z)(function*(_,f,p){const w=ft(_);Ze(_,f,vr);const x=Io(w,p);return new Sd(w,"signInViaPopup",f,x).executeNotNull()})).apply(this,arguments)}function gu(){return(gu=(0,l.Z)(function*(_,f,p){const w=(0,V.m9)(_);Ze(w.auth,f,vr);const x=Io(w.auth,p);return new Sd(w.auth,"reauthViaPopup",f,x,w).executeNotNull()})).apply(this,arguments)}function pl(){return(pl=(0,l.Z)(function*(_,f,p){const w=(0,V.m9)(_);Ze(w.auth,f,vr);const x=Io(w.auth,p);return new Sd(w.auth,"linkViaPopup",f,x,w).executeNotNull()})).apply(this,arguments)}let Sd=(()=>{class _ extends Do{constructor(p,w,x,N,J){super(p,w,N,J),this.provider=x,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,l.Z)(function*(){const w=yield p.execute();return q(w,p.auth,"internal-error"),w})()}onExecution(){var p=this;return(0,l.Z)(function*(){ee(1===p.filter.length,"Popup operations only handle one event");const w=et();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],w),p.authWindow.associatedEvent=w,p.resolver._originValidation(p.auth).catch(x=>{p.reject(x)}),p.resolver._isIframeWebStorageSupported(p.auth,x=>{x||p.reject(be(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var w,x;this.pollId=(null===(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,To.get())};p()}}return _.currentPopupAction=null,_})();const Er=new Map;class gl extends Do{constructor(f,p,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,l.Z)(function*(){let w=Er.get(p.auth._key());if(!w){try{const N=(yield function Zp(_,f){return oi.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;w=()=>Promise.resolve(N)}catch(x){w=()=>Promise.reject(x)}Er.set(p.auth._key(),w)}return p.bypassAuthState||Er.set(p.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(w,f);if("unknown"!==f.type){if(f.eventId){const x=yield w.auth._redirectUserForId(f.eventId);if(x)return w.user=x,p().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function oi(){return(oi=(0,l.Z)(function*(_,f){const p=_l(f),w=ml(_);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(p));return yield w._remove(p),x})).apply(this,arguments)}function Ua(_,f){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(_,f){return ml(_)._set(_l(f),"true")})).apply(this,arguments)}function Pd(_,f){Er.set(_._key(),f)}function ml(_){return ne(_._redirectPersistence)}function _l(_){return Zn("pendingRedirect",_.config.apiKey,_.name)}function I(){return(I=(0,l.Z)(function*(_,f,p){const w=ft(_);Ze(_,f,vr);const x=Io(w,p);return yield Ua(x,w),x._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function B(){return(B=(0,l.Z)(function*(_,f,p){const w=(0,V.m9)(_);Ze(w.auth,f,vr);const x=Io(w.auth,p);yield Ua(x,w.auth);const N=yield dt(w);return x._openRedirect(w.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Se(){return(Se=(0,l.Z)(function*(_,f,p){const w=(0,V.m9)(_);Ze(w.auth,f,vr);const x=Io(w.auth,p);yield rn(!1,w,f.providerId),yield Ua(x,w.auth);const N=yield dt(w);return x._openRedirect(w.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(_,f){return yield ft(_)._initializationPromise,xt(_,f,!1)})).apply(this,arguments)}function xt(_,f){return kt.apply(this,arguments)}function kt(){return(kt=(0,l.Z)(function*(_,f,p=!1){const w=ft(_),x=Io(w,f),J=yield new gl(w,x,p).execute();return J&&!p&&(delete J.user._redirectEventId,yield w._persistUserIfCurrent(J.user),yield w._setRedirectUser(null,f)),J})).apply(this,arguments)}function dt(_){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(_){const f=et(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Ao{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(p=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function vl(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xs(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var w;if(f.error&&!xs(f)){const x=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";p.onError(be(this.auth,x))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const w=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xo(f))}saveEventToCache(f){this.cachedEventUids.add(xo(f)),this.lastProcessedEventTime=Date.now()}}function xo(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function xs({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Dc(_){return oa.apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(_,f={}){return Tt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Ss=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,os=/^https?/;function Kh(){return(Kh=(0,l.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Dc(_);for(const p of f)try{if(pw(p))return}catch(w){}Me(_,"unauthorized-domain")})).apply(this,arguments)}function pw(_){const f=Ue(),{protocol:p,hostname:w}=new URL(f);if(_.startsWith("chrome-extension://")){const J=new URL(_);return""===J.hostname&&""===w?"chrome-extension:"===p&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&J.hostname===w}if(!os.test(p))return!1;if(Ss.test(_))return w===_;const x=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const zp=new Qt(3e4,6e4);function Yh(){const _=sn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let wl=null;function aa(_){return wl=wl||function Wp(_){return new Promise((f,p)=>{var w,x,N;function J(){Yh(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Yh(),p(be(_,"network-request-failed"))},timeout:zp.get()})}if(null===(x=null===(w=sn().gapi)||void 0===w?void 0:w.iframes)||void 0===x?void 0:x.Iframe)f(gapi.iframes.getContext());else{if(!(null===(N=sn().gapi)||void 0===N?void 0:N.load)){const ge=Eo("iframefcb");return sn()[ge]=()=>{gapi.load?J():p(be(_,"network-request-failed"))},Ds(`https://apis.google.com/js/api.js?onload=${ge}`).catch(He=>p(He))}J()}}).catch(f=>{throw wl=null,f})}(_),wl}const Cl=new Qt(5e3,15e3),bl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ja=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kp(_){const f=_.config;q(f.authDomain,_,"auth-domain-config-required");const p=f.emulator?xn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:_.name,v:pe.SDK_VERSION},x=ja.get(_.config.apiHost);x&&(w.eid=x);const N=_._getFrameworks();return N.length&&(w.fw=N.join(",")),`${p}?${(0,V.xO)(w).slice(1)}`}function ca(){return ca=(0,l.Z)(function*(_){const f=yield aa(_),p=sn().gapi;return q(p,_,"internal-error"),f.open({where:document.body,url:Kp(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bl,dontclear:!0},w=>new Promise(function(){var x=(0,l.Z)(function*(N,J){yield w.restyle({setHideOnLeave:!1});const ge=be(_,"network-request-failed"),He=sn().setTimeout(()=>{J(ge)},Cl.get());function st(){sn().clearTimeout(He),N(w)}w.ping(st).then(st,()=>{J(ge)})});return function(N,J){return x.apply(this,arguments)}}()))}),ca.apply(this,arguments)}const kd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yp{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function as(_,f,p,w,x,N){q(_.config.authDomain,_,"auth-domain-config-required"),q(_.config.apiKey,_,"invalid-api-key");const J={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:w,v:pe.SDK_VERSION,eventId:x};if(f instanceof vr){f.setDefaultLanguage(_.languageCode),J.providerId=f.providerId||"",(0,V.xb)(f.getCustomParameters())||(J.customParameters=JSON.stringify(f.getCustomParameters()));for(const[He,st]of Object.entries(N||{}))J[He]=st}if(f instanceof wi){const He=f.getScopes().filter(st=>""!==st);He.length>0&&(J.scopes=He.join(","))}_.tenantId&&(J.tid=_.tenantId);const ge=J;for(const He of Object.keys(ge))void 0===ge[He]&&delete ge[He];return`${function la({config:_}){return _.emulator?xn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,V.xO)(ge).slice(1)}`}const yu="webStorageSupport";class Ld extends class mw{constructor(f){this.factorId=f}_process(f,p,w){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,w);case"signin":return this._finalizeSignIn(f,p.credential);default:return Ce("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ld(f)}_finalizeEnroll(f,p,w){return function _d(_,f){return Tt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(_,f))}(f,{idToken:p,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function hu(_,f){return Tt(_,"POST","/v2/accounts/mfaSignIn:finalize",Xt(_,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _w=(()=>{class _{constructor(){}static assertion(p){return Ld._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var Jh="@firebase/auth";class Xp{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,l.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(w=>{var x;f((null===(x=w)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Tc(){return window}function Ms(){return(Ms=(0,l.Z)(function*(_,f,p){var w;const{BuildInfo:x}=Tc();ee(f.sessionId,"AuthEvent did not contain a session ID");const N=yield yw(f.sessionId),J={};return Br()?J.ibi=x.packageName:Sr()?J.apn=x.packageName:Me(_,"operation-not-supported-in-this-environment"),x.displayName&&(J.appDisplayName=x.displayName),J.sessionId=N,as(_,p,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,J)})).apply(this,arguments)}function Ud(){return(Ud=(0,l.Z)(function*(_){const{BuildInfo:f}=Tc(),p={};Br()?p.iosBundleId=f.packageName:Sr()?p.androidPackageName=f.packageName:Me(_,"operation-not-supported-in-this-environment"),yield Dc(_,p)})).apply(this,arguments)}function eg(){return(eg=(0,l.Z)(function*(_,f,p){const{cordova:w}=Tc();let x=()=>{};try{yield new Promise((N,J)=>{let ge=null;function He(){var yt;N();const Hn=null===(yt=w.plugins.browsertab)||void 0===yt?void 0:yt.close;"function"==typeof Hn&&Hn(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function st(){ge||(ge=window.setTimeout(()=>{J(be(_,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===(null==document?void 0:document.visibilityState)&&st()}f.addPassiveListener(He),document.addEventListener("resume",st,!1),Sr()&&document.addEventListener("visibilitychange",vt,!1),x=()=>{f.removePassiveListener(He),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",vt,!1),ge&&window.clearTimeout(ge)}})}finally{x()}})).apply(this,arguments)}function yw(_){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,l.Z)(function*(_){const f=ef(_),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ef(_){if(ee(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),p=new Uint8Array(f);for(let w=0;w<_.length;w++)p[w]=_.charCodeAt(w);return p}!function c_(_){(0,pe._registerComponent)(new le.wA("auth",(f,{options:p})=>{const w=f.getProvider("app").getImmediate(),x=f.getProvider("heartbeat"),{apiKey:N,authDomain:J}=w.options;return((ge,He)=>{q(N&&!N.includes(":"),"invalid-api-key",{appName:ge.name}),q(!(null==J?void 0:J.includes(":")),"argument-error",{appName:ge.name});const st={apiKey:N,authDomain:J,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ho(_)},vt=new Xe(ge,He,st);return function fe(_,f){const p=(null==f?void 0:f.persistence)||[],w=(Array.isArray(p)?p:[p]).map(ne);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(w,null==f?void 0:f.popupRedirectResolver)}(vt,p),vt})(w,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,w)=>{f.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new le.wA("auth-internal",f=>{const p=ft(f.getProvider("auth").getImmediate());return new Xp(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(Jh,"0.20.5",function Vd(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,pe.registerVersion)(Jh,"0.20.5","esm2017")}("Browser");class jd extends Ao{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,l.Z)(function*(){yield f.initPromise})()}}function Il(_){return bu.apply(this,arguments)}function bu(){return(bu=(0,l.Z)(function*(_){const f=yield Eu()._get(Dl(_));return f&&(yield Eu()._remove(Dl(_))),f})).apply(this,arguments)}function ng(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const w=Math.floor(Math.random()*f.length);_.push(f.charAt(w))}return _.join("")}function Eu(){return ne(b)}function Dl(_){return Zn("authEvent",_.config.apiKey,_.name)}function Di(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...p]=_.split("?");return(0,V.zd)(p.join("?"))}function Ac(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function Ha(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function og(_=(0,V.z$)()){return!("file:"!==Ha()&&"ionic:"!==Ha()&&"capacitor:"!==Ha()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function rf(){try{const _=self.localStorage,f=et();if(_)return _.setItem(f,"1"),_.removeItem(f),!function qd(_=(0,V.z$)()){return function Tl(){return(0,V.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ir(_=(0,V.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,V.hl)()}catch(_){return Gd()&&(0,V.hl)()}return!1}function Gd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function kr(){return(function sg(){return"http:"===Ha()||"https:"===Ha()}()||(0,V.ru)()||og())&&!function nf(){return(0,V.b$)()||(0,V.UG)()}()&&rf()&&!Gd()}function Al(){return og()&&"undefined"!=typeof document}function Du(){return(Du=(0,l.Z)(function*(){return!!Al()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Ti={LOCAL:"local",NONE:"none",SESSION:"session"},$a=q,af="persistence";function xc(_){return cf.apply(this,arguments)}function cf(){return(cf=(0,l.Z)(function*(_){yield _._initializationPromise;const f=Zd(),p=Zn(af,_.config.apiKey,_.name);f&&f.setItem(p,_._getPersistence())})).apply(this,arguments)}function Zd(){var _;try{return(null===(_=function g_(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const __=q;class Ps{constructor(){this.browserResolver=ne(class a_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P,this._completeRedirectFn=xt,this._overrideRedirectResult=Pd}_openPopup(f,p,w,x){var N=this;return(0,l.Z)(function*(){var J;ee(null===(J=N.eventManagers[f._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const ge=as(f,p,w,Ue(),x);return function _u(_,f,p,w=500,x=600){const N=Math.max((window.screen.availHeight-x)/2,0).toString(),J=Math.max((window.screen.availWidth-w)/2,0).toString();let ge="";const He=Object.assign(Object.assign({},kd),{width:w.toString(),height:x.toString(),top:N,left:J}),st=(0,V.z$)().toLowerCase();p&&(ge=Fo(st)?"_blank":p),Vi(st)&&(f=f||"http://localhost",He.scrollbars="yes");const vt=Object.entries(He).reduce((Hn,[Zi,xl])=>`${Hn}${Zi}=${xl},`,"");if(function mi(_=(0,V.z$)()){var f;return Br(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(st)&&"_self"!==ge)return function i_(_,f){const p=document.createElement("a");p.href=_,p.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(w)}(f||"",ge),new Yp(null);const yt=window.open(f||"",ge,vt);q(yt,_,"popup-blocked");try{yt.focus()}catch(Hn){}return new Yp(yt)}(f,ge,et())})()}_openRedirect(f,p,w,x){var N=this;return(0,l.Z)(function*(){return yield N._originValidation(f),function bn(_){sn().location.href=_}(as(f,p,w,Ue(),x)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:x,promise:N}=this.eventManagers[p];return x?Promise.resolve(x):(ee(N,"If manager is not set, promise should be"),N)}const w=this.initAndGetManager(f);return this.eventManagers[p]={promise:w},w.catch(()=>{delete this.eventManagers[p]}),w}initAndGetManager(f){var p=this;return(0,l.Z)(function*(){const w=yield function gw(_){return ca.apply(this,arguments)}(f),x=new Ao(f);return w.register("authEvent",N=>(q(null==N?void 0:N.authEvent,f,"invalid-auth-event"),{status:x.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:x},p.iframes[f._key()]=w,x})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(yu,{type:yu},x=>{var N;const J=null===(N=null==x?void 0:x[0])||void 0===N?void 0:N[yu];void 0!==J&&p(!!J),Me(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Ba(_){return Kh.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return _i()||lo()||Br()}}),this.cordovaResolver=ne(class rg{constructor(){this._redirectPersistence=P,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xt,this._overrideRedirectResult=Pd}_initialize(f){var p=this;return(0,l.Z)(function*(){const w=f._key();let x=p.eventManagers.get(w);return x||(x=new jd(f),p.eventManagers.set(w,x),p.attachCallbackListeners(f,x)),x})()}_openPopup(f){Me(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,w,x){var N=this;return(0,l.Z)(function*(){!function El(_){var f,p,w,x,N,J,ge,He,st,vt;const yt=Tc();q("function"==typeof(null===(f=null==yt?void 0:yt.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(void 0!==(null===(p=null==yt?void 0:yt.BuildInfo)||void 0===p?void 0:p.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(N=null===(x=null===(w=null==yt?void 0:yt.cordova)||void 0===w?void 0:w.plugins)||void 0===x?void 0:x.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(He=null===(ge=null===(J=null==yt?void 0:yt.cordova)||void 0===J?void 0:J.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===He?void 0:He.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(vt=null===(st=null==yt?void 0:yt.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===vt?void 0:vt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const J=yield N._initialize(f);yield J.initialized(),J.resetRedirect(),function Md(){Er.clear()}(),yield N._originValidation(f);const ge=function Hd(_,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:ng(),postBody:null,tenantId:_.tenantId,error:be(_,"no-auth-event")}}(f,w,x);yield function tg(_,f){return Eu()._set(Dl(_),f)}(f,ge);const He=yield function Xh(_,f,p){return Ms.apply(this,arguments)}(f,ge,p),st=yield function Bd(_){const{cordova:f}=Tc();return new Promise(p=>{f.plugins.browsertab.isAvailable(w=>{let x=null;w?f.plugins.browsertab.openUrl(_):x=f.InAppBrowser.open(_,function va(_=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(x)})})}(He);return function ua(_,f,p){return eg.apply(this,arguments)}(f,J,st)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function wu(_){return Ud.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:w,handleOpenURL:x,BuildInfo:N}=Tc(),J=setTimeout((0,l.Z)(function*(){yield Il(f),p.onEvent(Ac())}),500),ge=function(){var vt=(0,l.Z)(function*(yt){clearTimeout(J);const Hn=yield Il(f);let Zi=null;Hn&&(null==yt?void 0:yt.url)&&(Zi=function u_(_,f){var p,w;const x=function Iu(_){const f=Di(_),p=f.link?decodeURIComponent(f.link):void 0,w=Di(p).link,x=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Di(x).link||x||w||p||_}(f);if(x.includes("/__/auth/callback")){const N=Di(x),J=N.firebaseError?function d_(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(N.firebaseError)):null,ge=null===(w=null===(p=null==J?void 0:J.code)||void 0===p?void 0:p.split("auth/"))||void 0===w?void 0:w[1],He=ge?be(ge):null;return He?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:x,postBody:null}}return null}(Hn,yt.url)),p.onEvent(Zi||Ac())});return function(Hn){return vt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ge);const He=x,st=`${N.packageName.toLowerCase()}://`;Tc().handleOpenURL=function(){var vt=(0,l.Z)(function*(yt){if(yt.toLowerCase().startsWith(st)&&ge({url:yt}),"function"==typeof He)try{He(yt)}catch(Hn){console.error(Hn)}});return function(yt){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P,this._completeRedirectFn=xt,this._overrideRedirectResult=Pd}_initialize(f){var p=this;return(0,l.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,w,x){var N=this;return(0,l.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,p,w,x)})()}_openRedirect(f,p,w,x){var N=this;return(0,l.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,p,w,x)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Al()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return __(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,l.Z)(function*(){if(f.underlyingResolver)return;const p=yield function sf(){return Du.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function zd(_){return _.unwrap()}function v_(_){return ag(_)}function ag(_){const{_tokenResponse:f}=_ instanceof V.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof V.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return La.credentialFromResult(_);const p=f.providerId;if(!p||"password"===p)return null;let w;switch(p){case"google.com":w=nl;break;case"facebook.com":w=po;break;case"github.com":w=rl;break;case"twitter.com":w=il;break;default:const{oauthIdToken:x,oauthAccessToken:N,oauthTokenSecret:J,pendingToken:ge,nonce:He}=f;return N||J||x||ge?ge?p.startsWith("saml.")?ys._create(p,ge):Ji._fromParams({providerId:p,signInMethod:p,pendingToken:ge,idToken:x,accessToken:N}):new ji(p).credential({idToken:x,accessToken:N,rawNonce:He}):null}return _ instanceof V.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function Gi(_,f){return f.catch(p=>{throw p instanceof V.ZR&&function Wd(_,f){var p,w;const x=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=f)||void 0===w?void 0:w.code))f.resolver=new w_(_,function Bn(_,f){var p;const w=(0,V.m9)(_),x=f;return q(f.customData.operationType,w,"argument-error"),q(null===(p=x.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,w,"argument-error"),Es._fromError(w,x)}(_,f));else if(x){const N=ag(f),J=f;N&&(J.credential=N,J.tenantId=x.tenantId||void 0,J.email=x.email||void 0,J.phoneNumber=x.phoneNumber||void 0)}}(_,p),p}).then(p=>{const x=p.user;return{operationType:p.operationType,credential:v_(p),additionalUserInfo:Wn(p),user:Qs.getOrCreate(x)}})}function lf(_,f){return uf.apply(this,arguments)}function uf(){return(uf=(0,l.Z)(function*(_,f){const p=yield f;return{verificationId:p.verificationId,confirm:w=>Gi(_,p.confirm(w))}})).apply(this,arguments)}class w_{constructor(f,p){this.resolver=p,this.auth=function y_(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Gi(zd(this.auth),this.resolver.resolveSignIn(f))}}class Qs{constructor(f){this._delegate=f,this.multiFactor=function yd(_){const f=(0,V.m9)(_);return Pa.has(f)||Pa.set(f,Ii._fromUser(f)),Pa.get(f)}(f)}static getOrCreate(f){return Qs.USER_MAP.has(f)||Qs.USER_MAP.set(f,new Qs(f)),Qs.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,l.Z)(function*(){return Gi(p.auth,zn(p._delegate,f))})()}linkWithPhoneNumber(f,p){var w=this;return(0,l.Z)(function*(){return lf(w.auth,function Ec(_,f,p){return Td.apply(this,arguments)}(w._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,l.Z)(function*(){return Gi(p.auth,function Wh(_,f,p){return pl.apply(this,arguments)}(p._delegate,f,Ps))})()}linkWithRedirect(f){var p=this;return(0,l.Z)(function*(){return yield xc(ft(p.auth)),function te(_,f,p){return function he(_,f,p){return Se.apply(this,arguments)}(_,f,p)}(p._delegate,f,Ps)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,l.Z)(function*(){return Gi(p.auth,Xi(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return lf(this.auth,function zh(_,f,p){return ii.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return Gi(this.auth,function Ys(_,f,p){return gu.apply(this,arguments)}(this._delegate,f,Ps))}reauthenticateWithRedirect(f){var p=this;return(0,l.Z)(function*(){return yield xc(ft(p.auth)),function A(_,f,p){return function O(_,f,p){return B.apply(this,arguments)}(_,f,p)}(p._delegate,f,Ps)})()}sendEmailVerification(f){return function Ei(_,f){return pc.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,l.Z)(function*(){return yield function sl(_,f){return an.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function Aa(_,f){return xa((0,V.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function al(_,f){return xa((0,V.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function pu(_,f){return sa.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ta(_,f){return Jo.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function Ko(_,f,p){return Yo.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qs.USER_MAP=new WeakMap;const Au=q;let cg=(()=>{class _{constructor(p,w){if(this.app=p,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=p.options;Au(x,"invalid-api-key",{appName:p.name}),Au(x,"invalid-api-key",{appName:p.name});const N="undefined"!=typeof window?Ps:void 0;this._delegate=w.initialize({options:{persistence:C_(x,p.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Le),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,w){!function Hr(_,f,p){const w=ft(_);q(w._canInitEmulator,w,"emulator-config-failed"),q(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const x=!!(null==p?void 0:p.disableWarnings),N=Ui(f),{host:J,port:ge}=function Sn(_){const f=Ui(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!p)return{host:"",port:null};const w=p[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const N=x[1];return{host:N,port:Bi(w.substr(N.length+1))}}{const[N,J]=w.split(":");return{host:N,port:Bi(J)}}}(f);w.config.emulator={url:`${N}//${J}${null===ge?"":`:${ge}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:J,port:ge,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function gn(){function _(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,w)}applyActionCode(p){return function vo(_,f){return Pe.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return qt(this._delegate,p)}confirmPasswordReset(p,w){return function Ia(_,f,p){return dc.apply(this,arguments)}(this._delegate,p,w)}createUserWithEmailAndPassword(p,w){var x=this;return(0,l.Z)(function*(){return Gi(x._delegate,function es(_,f,p){return ti.apply(this,arguments)}(x._delegate,p,w))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Da(_,f){return bs.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function ol(_,f){const p=js.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,l.Z)(function*(){Au(kr(),p._delegate,"operation-not-supported-in-this-environment");const w=yield function Ke(_,f){return _t.apply(this,arguments)}(p._delegate,Ps);return w?Gi(p._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function ig(_,f){ft(_)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,w,x){const{next:N,error:J,complete:ge}=lg(p,w,x);return this._delegate.onAuthStateChanged(N,J,ge)}onIdTokenChanged(p,w,x){const{next:N,error:J,complete:ge}=lg(p,w,x);return this._delegate.onIdTokenChanged(N,J,ge)}sendSignInLinkToEmail(p,w){return function fc(_,f,p){return wo.apply(this,arguments)}(this._delegate,p,w)}sendPasswordResetEmail(p,w){return function Zo(_,f,p){return zo.apply(this,arguments)}(this._delegate,p,w||void 0)}setPersistence(p){var w=this;return(0,l.Z)(function*(){let x;switch(function m_(_,f){$a(Object.values(Ti).includes(f),_,"invalid-persistence-type"),(0,V.b$)()?$a(f!==Ti.SESSION,_,"unsupported-persistence-type"):(0,V.UG)()?$a(f===Ti.NONE,_,"unsupported-persistence-type"):Gd()?$a(f===Ti.NONE||f===Ti.LOCAL&&(0,V.hl)(),_,"unsupported-persistence-type"):$a(f===Ti.NONE||rf(),_,"unsupported-persistence-type")}(w._delegate,p),p){case Ti.SESSION:x=P;break;case Ti.LOCAL:x=(yield ne(ra)._isAvailable())?ra:b;break;case Ti.NONE:x=Wt;break;default:return Me("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Gi(this._delegate,function Hs(_){return ac.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Gi(this._delegate,vn(this._delegate,p))}signInWithCustomToken(p){return Gi(this._delegate,function yo(_,f){return wt.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,w){return Gi(this._delegate,function hc(_,f,p){return vn((0,V.m9)(_),tl.credential(f,p))}(this._delegate,p,w))}signInWithEmailLink(p,w){return Gi(this._delegate,function gd(_,f,p){return ts.apply(this,arguments)}(this._delegate,p,w))}signInWithPhoneNumber(p,w){return lf(this._delegate,function jn(_,f,p){return Fa.apply(this,arguments)}(this._delegate,p,w))}signInWithPopup(p){var w=this;return(0,l.Z)(function*(){return Au(kr(),w._delegate,"operation-not-supported-in-this-environment"),Gi(w._delegate,function xd(_,f,p){return Va.apply(this,arguments)}(w._delegate,p,Ps))})()}signInWithRedirect(p){var w=this;return(0,l.Z)(function*(){return Au(kr(),w._delegate,"operation-not-supported-in-this-environment"),yield xc(w._delegate),function yl(_,f,p){return function As(_,f,p){return I.apply(this,arguments)}(_,f,p)}(w._delegate,p,Ps)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function mn(_,f){return Wo.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Ti,_})();function lg(_,f,p){let w=_;"function"!=typeof _&&({next:w,error:f,complete:p}=_);const x=w;return{next:J=>x(J&&Qs.getOrCreate(J)),error:f,complete:p}}function C_(_,f){const p=function Tu(_,f){const p=Zd();if(!p)return[];const w=Zn(af,_,f);switch(p.getItem(w)){case Ti.NONE:return[Wt];case Ti.LOCAL:return[ra,P];case Ti.SESSION:return[P];default:return[]}}(_,f);if("undefined"!=typeof self&&!p.includes(ra)&&p.push(ra),"undefined"!=typeof window)for(const w of[b,P])p.includes(w)||p.push(w);return p.includes(Wt)||p.push(Wt),p}class df{constructor(){this.providerId="phone",this._delegate=new La(zd(L.Z.auth()))}static credential(f,p){return La.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}df.PHONE_SIGN_IN_METHOD=La.PHONE_SIGN_IN_METHOD,df.PROVIDER_ID=La.PROVIDER_ID;const ug=q;class vw{constructor(f,p,w=L.Z.app()){var x;ug(null===(x=w.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Zh(f,p,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Sc(_){_.INTERNAL.registerComponent(new le.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new cg(p,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:tl,FacebookAuthProvider:po,GithubAuthProvider:rl,GoogleAuthProvider:nl,OAuthProvider:ji,SAMLAuthProvider:Mr,PhoneAuthProvider:df,PhoneMultiFactorGenerator:_w,RecaptchaVerifier:vw,TwitterAuthProvider:il,Auth:cg,AuthCredential:yi,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.18")}(L.Z)},8306:(rt,oe,F)=>{"use strict";F.d(oe,{y:()=>Z});var l=F(2961),L=F(727),V=F(8822),pe=F(4671);var le=F(2416),de=F(576),ve=F(2806);let Z=(()=>{class xe{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const me=new xe;return me.source=this,me.operator=Ve,me}subscribe(Ve,me,Ie){const Ne=function ze(xe){return xe&&xe instanceof l.Lv||function ie(xe){return xe&&(0,de.m)(xe.next)&&(0,de.m)(xe.error)&&(0,de.m)(xe.complete)}(xe)&&(0,L.Nn)(xe)}(Ve)?Ve:new l.Hp(Ve,me,Ie);return(0,ve.x)(()=>{const{operator:Je,source:Me}=this;Ne.add(Je?Je.call(Ne,Me):Me?this._subscribe(Ne):this._trySubscribe(Ne))}),Ne}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(me){Ve.error(me)}}forEach(Ve,me){return new(me=K(me))((Ie,Ne)=>{const Je=new l.Hp({next:Me=>{try{Ve(Me)}catch(be){Ne(be),Je.unsubscribe()}},error:Ne,complete:Ie});this.subscribe(Je)})}_subscribe(Ve){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(Ve)}[V.L](){return this}pipe(...Ve){return function ye(xe){return 0===xe.length?pe.y:1===xe.length?xe[0]:function(Ve){return xe.reduce((me,Ie)=>Ie(me),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=K(Ve))((me,Ie)=>{let Ne;this.subscribe(Je=>Ne=Je,Je=>Ie(Je),()=>me(Ne))})}}return xe.create=Le=>new xe(Le),xe})();function K(xe){var Le;return null!==(Le=null!=xe?xe:le.v.Promise)&&void 0!==Le?Le:Promise}},7579:(rt,oe,F)=>{"use strict";F.d(oe,{x:()=>le});var l=F(8306),L=F(727);const pe=(0,F(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=F(8737),ye=F(2806);let le=(()=>{class ve extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const ie=new de(this,this);return ie.operator=K,ie}_throwIfClosed(){if(this.closed)throw new pe}next(K){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(K)}})}error(K){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:ie}=this;for(;ie.length;)ie.shift().error(K)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:ie,isStopped:ze,observers:xe}=this;return ie||ze?L.Lc:(this.currentObservers=null,xe.push(K),new L.w0(()=>{this.currentObservers=null,(0,ce.P)(xe,K)}))}_checkFinalizedStatuses(K){const{hasError:ie,thrownError:ze,isStopped:xe}=this;ie?K.error(ze):xe&&K.complete()}asObservable(){const K=new l.y;return K.source=this,K}}return ve.create=(Z,K)=>new de(Z,K),ve})();class de extends le{constructor(Z,K){super(),this.destination=Z,this.source=K}next(Z){var K,ie;null===(ie=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===ie||ie.call(K,Z)}error(Z){var K,ie;null===(ie=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===ie||ie.call(K,Z)}complete(){var Z,K;null===(K=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===K||K.call(Z)}_subscribe(Z){var K,ie;return null!==(ie=null===(K=this.source)||void 0===K?void 0:K.subscribe(Z))&&void 0!==ie?ie:L.Lc}}},2961:(rt,oe,F)=>{"use strict";F.d(oe,{Hp:()=>Ve,Lv:()=>ie});var l=F(576),L=F(727),V=F(2416),pe=F(7849);function ce(){}const ye=ve("C",void 0,void 0);function ve(Me,be,Ae){return{kind:Me,value:be,error:Ae}}var Z=F(3410),K=F(2806);class ie extends L.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,L.Nn)(be)&&be.add(this)):this.destination=Je}static create(be,Ae,Ze){return new Ve(be,Ae,Ze)}next(be){this.isStopped?Ne(function de(Me){return ve("N",Me,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Ne(function le(Me){return ve("E",void 0,Me)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Ne(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function xe(Me,be){return ze.call(Me,be)}class Le{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(be)}catch(Ze){me(Ze)}}error(be){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(be)}catch(Ze){me(Ze)}else me(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Ae){me(Ae)}}}class Ve extends ie{constructor(be,Ae,Ze){let qe;if(super(),(0,l.m)(be)||!be)qe={next:null!=be?be:void 0,error:null!=Ae?Ae:void 0,complete:null!=Ze?Ze:void 0};else{let q;this&&V.v.useDeprecatedNextContext?(q=Object.create(be),q.unsubscribe=()=>this.unsubscribe(),qe={next:be.next&&xe(be.next,q),error:be.error&&xe(be.error,q),complete:be.complete&&xe(be.complete,q)}):qe=be}this.destination=new Le(qe)}}function me(Me){V.v.useDeprecatedSynchronousErrorHandling?(0,K.O)(Me):(0,pe.h)(Me)}function Ne(Me,be){const{onStoppedNotification:Ae}=V.v;Ae&&Z.z.setTimeout(()=>Ae(Me,be))}const Je={closed:!0,next:ce,error:function Ie(Me){throw Me},complete:ce}},727:(rt,oe,F)=>{"use strict";F.d(oe,{Lc:()=>ye,w0:()=>ce,Nn:()=>le});var l=F(576);const V=(0,F(3888).d)(ve=>function(K){ve(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((ie,ze)=>`${ze+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var pe=F(8737);class ce{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const xe of K)xe.remove(this);else K.remove(this);const{initialTeardown:ie}=this;if((0,l.m)(ie))try{ie()}catch(xe){Z=xe instanceof V?xe.errors:[xe]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const xe of ze)try{de(xe)}catch(Le){Z=null!=Z?Z:[],Le instanceof V?Z=[...Z,...Le.errors]:Z.push(Le)}}if(Z)throw new V(Z)}}add(Z){var K;if(Z&&Z!==this)if(this.closed)de(Z);else{if(Z instanceof ce){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(Z)}}_hasParent(Z){const{_parentage:K}=this;return K===Z||Array.isArray(K)&&K.includes(Z)}_addParent(Z){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(Z),K):K?[K,Z]:Z}_removeParent(Z){const{_parentage:K}=this;K===Z?this._parentage=null:Array.isArray(K)&&(0,pe.P)(K,Z)}remove(Z){const{_finalizers:K}=this;K&&(0,pe.P)(K,Z),Z instanceof ce&&Z._removeParent(this)}}ce.EMPTY=(()=>{const ve=new ce;return ve.closed=!0,ve})();const ye=ce.EMPTY;function le(ve){return ve instanceof ce||ve&&"closed"in ve&&(0,l.m)(ve.remove)&&(0,l.m)(ve.add)&&(0,l.m)(ve.unsubscribe)}function de(ve){(0,l.m)(ve)?ve():ve.unsubscribe()}},2416:(rt,oe,F)=>{"use strict";F.d(oe,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,oe,F)=>{"use strict";F.d(oe,{E:()=>L});const L=new(F(8306).y)(ce=>ce.complete())},8996:(rt,oe,F)=>{"use strict";F.d(oe,{D:()=>be});var l=F(8421),L=F(5363),V=F(9468),ye=F(8306),de=F(2202),ve=F(576),Z=F(9672);function ie(Ae,Ze){if(!Ae)throw new Error("Iterable cannot be null");return new ye.y(qe=>{(0,Z.f)(qe,Ze,()=>{const q=Ae[Symbol.asyncIterator]();(0,Z.f)(qe,Ze,()=>{q.next().then(Ce=>{Ce.done?qe.complete():qe.next(Ce.value)})},0,!0)})})}var ze=F(3670),xe=F(8239),Le=F(1144),Ve=F(6495),me=F(2206),Ie=F(4532),Ne=F(3260);function be(Ae,Ze){return Ze?function Me(Ae,Ze){if(null!=Ae){if((0,ze.c)(Ae))return function pe(Ae,Ze){return(0,l.Xf)(Ae).pipe((0,V.R)(Ze),(0,L.Q)(Ze))}(Ae,Ze);if((0,Le.z)(Ae))return function le(Ae,Ze){return new ye.y(qe=>{let q=0;return Ze.schedule(function(){q===Ae.length?qe.complete():(qe.next(Ae[q++]),qe.closed||this.schedule())})})}(Ae,Ze);if((0,xe.t)(Ae))return function ce(Ae,Ze){return(0,l.Xf)(Ae).pipe((0,V.R)(Ze),(0,L.Q)(Ze))}(Ae,Ze);if((0,me.D)(Ae))return ie(Ae,Ze);if((0,Ve.T)(Ae))return function K(Ae,Ze){return new ye.y(qe=>{let q;return(0,Z.f)(qe,Ze,()=>{q=Ae[de.h](),(0,Z.f)(qe,Ze,()=>{let Ce,ee;try{({value:Ce,done:ee}=q.next())}catch(ae){return void qe.error(ae)}ee?qe.complete():qe.next(Ce)},0,!0)}),()=>(0,ve.m)(null==q?void 0:q.return)&&q.return()})}(Ae,Ze);if((0,Ne.L)(Ae))return function Je(Ae,Ze){return ie((0,Ne.Q)(Ae),Ze)}(Ae,Ze)}throw(0,Ie.z)(Ae)}(Ae,Ze):(0,l.Xf)(Ae)}},8421:(rt,oe,F)=>{"use strict";F.d(oe,{Xf:()=>ze});var l=F(655),L=F(1144),V=F(8239),pe=F(8306),ce=F(3670),ye=F(2206),le=F(4532),de=F(6495),ve=F(3260),Z=F(576),K=F(7849),ie=F(8822);function ze(Me){if(Me instanceof pe.y)return Me;if(null!=Me){if((0,ce.c)(Me))return function xe(Me){return new pe.y(be=>{const Ae=Me[ie.L]();if((0,Z.m)(Ae.subscribe))return Ae.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,L.z)(Me))return function Le(Me){return new pe.y(be=>{for(let Ae=0;Ae<Me.length&&!be.closed;Ae++)be.next(Me[Ae]);be.complete()})}(Me);if((0,V.t)(Me))return function Ve(Me){return new pe.y(be=>{Me.then(Ae=>{be.closed||(be.next(Ae),be.complete())},Ae=>be.error(Ae)).then(null,K.h)})}(Me);if((0,ye.D)(Me))return Ie(Me);if((0,de.T)(Me))return function me(Me){return new pe.y(be=>{for(const Ae of Me)if(be.next(Ae),be.closed)return;be.complete()})}(Me);if((0,ve.L)(Me))return function Ne(Me){return Ie((0,ve.Q)(Me))}(Me)}throw(0,le.z)(Me)}function Ie(Me){return new pe.y(be=>{(function Je(Me,be){var Ae,Ze,qe,q;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,l.KL)(Me);!(Ze=yield Ae.next()).done;)if(be.next(Ze.value),be.closed)return}catch(Ce){qe={error:Ce}}finally{try{Ze&&!Ze.done&&(q=Ae.return)&&(yield q.call(Ae))}finally{if(qe)throw qe.error}}be.complete()})})(Me,be).catch(Ae=>be.error(Ae))})}},6451:(rt,oe,F)=>{"use strict";F.d(oe,{T:()=>ye});var l=F(8189),L=F(8421),V=F(515),pe=F(7669),ce=F(8996);function ye(...le){const de=(0,pe.yG)(le),ve=(0,pe._6)(le,1/0),Z=le;return Z.length?1===Z.length?(0,L.Xf)(Z[0]):(0,l.J)(ve)((0,ce.D)(Z,de)):V.E}},5403:(rt,oe,F)=>{"use strict";F.d(oe,{x:()=>L});var l=F(2961);function L(pe,ce,ye,le,de){return new V(pe,ce,ye,le,de)}class V extends l.Lv{constructor(ce,ye,le,de,ve,Z){super(ce),this.onFinalize=ve,this.shouldUnsubscribe=Z,this._next=ye?function(K){try{ye(K)}catch(ie){ce.error(ie)}}:super._next,this._error=de?function(K){try{de(K)}catch(ie){ce.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(K){ce.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4004:(rt,oe,F)=>{"use strict";F.d(oe,{U:()=>V});var l=F(4482),L=F(5403);function V(pe,ce){return(0,l.e)((ye,le)=>{let de=0;ye.subscribe((0,L.x)(le,ve=>{le.next(pe.call(ce,ve,de++))}))})}},8189:(rt,oe,F)=>{"use strict";F.d(oe,{J:()=>V});var l=F(5577),L=F(4671);function V(pe=1/0){return(0,l.z)(L.y,pe)}},5577:(rt,oe,F)=>{"use strict";F.d(oe,{z:()=>de});var l=F(4004),L=F(8421),V=F(4482),pe=F(9672),ce=F(5403),le=F(576);function de(ve,Z,K=1/0){return(0,le.m)(Z)?de((ie,ze)=>(0,l.U)((xe,Le)=>Z(ie,xe,ze,Le))((0,L.Xf)(ve(ie,ze))),K):("number"==typeof Z&&(K=Z),(0,V.e)((ie,ze)=>function ye(ve,Z,K,ie,ze,xe,Le,Ve){const me=[];let Ie=0,Ne=0,Je=!1;const Me=()=>{Je&&!me.length&&!Ie&&Z.complete()},be=Ze=>Ie<ie?Ae(Ze):me.push(Ze),Ae=Ze=>{xe&&Z.next(Ze),Ie++;let qe=!1;(0,L.Xf)(K(Ze,Ne++)).subscribe((0,ce.x)(Z,q=>{null==ze||ze(q),xe?be(q):Z.next(q)},()=>{qe=!0},void 0,()=>{if(qe)try{for(Ie--;me.length&&Ie<ie;){const q=me.shift();Le?(0,pe.f)(Z,Le,()=>Ae(q)):Ae(q)}Me()}catch(q){Z.error(q)}}))};return ve.subscribe((0,ce.x)(Z,be,()=>{Je=!0,Me()})),()=>{null==Ve||Ve()}}(ie,ze,ve,K)))}},5363:(rt,oe,F)=>{"use strict";F.d(oe,{Q:()=>pe});var l=F(9672),L=F(4482),V=F(5403);function pe(ce,ye=0){return(0,L.e)((le,de)=>{le.subscribe((0,V.x)(de,ve=>(0,l.f)(de,ce,()=>de.next(ve),ye),()=>(0,l.f)(de,ce,()=>de.complete(),ye),ve=>(0,l.f)(de,ce,()=>de.error(ve),ye)))})}},3099:(rt,oe,F)=>{"use strict";F.d(oe,{B:()=>ce});var l=F(8421),L=F(7579),V=F(2961),pe=F(4482);function ce(le={}){const{connector:de=(()=>new L.x),resetOnError:ve=!0,resetOnComplete:Z=!0,resetOnRefCountZero:K=!0}=le;return ie=>{let ze,xe,Le,Ve=0,me=!1,Ie=!1;const Ne=()=>{null==xe||xe.unsubscribe(),xe=void 0},Je=()=>{Ne(),ze=Le=void 0,me=Ie=!1},Me=()=>{const be=ze;Je(),null==be||be.unsubscribe()};return(0,pe.e)((be,Ae)=>{Ve++,!Ie&&!me&&Ne();const Ze=Le=null!=Le?Le:de();Ae.add(()=>{Ve--,0===Ve&&!Ie&&!me&&(xe=ye(Me,K))}),Ze.subscribe(Ae),!ze&&Ve>0&&(ze=new V.Hp({next:qe=>Ze.next(qe),error:qe=>{Ie=!0,Ne(),xe=ye(Je,ve,qe),Ze.error(qe)},complete:()=>{me=!0,Ne(),xe=ye(Je,Z),Ze.complete()}}),(0,l.Xf)(be).subscribe(ze))})(ie)}}function ye(le,de,...ve){if(!0===de)return void le();if(!1===de)return;const Z=new V.Hp({next:()=>{Z.unsubscribe(),le()}});return de(...ve).subscribe(Z)}},9468:(rt,oe,F)=>{"use strict";F.d(oe,{R:()=>L});var l=F(4482);function L(V,pe=0){return(0,l.e)((ce,ye)=>{ye.add(V.schedule(()=>ce.subscribe(ye),pe))})}},8505:(rt,oe,F)=>{"use strict";F.d(oe,{b:()=>ce});var l=F(576),L=F(4482),V=F(5403),pe=F(4671);function ce(ye,le,de){const ve=(0,l.m)(ye)||le||de?{next:ye,error:le,complete:de}:ye;return ve?(0,L.e)((Z,K)=>{var ie;null===(ie=ve.subscribe)||void 0===ie||ie.call(ve);let ze=!0;Z.subscribe((0,V.x)(K,xe=>{var Le;null===(Le=ve.next)||void 0===Le||Le.call(ve,xe),K.next(xe)},()=>{var xe;ze=!1,null===(xe=ve.complete)||void 0===xe||xe.call(ve),K.complete()},xe=>{var Le;ze=!1,null===(Le=ve.error)||void 0===Le||Le.call(ve,xe),K.error(xe)},()=>{var xe,Le;ze&&(null===(xe=ve.unsubscribe)||void 0===xe||xe.call(ve)),null===(Le=ve.finalize)||void 0===Le||Le.call(ve)}))}):pe.y}},4408:(rt,oe,F)=>{"use strict";F.d(oe,{o:()=>ce});var l=F(727);class L extends l.w0{constructor(le,de){super()}schedule(le,de=0){return this}}const V={setInterval(ye,le,...de){const{delegate:ve}=V;return(null==ve?void 0:ve.setInterval)?ve.setInterval(ye,le,...de):setInterval(ye,le,...de)},clearInterval(ye){const{delegate:le}=V;return((null==le?void 0:le.clearInterval)||clearInterval)(ye)},delegate:void 0};var pe=F(8737);class ce extends L{constructor(le,de){super(le,de),this.scheduler=le,this.work=de,this.pending=!1}schedule(le,de=0){if(this.closed)return this;this.state=le;const ve=this.id,Z=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(Z,ve,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId(Z,this.id,de),this}requestAsyncId(le,de,ve=0){return V.setInterval(le.flush.bind(le,this),ve)}recycleAsyncId(le,de,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return de;V.clearInterval(de)}execute(le,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(le,de);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,de){let Z,ve=!1;try{this.work(le)}catch(K){ve=!0,Z=K||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:le,scheduler:de}=this,{actions:ve}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(ve,this),null!=le&&(this.id=this.recycleAsyncId(de,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,oe,F)=>{"use strict";F.d(oe,{v:()=>V});var l=F(6063);class L{constructor(ce,ye=L.now){this.schedulerActionCtor=ce,this.now=ye}schedule(ce,ye=0,le){return new this.schedulerActionCtor(this,ce).schedule(le,ye)}}L.now=l.l.now;class V extends L{constructor(ce,ye=L.now){super(ce,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ce){const{actions:ye}=this;if(this._active)return void ye.push(ce);let le;this._active=!0;do{if(le=ce.execute(ce.state,ce.delay))break}while(ce=ye.shift());if(this._active=!1,le){for(;ce=ye.shift();)ce.unsubscribe();throw le}}}},4986:(rt,oe,F)=>{"use strict";F.d(oe,{z:()=>V});var l=F(4408);const V=new(F(7565).v)(l.o)},6063:(rt,oe,F)=>{"use strict";F.d(oe,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(rt,oe,F)=>{"use strict";F.d(oe,{z:()=>l});const l={setTimeout(L,V,...pe){const{delegate:ce}=l;return(null==ce?void 0:ce.setTimeout)?ce.setTimeout(L,V,...pe):setTimeout(L,V,...pe)},clearTimeout(L){const{delegate:V}=l;return((null==V?void 0:V.clearTimeout)||clearTimeout)(L)},delegate:void 0}},2202:(rt,oe,F)=>{"use strict";F.d(oe,{h:()=>L});const L=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,oe,F)=>{"use strict";F.d(oe,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(rt,oe,F)=>{"use strict";F.d(oe,{_6:()=>ye,jO:()=>pe,yG:()=>ce});var l=F(576);function V(le){return le[le.length-1]}function pe(le){return(0,l.m)(V(le))?le.pop():void 0}function ce(le){return function L(le){return le&&(0,l.m)(le.schedule)}(V(le))?le.pop():void 0}function ye(le,de){return"number"==typeof V(le)?le.pop():de}},8737:(rt,oe,F)=>{"use strict";function l(L,V){if(L){const pe=L.indexOf(V);0<=pe&&L.splice(pe,1)}}F.d(oe,{P:()=>l})},3888:(rt,oe,F)=>{"use strict";function l(L){const pe=L(ce=>{Error.call(ce),ce.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}F.d(oe,{d:()=>l})},2806:(rt,oe,F)=>{"use strict";F.d(oe,{O:()=>pe,x:()=>V});var l=F(2416);let L=null;function V(ce){if(l.v.useDeprecatedSynchronousErrorHandling){const ye=!L;if(ye&&(L={errorThrown:!1,error:null}),ce(),ye){const{errorThrown:le,error:de}=L;if(L=null,le)throw de}}else ce()}function pe(ce){l.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=ce)}},9672:(rt,oe,F)=>{"use strict";function l(L,V,pe,ce=0,ye=!1){const le=V.schedule(function(){pe(),ye?L.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(L.add(le),!ye)return le}F.d(oe,{f:()=>l})},4671:(rt,oe,F)=>{"use strict";function l(L){return L}F.d(oe,{y:()=>l})},1144:(rt,oe,F)=>{"use strict";F.d(oe,{z:()=>l});const l=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(rt,oe,F)=>{"use strict";F.d(oe,{D:()=>L});var l=F(576);function L(V){return Symbol.asyncIterator&&(0,l.m)(null==V?void 0:V[Symbol.asyncIterator])}},576:(rt,oe,F)=>{"use strict";function l(L){return"function"==typeof L}F.d(oe,{m:()=>l})},3670:(rt,oe,F)=>{"use strict";F.d(oe,{c:()=>V});var l=F(8822),L=F(576);function V(pe){return(0,L.m)(pe[l.L])}},6495:(rt,oe,F)=>{"use strict";F.d(oe,{T:()=>V});var l=F(2202),L=F(576);function V(pe){return(0,L.m)(null==pe?void 0:pe[l.h])}},8239:(rt,oe,F)=>{"use strict";F.d(oe,{t:()=>L});var l=F(576);function L(V){return(0,l.m)(null==V?void 0:V.then)}},3260:(rt,oe,F)=>{"use strict";F.d(oe,{L:()=>pe,Q:()=>V});var l=F(655),L=F(576);function V(ce){return(0,l.FC)(this,arguments,function*(){const le=ce.getReader();try{for(;;){const{value:de,done:ve}=yield(0,l.qq)(le.read());if(ve)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(de)}}finally{le.releaseLock()}})}function pe(ce){return(0,L.m)(null==ce?void 0:ce.getReader)}},4482:(rt,oe,F)=>{"use strict";F.d(oe,{A:()=>L,e:()=>V});var l=F(576);function L(pe){return(0,l.m)(null==pe?void 0:pe.lift)}function V(pe){return ce=>{if(L(ce))return ce.lift(function(ye){try{return pe(ye,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(rt,oe,F)=>{"use strict";F.d(oe,{h:()=>V});var l=F(2416),L=F(3410);function V(pe){L.z.setTimeout(()=>{const{onUnhandledError:ce}=l.v;if(!ce)throw pe;ce(pe)})}},4532:(rt,oe,F)=>{"use strict";function l(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(oe,{z:()=>l})},5226:function(rt){rt.exports=function(){"use strict";var oe={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const l=b=>{const E={};for(const P in b)E[b[P]]="swal2-"+b[P];return E},L=l(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),V=l(["success","warning","info","question","error"]),pe="SweetAlert2:",ye=b=>b.charAt(0).toUpperCase()+b.slice(1),le=b=>{console.warn("".concat(pe," ").concat("object"==typeof b?b.join(" "):b))},de=b=>{console.error("".concat(pe," ").concat(b))},ve=[],K=(b,E)=>{(b=>{ve.includes(b)||(ve.push(b),le(b))})('"'.concat(b,'" is deprecated and will be removed in the next major release. Please use "').concat(E,'" instead.'))},ie=b=>"function"==typeof b?b():b,ze=b=>b&&"function"==typeof b.toPromise,xe=b=>ze(b)?b.toPromise():Promise.resolve(b),Le=b=>b&&Promise.resolve(b)===b,Ve=()=>document.body.querySelector(".".concat(L.container)),me=b=>{const E=Ve();return E?E.querySelector(b):null},Ie=b=>me(".".concat(b)),Ne=()=>Ie(L.popup),Je=()=>Ie(L.icon),Me=()=>Ie(L.title),be=()=>Ie(L["html-container"]),Ae=()=>Ie(L.image),Ze=()=>Ie(L["progress-steps"]),qe=()=>Ie(L["validation-message"]),q=()=>me(".".concat(L.actions," .").concat(L.confirm)),Ce=()=>me(".".concat(L.actions," .").concat(L.deny)),ae=()=>me(".".concat(L.loader)),ne=()=>me(".".concat(L.actions," .").concat(L.cancel)),we=()=>Ie(L.actions),fe=()=>Ie(L.footer),Ue=()=>Ie(L["timer-progress-bar"]),ht=()=>Ie(L.close),Ht=()=>{const b=Array.from(Ne().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((P,j)=>{const Ee=parseInt(P.getAttribute("tabindex")),et=parseInt(j.getAttribute("tabindex"));return Ee>et?1:Ee<et?-1:0}),E=Array.from(Ne().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(P=>"-1"!==P.getAttribute("tabindex"));return(b=>{const E=[];for(let P=0;P<b.length;P++)-1===E.indexOf(b[P])&&E.push(b[P]);return E})(b.concat(E)).filter(P=>en(P))},Qe=()=>Cn(document.body,L.shown)&&!Cn(document.body,L["toast-shown"])&&!Cn(document.body,L["no-backdrop"]),Qt=()=>Ne()&&Cn(Ne(),L.toast),Jt={previousBodyPadding:null},Lt=(b,E)=>{if(b.textContent="",E){const j=(new DOMParser).parseFromString(E,"text/html");Array.from(j.querySelector("head").childNodes).forEach(Ee=>{b.appendChild(Ee)}),Array.from(j.querySelector("body").childNodes).forEach(Ee=>{Ee instanceof HTMLVideoElement||Ee instanceof HTMLAudioElement?b.appendChild(Ee.cloneNode(!0)):b.appendChild(Ee)})}},Cn=(b,E)=>{if(!E)return!1;const P=E.split(/\s+/);for(let j=0;j<P.length;j++)if(!b.classList.contains(P[j]))return!1;return!0},Tt=(b,E,P)=>{if(((b,E)=>{Array.from(b.classList).forEach(P=>{!Object.values(L).includes(P)&&!Object.values(V).includes(P)&&!Object.values(E.showClass).includes(P)&&b.classList.remove(P)})})(b,E),E.customClass&&E.customClass[P]){if("string"!=typeof E.customClass[P]&&!E.customClass[P].forEach)return void le("Invalid type of customClass.".concat(P,'! Expected string or iterable object, got "').concat(typeof E.customClass[P],'"'));Pt(b,E.customClass[P])}},pi=(b,E)=>{if(!E)return null;switch(E){case"select":case"textarea":case"file":return b.querySelector(".".concat(L.popup," > .").concat(L[E]));case"checkbox":return b.querySelector(".".concat(L.popup," > .").concat(L.checkbox," input"));case"radio":return b.querySelector(".".concat(L.popup," > .").concat(L.radio," input:checked"))||b.querySelector(".".concat(L.popup," > .").concat(L.radio," input:first-child"));case"range":return b.querySelector(".".concat(L.popup," > .").concat(L.range," input"));default:return b.querySelector(".".concat(L.popup," > .").concat(L.input))}},Ur=b=>{if(b.focus(),"file"!==b.type){const E=b.value;b.value="",b.value=E}},rr=(b,E,P)=>{!b||!E||("string"==typeof E&&(E=E.split(/\s+/).filter(Boolean)),E.forEach(j=>{Array.isArray(b)?b.forEach(Ee=>{P?Ee.classList.add(j):Ee.classList.remove(j)}):P?b.classList.add(j):b.classList.remove(j)}))},Pt=(b,E)=>{rr(b,E,!0)},kn=(b,E)=>{rr(b,E,!1)},gr=(b,E)=>{const P=Array.from(b.children);for(let j=0;j<P.length;j++){const Ee=P[j];if(Ee instanceof HTMLElement&&Cn(Ee,E))return Ee}},Ln=(b,E,P)=>{P==="".concat(parseInt(P))&&(P=parseInt(P)),P||0===parseInt(P)?b.style[E]="number"==typeof P?"".concat(P,"px"):P:b.style.removeProperty(E)},hn=function(b){b.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},it=b=>{b.style.display="none"},Tr=(b,E,P,j)=>{const Ee=b.querySelector(E);Ee&&(Ee.style[P]=j)},yn=function(b,E){E?hn(b,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):it(b)},en=b=>!(!b||!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)),Li=b=>b.scrollHeight>b.clientHeight,En=b=>{const E=window.getComputedStyle(b),P=parseFloat(E.getPropertyValue("animation-duration")||"0"),j=parseFloat(E.getPropertyValue("transition-duration")||"0");return P>0||j>0},In=function(b){let E=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const P=Ue();en(P)&&(E&&(P.style.transition="none",P.style.width="100%"),setTimeout(()=>{P.style.transition="width ".concat(b/1e3,"s linear"),P.style.width="0%"},10))},nt={},At=b=>new Promise(E=>{if(!b)return E();const P=window.scrollX,j=window.scrollY;nt.restoreFocusTimeout=setTimeout(()=>{nt.previousActiveElement instanceof HTMLElement?(nt.previousActiveElement.focus(),nt.previousActiveElement=null):document.body&&document.body.focus(),E()},100),window.scrollTo(P,j)}),ir=()=>"undefined"==typeof window||"undefined"==typeof document,Wr='\n <div aria-labelledby="'.concat(L.title,'" aria-describedby="').concat(L["html-container"],'" class="').concat(L.popup,'" tabindex="-1">\n   <button type="button" class="').concat(L.close,'"></button>\n   <ul class="').concat(L["progress-steps"],'"></ul>\n   <div class="').concat(L.icon,'"></div>\n   <img class="').concat(L.image,'" />\n   <h2 class="').concat(L.title,'" id="').concat(L.title,'"></h2>\n   <div class="').concat(L["html-container"],'" id="').concat(L["html-container"],'"></div>\n   <input class="').concat(L.input,'" />\n   <input type="file" class="').concat(L.file,'" />\n   <div class="').concat(L.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(L.select,'"></select>\n   <div class="').concat(L.radio,'"></div>\n   <label for="').concat(L.checkbox,'" class="').concat(L.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(L.label,'"></span>\n   </label>\n   <textarea class="').concat(L.textarea,'"></textarea>\n   <div class="').concat(L["validation-message"],'" id="').concat(L["validation-message"],'"></div>\n   <div class="').concat(L.actions,'">\n     <div class="').concat(L.loader,'"></div>\n     <button type="button" class="').concat(L.confirm,'"></button>\n     <button type="button" class="').concat(L.deny,'"></button>\n     <button type="button" class="').concat(L.cancel,'"></button>\n   </div>\n   <div class="').concat(L.footer,'"></div>\n   <div class="').concat(L["timer-progress-bar-container"],'">\n     <div class="').concat(L["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Ar=()=>{nt.currentInstance.resetValidationMessage()},G=b=>{const E=(()=>{const b=Ve();return!!b&&(b.remove(),kn([document.documentElement,document.body],[L["no-backdrop"],L["toast-shown"],L["has-column"]]),!0)})();if(ir())return void de("SweetAlert2 requires document to initialize");const P=document.createElement("div");P.className=L.container,E&&Pt(P,L["no-transition"]),Lt(P,Wr);const j=(b=>"string"==typeof b?document.querySelector(b):b)(b.target);j.appendChild(P),(b=>{const E=Ne();E.setAttribute("role",b.toast?"alert":"dialog"),E.setAttribute("aria-live",b.toast?"polite":"assertive"),b.toast||E.setAttribute("aria-modal","true")})(b),(b=>{"rtl"===window.getComputedStyle(b).direction&&Pt(Ve(),L.rtl)})(j),(()=>{const b=Ne(),E=gr(b,L.input),P=gr(b,L.file),j=b.querySelector(".".concat(L.range," input")),Ee=b.querySelector(".".concat(L.range," output")),et=gr(b,L.select),cn=b.querySelector(".".concat(L.checkbox," input")),sn=gr(b,L.textarea);E.oninput=Ar,P.onchange=Ar,et.onchange=Ar,cn.onchange=Ar,sn.oninput=Ar,j.oninput=()=>{Ar(),Ee.value=j.value},j.onchange=()=>{Ar(),Ee.value=j.value}})()},Q=(b,E)=>{b instanceof HTMLElement?E.appendChild(b):"object"==typeof b?H(b,E):b&&Lt(E,b)},H=(b,E)=>{b.jquery?W(E,b):Lt(E,b.toString())},W=(b,E)=>{if(b.textContent="",0 in E)for(let P=0;P in E;P++)b.appendChild(E[P].cloneNode(!0));else b.appendChild(E.cloneNode(!0))},z=(()=>{if(ir())return!1;const b=document.createElement("div"),E={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const P in E)if(Object.prototype.hasOwnProperty.call(E,P)&&void 0!==b.style[P])return E[P];return!1})(),Ge=(b,E)=>{const P=we(),j=ae();E.showConfirmButton||E.showDenyButton||E.showCancelButton?hn(P):it(P),Tt(P,E,"actions"),function gt(b,E,P){const j=q(),Ee=Ce(),et=ne();Wt(j,"confirm",P),Wt(Ee,"deny",P),Wt(et,"cancel",P),function ln(b,E,P,j){j.buttonsStyling?(Pt([b,E,P],L.styled),j.confirmButtonColor&&(b.style.backgroundColor=j.confirmButtonColor,Pt(b,L["default-outline"])),j.denyButtonColor&&(E.style.backgroundColor=j.denyButtonColor,Pt(E,L["default-outline"])),j.cancelButtonColor&&(P.style.backgroundColor=j.cancelButtonColor,Pt(P,L["default-outline"]))):kn([b,E,P],L.styled)}(j,Ee,et,P),P.reverseButtons&&(P.toast?(b.insertBefore(et,j),b.insertBefore(Ee,j)):(b.insertBefore(et,E),b.insertBefore(Ee,E),b.insertBefore(j,E)))}(P,j,E),Lt(j,E.loaderHtml),Tt(j,E,"loader")};function Wt(b,E,P){yn(b,P["show".concat(ye(E),"Button")],"inline-block"),Lt(b,P["".concat(E,"ButtonText")]),b.setAttribute("aria-label",P["".concat(E,"ButtonAriaLabel")]),b.className=L[E],Tt(b,P,"".concat(E,"Button")),Pt(b,P["".concat(E,"ButtonClass")])}const Bt=(b,E)=>{const P=Ve();!P||(function Kr(b,E){"string"==typeof E?b.style.background=E:E||Pt([document.documentElement,document.body],L["no-backdrop"])}(P,E.backdrop),function Vi(b,E){E in L?Pt(b,L[E]):(le('The "position" parameter is not valid, defaulting to "center"'),Pt(b,L.center))}(P,E.position),function lo(b,E){if(E&&"string"==typeof E){const P="grow-".concat(E);P in L&&Pt(b,L[P])}}(P,E.grow),Tt(P,E,"container"))};const Fo=["input","file","range","select","radio","checkbox","textarea"],Sr=b=>{if(!nn[b.input])return void de('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(b.input,'"'));const E=uo(b.input),P=nn[b.input](E,b);hn(E),setTimeout(()=>{Ur(P)})},Un=(b,E)=>{const P=pi(Ne(),b);if(P){(b=>{for(let E=0;E<b.attributes.length;E++){const P=b.attributes[E].name;["type","value","style"].includes(P)||b.removeAttribute(P)}})(P);for(const j in E)P.setAttribute(j,E[j])}},Br=b=>{const E=uo(b.input);"object"==typeof b.customClass&&Pt(E,b.customClass.input)},va=(b,E)=>{(!b.placeholder||E.inputPlaceholder)&&(b.placeholder=E.inputPlaceholder)},mi=(b,E,P)=>{if(P.inputLabel){b.id=L.input;const j=document.createElement("label"),Ee=L["input-label"];j.setAttribute("for",b.id),j.className=Ee,"object"==typeof P.customClass&&Pt(j,P.customClass.inputLabel),j.innerText=P.inputLabel,E.insertAdjacentElement("beforebegin",j)}},uo=b=>gr(Ne(),L[b]||L.input),_i=(b,E)=>{["string","number"].includes(typeof E)?b.value="".concat(E):Le(E)||le('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof E,'"'))},nn={};nn.text=nn.email=nn.password=nn.number=nn.tel=nn.url=(b,E)=>(_i(b,E.inputValue),mi(b,b,E),va(b,E),b.type=E.input,b),nn.file=(b,E)=>(mi(b,b,E),va(b,E),b),nn.range=(b,E)=>{const P=b.querySelector("input"),j=b.querySelector("output");return _i(P,E.inputValue),P.type=E.input,_i(j,E.inputValue),mi(P,b,E),b},nn.select=(b,E)=>{if(b.textContent="",E.inputPlaceholder){const P=document.createElement("option");Lt(P,E.inputPlaceholder),P.value="",P.disabled=!0,P.selected=!0,b.appendChild(P)}return mi(b,b,E),b},nn.radio=b=>(b.textContent="",b),nn.checkbox=(b,E)=>{const P=pi(Ne(),"checkbox");P.value="1",P.id=L.checkbox,P.checked=Boolean(E.inputValue);const j=b.querySelector("span");return Lt(j,E.inputPlaceholder),P},nn.textarea=(b,E)=>{_i(b,E.inputValue),va(b,E),mi(b,b,E);return setTimeout(()=>{if("MutationObserver"in window){const j=parseInt(window.getComputedStyle(Ne()).width);new MutationObserver(()=>{const et=b.offsetWidth+(j=>parseInt(window.getComputedStyle(j).marginLeft)+parseInt(window.getComputedStyle(j).marginRight))(b);Ne().style.width=et>j?"".concat(et,"px"):null}).observe(b,{attributes:!0,attributeFilter:["style"]})}}),b};const ho=(b,E)=>{const P=be();Tt(P,E,"htmlContainer"),E.html?(Q(E.html,P),hn(P,"block")):E.text?(P.textContent=E.text,hn(P,"block")):it(P),((b,E)=>{const P=Ne(),j=oe.innerParams.get(b),Ee=!j||E.input!==j.input;Fo.forEach(et=>{const cn=gr(P,L[et]);Un(et,E.inputAttributes),cn.className=L[et],Ee&&it(cn)}),E.input&&(Ee&&Sr(E),Br(E))})(b,E)},ft=(b,E)=>{for(const P in V)E.icon!==P&&kn(b,V[P]);Pt(b,V[E.icon]),Bi(b,E),un(),Tt(b,E,"icon")},un=()=>{const b=Ne(),E=window.getComputedStyle(b).getPropertyValue("background-color"),P=b.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let j=0;j<P.length;j++)P[j].style.backgroundColor=E},Sn=(b,E)=>{let j,P=b.innerHTML;E.iconHtml?j=gn(E.iconHtml):"success"===E.icon?(j='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',P=P.replace(/ style=".*?"/g,"")):j="error"===E.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':gn({question:"?",warning:"!",info:"i"}[E.icon]),P.trim()!==j.trim()&&Lt(b,j)},Bi=(b,E)=>{if(E.iconColor){b.style.color=E.iconColor,b.style.borderColor=E.iconColor;for(const P of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Tr(b,P,"backgroundColor",E.iconColor);Tr(b,".swal2-success-ring","borderColor",E.iconColor)}},gn=b=>'<div class="'.concat(L["icon-content"],'">').concat(b,"</div>"),Ft=(b,E)=>{b.className="".concat(L.popup," ").concat(en(b)?E.showClass.popup:""),E.toast?(Pt([document.documentElement,document.body],L["toast-shown"]),Pt(b,L.toast)):Pt(b,L.modal),Tt(b,E,"popup"),"string"==typeof E.customClass&&Pt(b,E.customClass),E.icon&&Pt(b,L["icon-".concat(E.icon)])},Yr=b=>{const E=document.createElement("li");return Pt(E,L["progress-step"]),Lt(E,b),E},wa=b=>{const E=document.createElement("li");return Pt(E,L["progress-step-line"]),b.progressStepsDistance&&Ln(E,"width",b.progressStepsDistance),E},Rn=(b,E)=>{((b,E)=>{const P=Ve(),j=Ne();E.toast?(Ln(P,"width",E.width),j.style.width="100%",j.insertBefore(ae(),Je())):Ln(j,"width",E.width),Ln(j,"padding",E.padding),E.color&&(j.style.color=E.color),E.background&&(j.style.background=E.background),it(qe()),Ft(j,E)})(0,E),Bt(0,E),((b,E)=>{const P=Ze();E.progressSteps&&0!==E.progressSteps.length?(hn(P),P.textContent="",E.currentProgressStep>=E.progressSteps.length&&le("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.progressSteps.forEach((j,Ee)=>{const et=Yr(j);if(P.appendChild(et),Ee===E.currentProgressStep&&Pt(et,L["active-progress-step"]),Ee!==E.progressSteps.length-1){const cn=wa(E);P.appendChild(cn)}})):it(P)})(0,E),((b,E)=>{const P=oe.innerParams.get(b),j=Je();P&&E.icon===P.icon?(Sn(j,E),ft(j,E)):E.icon||E.iconHtml?E.icon&&-1===Object.keys(V).indexOf(E.icon)?(de('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(E.icon,'"')),it(j)):(hn(j),Sn(j,E),ft(j,E),Pt(j,E.showClass.icon)):it(j)})(b,E),((b,E)=>{const P=Ae();E.imageUrl?(hn(P,""),P.setAttribute("src",E.imageUrl),P.setAttribute("alt",E.imageAlt),Ln(P,"width",E.imageWidth),Ln(P,"height",E.imageHeight),P.className=L.image,Tt(P,E,"image")):it(P)})(0,E),((b,E)=>{const P=Me();yn(P,E.title||E.titleText,"block"),E.title&&Q(E.title,P),E.titleText&&(P.innerText=E.titleText),Tt(P,E,"title")})(0,E),((b,E)=>{const P=ht();Lt(P,E.closeButtonHtml),Tt(P,E,"closeButton"),yn(P,E.showCloseButton),P.setAttribute("aria-label",E.closeButtonAriaLabel)})(0,E),ho(b,E),Ge(0,E),((b,E)=>{const P=fe();yn(P,E.footer),E.footer&&Q(E.footer,P),Tt(P,E,"footer")})(0,E),"function"==typeof E.didRender&&E.didRender(Ne())};function ps(){const b=oe.innerParams.get(this);if(!b)return;const E=oe.domCache.get(this);it(E.loader),Qt()?b.icon&&hn(Je()):gs(E),kn([E.popup,E.actions],L.loading),E.popup.removeAttribute("aria-busy"),E.popup.removeAttribute("data-loading"),E.confirmButton.disabled=!1,E.denyButton.disabled=!1,E.cancelButton.disabled=!1}const gs=b=>{const E=b.popup.getElementsByClassName(b.loader.getAttribute("data-button-to-replace"));E.length?hn(E[0],"inline-block"):!en(q())&&!en(Ce())&&!en(ne())&&it(b.actions)};const Vo=()=>q()&&q().click(),_r=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Bo=b=>{b.keydownTarget&&b.keydownHandlerAdded&&(b.keydownTarget.removeEventListener("keydown",b.keydownHandler,{capture:b.keydownListenerCapture}),b.keydownHandlerAdded=!1)},Qr=(b,E,P)=>{const j=Ht();if(j.length)return(E+=P)===j.length?E=0:-1===E&&(E=j.length-1),j[E].focus();Ne().focus()},vi=["ArrowRight","ArrowDown"],ic=["ArrowLeft","ArrowUp"],hd=(b,E,P)=>{const j=oe.innerParams.get(b);!j||E.isComposing||229===E.keyCode||(j.stopKeydownPropagation&&E.stopPropagation(),"Enter"===E.key?Wc(b,E,j):"Tab"===E.key?yr(E,j):[...vi,...ic].includes(E.key)?ms(E.key):"Escape"===E.key&&Kc(E,j,P))},Wc=(b,E,P)=>{if(ie(P.allowEnterKey)&&E.target&&b.getInput()&&E.target instanceof HTMLElement&&E.target.outerHTML===b.getInput().outerHTML){if(["textarea","file"].includes(P.input))return;Vo(),E.preventDefault()}},yr=(b,E)=>{const P=b.target,j=Ht();let Ee=-1;for(let et=0;et<j.length;et++)if(P===j[et]){Ee=et;break}Qr(0,Ee,b.shiftKey?-1:1),b.stopPropagation(),b.preventDefault()},ms=b=>{const E=q(),P=Ce(),j=ne();if(document.activeElement instanceof HTMLElement&&![E,P,j].includes(document.activeElement))return;const Ee=vi.includes(b)?"nextElementSibling":"previousElementSibling";let et=document.activeElement;for(let cn=0;cn<we().children.length;cn++){if(et=et[Ee],!et)return;if(et instanceof HTMLButtonElement&&en(et))break}et instanceof HTMLButtonElement&&et.focus()},Kc=(b,E,P)=>{ie(E.allowEscapeKey)&&(b.preventDefault(),P(_r.esc))};var Ca={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ou=()=>{Array.from(document.body.children).forEach(E=>{E.hasAttribute("data-previous-aria-hidden")?(E.setAttribute("aria-hidden",E.getAttribute("data-previous-aria-hidden")),E.removeAttribute("data-previous-aria-hidden")):E.removeAttribute("aria-hidden")})},sc=()=>{const b=navigator.userAgent,E=!!b.match(/iPad/i)||!!b.match(/iPhone/i),P=!!b.match(/WebKit/i);E&&P&&!b.match(/CriOS/i)&&Ne().scrollHeight>window.innerHeight-44&&(Ve().style.paddingBottom="".concat(44,"px"))},_s=()=>{const b=Ve();let E;b.ontouchstart=P=>{E=fd(P)},b.ontouchmove=P=>{E&&(P.preventDefault(),P.stopPropagation())}},fd=b=>{const E=b.target,P=Ve();return!Qc(b)&&!au(b)&&(E===P||!Li(P)&&E instanceof HTMLElement&&"INPUT"!==E.tagName&&"TEXTAREA"!==E.tagName&&!(Li(be())&&be().contains(E)))},Qc=b=>b.touches&&b.touches.length&&"stylus"===b.touches[0].touchType,au=b=>b.touches&&b.touches.length>1,Jc=()=>{null===Jt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Jt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Jt.previousBodyPadding+(()=>{const b=document.createElement("div");b.className=L["scrollbar-measure"],document.body.appendChild(b);const E=b.getBoundingClientRect().width-b.clientWidth;return document.body.removeChild(b),E})(),"px"))};function Xc(b,E,P,j){Qt()?rl(b,j):(At(P).then(()=>rl(b,j)),Bo(nt)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(E.setAttribute("style","display:none !important"),E.removeAttribute("class"),E.innerHTML=""):E.remove(),Qe()&&(null!==Jt.previousBodyPadding&&(document.body.style.paddingRight="".concat(Jt.previousBodyPadding,"px"),Jt.previousBodyPadding=null),(()=>{if(Cn(document.body,L.iosfix)){const b=parseInt(document.body.style.top,10);kn(document.body,L.iosfix),document.body.style.top="",document.body.scrollTop=-1*b}})(),ou()),function jo(){kn([document.documentElement,document.body],[L.shown,L["height-auto"],L["no-backdrop"],L["toast-shown"]])}()}function js(b){b=ji(b);const E=Ca.swalPromiseResolve.get(this),P=tl(this);this.isAwaitingPromise()?b.isDismissed||(wi(this),E(b)):P&&E(b)}const tl=b=>{const E=Ne();if(!E)return!1;const P=oe.innerParams.get(b);if(!P||Cn(E,P.hideClass.popup))return!1;kn(E,P.showClass.popup),Pt(E,P.hideClass.popup);const j=Ve();return kn(j,P.showClass.backdrop),Pt(j,P.hideClass.backdrop),po(b,E,P),!0};const wi=b=>{b.isAwaitingPromise()&&(oe.awaitingPromise.delete(b),oe.innerParams.get(b)||b._destroy())},ji=b=>void 0===b?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},b),po=(b,E,P)=>{const j=Ve(),Ee=z&&En(E);"function"==typeof P.willClose&&P.willClose(E),Ee?nl(b,E,j,P.returnFocus,P.didClose):Xc(b,j,P.returnFocus,P.didClose)},nl=(b,E,P,j,Ee)=>{nt.swalCloseEventFinishedCallback=Xc.bind(null,b,P,j,Ee),E.addEventListener(z,function(et){et.target===E&&(nt.swalCloseEventFinishedCallback(),delete nt.swalCloseEventFinishedCallback)})},rl=(b,E)=>{setTimeout(()=>{"function"==typeof E&&E.bind(b.params)(),b._destroy()})};function ba(b,E,P){const j=oe.domCache.get(b);E.forEach(Ee=>{j[Ee].disabled=P})}function ys(b,E){if(b)if("radio"===b.type){const j=b.parentNode.parentNode.querySelectorAll("input");for(let Ee=0;Ee<j.length;Ee++)j[Ee].disabled=E}else b.disabled=E}const Hs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ac=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],_o={},cc=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ci=b=>Object.prototype.hasOwnProperty.call(Hs,b),sl=b=>-1!==ac.indexOf(b),an=b=>_o[b],Ho=b=>{Ci(b)||le('Unknown parameter "'.concat(b,'"'))},$s=b=>{cc.includes(b)&&le('The parameter "'.concat(b,'" is incompatible with toasts'))},rn=b=>{an(b)&&K(b,an(b))};const vs=b=>{const E={};return Object.keys(b).forEach(P=>{sl(P)?E[P]=b[P]:le("Invalid parameter to update: ".concat(P))}),E};const lc=b=>{vn(b),delete b.params,delete nt.keydownHandler,delete nt.keydownTarget,delete nt.currentInstance},vn=b=>{b.isAwaitingPromise()?(Xr(oe,b),oe.awaitingPromise.set(b,!0)):(Xr(Ca,b),Xr(oe,b))},Xr=(b,E)=>{for(const P in b)b[P].delete(E)};var zn=Object.freeze({hideLoading:ps,disableLoading:ps,getInput:function Dn(b){const E=oe.innerParams.get(b||this),P=oe.domCache.get(b||this);return P?pi(P.popup,E.input):null},close:js,isAwaitingPromise:function el(){return!!oe.awaitingPromise.get(this)},rejectPromise:function vr(b){const E=Ca.swalPromiseReject.get(this);wi(this),E&&E(b)},handleAwaitingPromise:wi,closePopup:js,closeModal:js,closeToast:js,enableButtons:function go(){ba(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Mr(){ba(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function il(){ys(this.getInput(),!1)},disableInput:function Pr(){ys(this.getInput(),!0)},showValidationMessage:function mo(b){const E=oe.domCache.get(this),P=oe.innerParams.get(this);Lt(E.validationMessage,b),E.validationMessage.className=L["validation-message"],P.customClass&&P.customClass.validationMessage&&Pt(E.validationMessage,P.customClass.validationMessage),hn(E.validationMessage);const j=this.getInput();j&&(j.setAttribute("aria-invalid",!0),j.setAttribute("aria-describedby",L["validation-message"]),Ur(j),Pt(j,L.inputerror))},resetValidationMessage:function Jr(){const b=oe.domCache.get(this);b.validationMessage&&it(b.validationMessage);const E=this.getInput();E&&(E.removeAttribute("aria-invalid"),E.removeAttribute("aria-describedby"),kn(E,L.inputerror))},getProgressSteps:function oc(){return oe.domCache.get(this).progressSteps},update:function Ea(b){const E=Ne(),P=oe.innerParams.get(this);if(!E||Cn(E,P.hideClass.popup))return le("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const j=vs(b),Ee=Object.assign({},P,j);Rn(this,Ee),oe.innerParams.set(this,Ee),Object.defineProperties(this,{params:{value:Object.assign({},this.params,b),writable:!1,enumerable:!0}})},_destroy:function sr(){const b=oe.domCache.get(this),E=oe.innerParams.get(this);E?(b.popup&&nt.swalCloseEventFinishedCallback&&(nt.swalCloseEventFinishedCallback(),delete nt.swalCloseEventFinishedCallback),"function"==typeof E.didDestroy&&E.didDestroy(),lc(this)):vn(this)}});const ei=b=>{let E=Ne();E||new ot,E=Ne();const P=ae();Qt()?it(Je()):Xi(E,b),hn(P),E.setAttribute("data-loading","true"),E.setAttribute("aria-busy","true"),E.focus()},Xi=(b,E)=>{const P=we(),j=ae();!E&&en(q())&&(E=q()),hn(P),E&&(it(E),j.setAttribute("data-button-to-replace",E.className)),j.parentNode.insertBefore(j,E),Pt([b,P],L.loading)},Hi=b=>b.checked?1:0,yo=b=>b.checked?b.value:null,wt=b=>b.files.length?null!==b.getAttribute("multiple")?b.files:b.files[0]:null,ws=(b,E)=>{const P=Ne(),j=Ee=>{Go[E.input](P,Zo(Ee),E)};ze(E.inputOptions)||Le(E.inputOptions)?(ei(q()),xe(E.inputOptions).then(Ee=>{b.hideLoading(),j(Ee)})):"object"==typeof E.inputOptions?j(E.inputOptions):de("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof E.inputOptions))},uc=(b,E)=>{const P=b.getInput();it(P),xe(E.inputValue).then(j=>{P.value="".concat("number"===E.input?parseFloat(j)||0:j),hn(P),P.focus(),b.hideLoading()}).catch(j=>{de("Error in inputValue promise: ".concat(j)),P.value="",hn(P),P.focus(),b.hideLoading()})},Go={select:(b,E,P)=>{const j=gr(b,L.select),Ee=(et,cn,sn)=>{const bn=document.createElement("option");bn.value=sn,Lt(bn,cn),bn.selected=zo(sn,P.inputValue),et.appendChild(bn)};E.forEach(et=>{const cn=et[0],sn=et[1];if(Array.isArray(sn)){const bn=document.createElement("optgroup");bn.label=cn,bn.disabled=!1,j.appendChild(bn),sn.forEach(Cr=>Ee(bn,Cr[1],Cr[0]))}else Ee(j,sn,cn)}),j.focus()},radio:(b,E,P)=>{const j=gr(b,L.radio);E.forEach(et=>{const cn=et[0],sn=et[1],bn=document.createElement("input"),Cr=document.createElement("label");bn.type="radio",bn.name=L.radio,bn.value=cn,zo(cn,P.inputValue)&&(bn.checked=!0);const Dt=document.createElement("span");Lt(Dt,sn),Dt.className=L.label,Cr.appendChild(bn),Cr.appendChild(Dt),j.appendChild(Cr)});const Ee=j.querySelectorAll("input");Ee.length&&Ee[0].focus()}},Zo=b=>{const E=[];return"undefined"!=typeof Map&&b instanceof Map?b.forEach((P,j)=>{let Ee=P;"object"==typeof Ee&&(Ee=Zo(Ee)),E.push([j,Ee])}):Object.keys(b).forEach(P=>{let j=b[P];"object"==typeof j&&(j=Zo(j)),E.push([P,j])}),E},zo=(b,E)=>E&&E.toString()===b.toString(),Pe=(b,E)=>{const P=oe.innerParams.get(b);if(!P.input)return void de('The "input" parameter is needed to be set when using returnInputValueOn'.concat(ye(E)));const j=((b,E)=>{const P=b.getInput();if(!P)return null;switch(E.input){case"checkbox":return Hi(P);case"radio":return yo(P);case"file":return wt(P);default:return E.inputAutoTrim?P.value.trim():P.value}})(b,P);P.inputValidator?qt(b,j,E):b.getInput().checkValidity()?"deny"===E?Cs(b,j):es(b,j):(b.enableButtons(),b.showValidationMessage(P.validationMessage))},qt=(b,E,P)=>{const j=oe.innerParams.get(b);b.disableInput(),Promise.resolve().then(()=>xe(j.inputValidator(E,j.validationMessage))).then(et=>{b.enableButtons(),b.enableInput(),et?b.showValidationMessage(et):"deny"===P?Cs(b,E):es(b,E)})},Cs=(b,E)=>{const P=oe.innerParams.get(b||void 0);P.showLoaderOnDeny&&ei(Ce()),P.preDeny?(oe.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>xe(P.preDeny(E,P.validationMessage))).then(Ee=>{!1===Ee?(b.hideLoading(),wi(b)):b.close({isDenied:!0,value:void 0===Ee?E:Ee})}).catch(Ee=>Wo(b||void 0,Ee))):b.close({isDenied:!0,value:E})},mn=(b,E)=>{b.close({isConfirmed:!0,value:E})},Wo=(b,E)=>{b.rejectPromise(E)},es=(b,E)=>{const P=oe.innerParams.get(b||void 0);P.showLoaderOnConfirm&&ei(),P.preConfirm?(b.resetValidationMessage(),oe.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>xe(P.preConfirm(E,P.validationMessage))).then(Ee=>{en(qe())||!1===Ee?(b.hideLoading(),wi(b)):mn(b,void 0===Ee?E:Ee)}).catch(Ee=>Wo(b||void 0,Ee))):mn(b,E)},hc=(b,E,P)=>{E.popup.onclick=()=>{const j=oe.innerParams.get(b);j&&(fc(j)||j.timer||j.input)||P(_r.close)}},fc=b=>b.showConfirmButton||b.showDenyButton||b.showCancelButton||b.showCloseButton;let wo=!1;const ol=b=>{b.popup.onmousedown=()=>{b.container.onmouseup=function(E){b.container.onmouseup=void 0,E.target===b.container&&(wo=!0)}}},gd=b=>{b.container.onmousedown=()=>{b.popup.onmouseup=function(E){b.popup.onmouseup=void 0,(E.target===b.popup||b.popup.contains(E.target))&&(wo=!0)}}},ts=(b,E,P)=>{E.container.onclick=j=>{const Ee=oe.innerParams.get(b);wo?wo=!1:j.target===E.container&&ie(Ee.allowOutsideClick)&&P(_r.backdrop)}},qr=b=>b instanceof Element||(b=>"object"==typeof b&&b.jquery)(b);const Ko=()=>{if(nt.timeout)return(()=>{const b=Ue(),E=parseInt(window.getComputedStyle(b).width);b.style.removeProperty("transition"),b.style.width="100%";const j=E/parseInt(window.getComputedStyle(b).width)*100;b.style.removeProperty("transition"),b.style.width="".concat(j,"%")})(),nt.timeout.stop()},Yo=()=>{if(nt.timeout){const b=nt.timeout.start();return In(b),b}};let Jo=!1;const Aa={};const xa=b=>{for(let E=b.target;E&&E!==document;E=E.parentNode)for(const P in Aa){const j=E.getAttribute(P);if(j)return void Aa[P].fire({template:j})}};var qs=Object.freeze({isValidParameter:Ci,isUpdatableParameter:sl,isDeprecatedParameter:an,argsToParams:b=>{const E={};return"object"!=typeof b[0]||qr(b[0])?["title","html","icon"].forEach((P,j)=>{const Ee=b[j];"string"==typeof Ee||qr(Ee)?E[P]=Ee:void 0!==Ee&&de("Unexpected type of ".concat(P,'! Expected "string" or "Element", got ').concat(typeof Ee))}):Object.assign(E,b[0]),E},isVisible:()=>en(Ne()),clickConfirm:Vo,clickDeny:()=>Ce()&&Ce().click(),clickCancel:()=>ne()&&ne().click(),getContainer:Ve,getPopup:Ne,getTitle:Me,getHtmlContainer:be,getImage:Ae,getIcon:Je,getInputLabel:()=>Ie(L["input-label"]),getCloseButton:ht,getActions:we,getConfirmButton:q,getDenyButton:Ce,getCancelButton:ne,getLoader:ae,getFooter:fe,getTimerProgressBar:Ue,getFocusableElements:Ht,getValidationMessage:qe,isLoading:()=>Ne().hasAttribute("data-loading"),fire:function bs(){const b=this;for(var E=arguments.length,P=new Array(E),j=0;j<E;j++)P[j]=arguments[j];return new b(...P)},mixin:function Ei(b){return class E extends(this){_main(j,Ee){return super._main(j,Object.assign({},b,Ee))}}},showLoading:ei,enableLoading:ei,getTimerLeft:()=>nt.timeout&&nt.timeout.getTimerLeft(),stopTimer:Ko,resumeTimer:Yo,toggleTimer:()=>{const b=nt.timeout;return b&&(b.running?Ko():Yo())},increaseTimer:b=>{if(nt.timeout){const E=nt.timeout.increase(b);return In(E,!0),E}},isTimerRunning:()=>nt.timeout&&nt.timeout.isRunning(),bindClickHandler:function al(){Aa[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Jo||(document.body.addEventListener("click",xa),Jo=!0)}});class cl{constructor(E,P){this.callback=E,this.remaining=P,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(E){const P=this.running;return P&&this.stop(),this.remaining+=E,P&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Gs=["swal-title","swal-html","swal-footer"],Sa=b=>{const E={};return Array.from(b.querySelectorAll("swal-param")).forEach(j=>{Ma(j,["name","value"]);const Ee=j.getAttribute("name"),et=j.getAttribute("value");E[Ee]="boolean"==typeof Hs[Ee]?"false"!==et:"object"==typeof Hs[Ee]?JSON.parse(et):et}),E},Gr=b=>{const E={};return Array.from(b.querySelectorAll("swal-function-param")).forEach(j=>{const Ee=j.getAttribute("name"),et=j.getAttribute("value");E[Ee]=new Function("return ".concat(et))()}),E},cu=b=>{const E={};return Array.from(b.querySelectorAll("swal-button")).forEach(j=>{Ma(j,["type","color","aria-label"]);const Ee=j.getAttribute("type");E["".concat(Ee,"ButtonText")]=j.innerHTML,E["show".concat(ye(Ee),"Button")]=!0,j.hasAttribute("color")&&(E["".concat(Ee,"ButtonColor")]=j.getAttribute("color")),j.hasAttribute("aria-label")&&(E["".concat(Ee,"ButtonAriaLabel")]=j.getAttribute("aria-label"))}),E},mc=b=>{const E={},P=b.querySelector("swal-image");return P&&(Ma(P,["src","width","height","alt"]),P.hasAttribute("src")&&(E.imageUrl=P.getAttribute("src")),P.hasAttribute("width")&&(E.imageWidth=P.getAttribute("width")),P.hasAttribute("height")&&(E.imageHeight=P.getAttribute("height")),P.hasAttribute("alt")&&(E.imageAlt=P.getAttribute("alt"))),E},Wn=b=>{const E={},P=b.querySelector("swal-icon");return P&&(Ma(P,["type","color"]),P.hasAttribute("type")&&(E.icon=P.getAttribute("type")),P.hasAttribute("color")&&(E.iconColor=P.getAttribute("color")),E.iconHtml=P.innerHTML),E},Zs=b=>{const E={},P=b.querySelector("swal-input");P&&(Ma(P,["type","label","placeholder","value"]),E.input=P.getAttribute("type")||"text",P.hasAttribute("label")&&(E.inputLabel=P.getAttribute("label")),P.hasAttribute("placeholder")&&(E.inputPlaceholder=P.getAttribute("placeholder")),P.hasAttribute("value")&&(E.inputValue=P.getAttribute("value")));const j=Array.from(b.querySelectorAll("swal-input-option"));return j.length&&(E.inputOptions={},j.forEach(Ee=>{Ma(Ee,["value"]);const et=Ee.getAttribute("value");E.inputOptions[et]=Ee.innerHTML})),E},Nn=(b,E)=>{const P={};for(const j in E){const Ee=E[j],et=b.querySelector(Ee);et&&(Ma(et,[]),P[Ee.replace(/^swal-/,"")]=et.innerHTML.trim())}return P},lu=b=>{const E=Gs.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(b.children).forEach(P=>{const j=P.tagName.toLowerCase();E.includes(j)||le("Unrecognized element <".concat(j,">"))})},Ma=(b,E)=>{Array.from(b.attributes).forEach(P=>{-1===E.indexOf(P.name)&&le(['Unrecognized attribute "'.concat(P.name,'" on <').concat(b.tagName.toLowerCase(),">."),"".concat(E.length?"Allowed attributes are: ".concat(E.join(", ")):"To set the value, use HTML within the element.")])})},ul=b=>{const E=Ve(),P=Ne();"function"==typeof b.willOpen&&b.willOpen(P);const Ee=window.getComputedStyle(document.body).overflowY;ns(E,P,b),setTimeout(()=>{qh(E,P)},10),Qe()&&(Xo(E,b.scrollbarPadding,Ee),Array.from(document.body.children).forEach(E=>{E===Ve()||E.contains(Ve())||(E.hasAttribute("aria-hidden")&&E.setAttribute("data-previous-aria-hidden",E.getAttribute("aria-hidden")),E.setAttribute("aria-hidden","true"))})),!Qt()&&!nt.previousActiveElement&&(nt.previousActiveElement=document.activeElement),"function"==typeof b.didOpen&&setTimeout(()=>b.didOpen(P)),kn(E,L["no-transition"])},uu=b=>{const E=Ne();if(b.target!==E)return;const P=Ve();E.removeEventListener(z,uu),P.style.overflowY="auto"},qh=(b,E)=>{z&&En(E)?(b.style.overflowY="hidden",E.addEventListener(z,uu)):b.style.overflowY="auto"},Xo=(b,E,P)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Cn(document.body,L.iosfix)){const E=document.body.scrollTop;document.body.style.top="".concat(-1*E,"px"),Pt(document.body,L.iosfix),_s(),sc()}})(),E&&"hidden"!==P&&Jc(),setTimeout(()=>{b.scrollTop=0})},ns=(b,E,P)=>{Pt(b,P.showClass.backdrop),E.style.setProperty("opacity","0","important"),hn(E,"grid"),setTimeout(()=>{Pt(E,P.showClass.popup),E.style.removeProperty("opacity")},10),Pt([document.documentElement,document.body],L.shown),P.heightAuto&&P.backdrop&&!P.toast&&Pt([document.documentElement,document.body],L["height-auto"])};var Es={email:(b,E)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(b)?Promise.resolve():Promise.resolve(E||"Invalid email address"),url:(b,E)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(b)?Promise.resolve():Promise.resolve(E||"Invalid URL")};function _d(b){(function Bn(b){b.inputValidator||Object.keys(Es).forEach(E=>{b.input===E&&(b.inputValidator=Es[E])})})(b),b.showLoaderOnConfirm&&!b.preConfirm&&le("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function dl(b){(!b.target||"string"==typeof b.target&&!document.querySelector(b.target)||"string"!=typeof b.target&&!b.target.appendChild)&&(le('Target parameter is not valid, defaulting to "body"'),b.target="body")}(b),"string"==typeof b.title&&(b.title=b.title.split("\n").join("<br />")),G(b)}let or;class Ii{constructor(){if("undefined"==typeof window)return;or=this;for(var E=arguments.length,P=new Array(E),j=0;j<E;j++)P[j]=arguments[j];const Ee=Object.freeze(this.constructor.argsToParams(P));Object.defineProperties(this,{params:{value:Ee,writable:!1,enumerable:!0,configurable:!0}});const et=or._main(or.params);oe.promise.set(this,et)}_main(E){let P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(b=>{!1===b.backdrop&&b.allowOutsideClick&&le('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const E in b)Ho(E),b.toast&&$s(E),rn(E)})(Object.assign({},P,E)),nt.currentInstance&&(nt.currentInstance._destroy(),Qe()&&ou()),nt.currentInstance=or;const j=yd(E,P);_d(j),Object.freeze(j),nt.timeout&&(nt.timeout.stop(),delete nt.timeout),clearTimeout(nt.restoreFocusTimeout);const Ee=rs(or);return Rn(or,j),oe.innerParams.set(or,j),Pa(or,Ee,j)}then(E){return oe.promise.get(this).then(E)}finally(E){return oe.promise.get(this).finally(E)}}const Pa=(b,E,P)=>new Promise((j,Ee)=>{const et=cn=>{b.close({isDismissed:!0,dismiss:cn})};Ca.swalPromiseResolve.set(b,j),Ca.swalPromiseReject.set(b,Ee),E.confirmButton.onclick=()=>{(b=>{const E=oe.innerParams.get(b);b.disableButtons(),E.input?Pe(b,"confirm"):es(b,!0)})(b)},E.denyButton.onclick=()=>{(b=>{const E=oe.innerParams.get(b);b.disableButtons(),E.returnInputValueOnDeny?Pe(b,"deny"):Cs(b,!1)})(b)},E.cancelButton.onclick=()=>{((b,E)=>{b.disableButtons(),E(_r.cancel)})(b,et)},E.closeButton.onclick=()=>{et(_r.close)},((b,E,P)=>{oe.innerParams.get(b).toast?hc(b,E,P):(ol(E),gd(E),ts(b,E,P))})(b,E,et),((b,E,P,j)=>{Bo(E),P.toast||(E.keydownHandler=Ee=>hd(b,Ee,j),E.keydownTarget=P.keydownListenerCapture?window:Ne(),E.keydownListenerCapture=P.keydownListenerCapture,E.keydownTarget.addEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!0)})(b,nt,P,et),((b,E)=>{"select"===E.input||"radio"===E.input?ws(b,E):["text","email","number","tel","textarea"].includes(E.input)&&(ze(E.inputValue)||Le(E.inputValue))&&(ei(q()),uc(b,E))})(b,P),ul(P),Oa(nt,P,et),vd(E,P),setTimeout(()=>{E.container.scrollTop=0})}),yd=(b,E)=>{const P=(b=>{const E="string"==typeof b.template?document.querySelector(b.template):b.template;if(!E)return{};const P=E.content;return lu(P),Object.assign(Sa(P),Gr(P),cu(P),mc(P),Wn(P),Zs(P),Nn(P,Gs))})(b),j=Object.assign({},Hs,E,P,b);return j.showClass=Object.assign({},Hs.showClass,j.showClass),j.hideClass=Object.assign({},Hs.hideClass,j.hideClass),j},rs=b=>{const E={popup:Ne(),container:Ve(),actions:we(),confirmButton:q(),denyButton:Ce(),cancelButton:ne(),loader:ae(),closeButton:ht(),validationMessage:qe(),progressSteps:Ze()};return oe.domCache.set(b,E),E},Oa=(b,E,P)=>{const j=Ue();it(j),E.timer&&(b.timeout=new cl(()=>{P("timer"),delete b.timeout},E.timer),E.timerProgressBar&&(hn(j),Tt(j,E,"timerProgressBar"),setTimeout(()=>{b.timeout&&b.timeout.running&&In(E.timer)})))},vd=(b,E)=>{if(!E.toast){if(!ie(E.allowEnterKey))return void ea();pn(b,E)||Qr(0,-1,1)}},pn=(b,E)=>E.focusDeny&&en(b.denyButton)?(b.denyButton.focus(),!0):E.focusCancel&&en(b.cancelButton)?(b.cancelButton.focus(),!0):!(!E.focusConfirm||!en(b.confirmButton)||(b.confirmButton.focus(),0)),ea=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};"undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&(document.body.style.pointerEvents="none"),Object.assign(Ii.prototype,zn),Object.assign(Ii,qs),Object.keys(zn).forEach(b=>{Ii[b]=function(){if(or)return or[b](...arguments)}}),Ii.DismissReason=_r,Ii.version="11.5.2";const ot=Ii;return ot.default=ot,ot}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(oe,F){var l=oe.createElement("style");if(oe.getElementsByTagName("head")[0].appendChild(l),l.styleSheet)l.styleSheet.disabled||(l.styleSheet.cssText=F);else try{l.innerHTML=F}catch(L){l.innerText=F}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(rt,oe,F)=>{"use strict";function pe(ee,ae){var ne={};for(var we in ee)Object.prototype.hasOwnProperty.call(ee,we)&&ae.indexOf(we)<0&&(ne[we]=ee[we]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(we=Object.getOwnPropertySymbols(ee);fe<we.length;fe++)ae.indexOf(we[fe])<0&&Object.prototype.propertyIsEnumerable.call(ee,we[fe])&&(ne[we[fe]]=ee[we[fe]])}return ne}function de(ee,ae,ne,we){return new(ne||(ne=Promise))(function(Ue,ht){function Kt(Qt){try{Qe(we.next(Qt))}catch(xn){ht(xn)}}function Ht(Qt){try{Qe(we.throw(Qt))}catch(xn){ht(xn)}}function Qe(Qt){Qt.done?Ue(Qt.value):function fe(Ue){return Ue instanceof ne?Ue:new ne(function(ht){ht(Ue)})}(Qt.value).then(Kt,Ht)}Qe((we=we.apply(ee,ae||[])).next())})}function me(ee){return this instanceof me?(this.v=ee,this):new me(ee)}function Ie(ee,ae,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,we=ne.apply(ee,ae||[]),Ue=[];return fe={},ht("next"),ht("throw"),ht("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function ht(Jt){we[Jt]&&(fe[Jt]=function(Lt){return new Promise(function(Cn,Xt){Ue.push([Jt,Lt,Cn,Xt])>1||Kt(Jt,Lt)})})}function Kt(Jt,Lt){try{!function Ht(Jt){Jt.value instanceof me?Promise.resolve(Jt.value.v).then(Qe,Qt):xn(Ue[0][2],Jt)}(we[Jt](Lt))}catch(Cn){xn(Ue[0][3],Cn)}}function Qe(Jt){Kt("next",Jt)}function Qt(Jt){Kt("throw",Jt)}function xn(Jt,Lt){Jt(Lt),Ue.shift(),Ue.length&&Kt(Ue[0][0],Ue[0][1])}}function Je(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,ae=ee[Symbol.asyncIterator];return ae?ae.call(ee):(ee=function ie(ee){var ae="function"==typeof Symbol&&Symbol.iterator,ne=ae&&ee[ae],we=0;if(ne)return ne.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&we>=ee.length&&(ee=void 0),{value:ee&&ee[we++],done:!ee}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),ne={},we("next"),we("throw"),we("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function we(Ue){ne[Ue]=ee[Ue]&&function(ht){return new Promise(function(Kt,Ht){!function fe(Ue,ht,Kt,Ht){Promise.resolve(Ht).then(function(Qe){Ue({value:Qe,done:Kt})},ht)}(Kt,Ht,(ht=ee[Ue](ht)).done,ht.value)})}}}F.d(oe,{FC:()=>Ie,KL:()=>Je,_T:()=>pe,mG:()=>de,qq:()=>me})},5e3:(rt,oe,F)=>{"use strict";F.d(oe,{$8M:()=>Ds,$Z:()=>HI,AFp:()=>qc,ALo:()=>OD,AaK:()=>de,CHM:()=>Cs,CRH:()=>Kl,CZH:()=>wv,CqO:()=>Zg,EJc:()=>Iv,EpF:()=>GI,F4k:()=>ZI,FYo:()=>Yf,FiY:()=>dt,G48:()=>eu,GfV:()=>Xy,Gpc:()=>K,JOm:()=>N,LFG:()=>O,LSH:()=>Ac,Lbi:()=>Gc,NdJ:()=>sy,OlP:()=>On,Oqu:()=>Nf,PXZ:()=>Rm,Q6J:()=>K0,QGY:()=>J0,Qsj:()=>VC,R0b:()=>Ro,RDi:()=>cc,Rgc:()=>Zl,SBq:()=>zu,Sil:()=>fb,Suo:()=>lv,TTD:()=>ji,TgZ:()=>Gg,VKq:()=>ct,VLi:()=>Mh,WLB:()=>Nt,X6Q:()=>Ib,XFs:()=>it,Xpm:()=>Ge,Y36:()=>qg,YKP:()=>$C,YNc:()=>V0,Yjl:()=>Fo,Yz7:()=>Lt,ZZ4:()=>Uv,_Bn:()=>Cm,_UZ:()=>uh,_Vd:()=>ql,_c5:()=>eT,_uU:()=>Rf,aQg:()=>Cp,c2e:()=>hb,cJS:()=>Xt,cg1:()=>Oy,dDg:()=>Sv,deG:()=>Ed,dqk:()=>Gt,eFA:()=>wb,ekj:()=>Ul,g9A:()=>Cv,h0i:()=>Bc,hGG:()=>Pb,hij:()=>fh,iGM:()=>rb,ifc:()=>nt,ip1:()=>db,kL8:()=>ky,lG2:()=>lo,n5z:()=>Fn,oAB:()=>Bt,oxw:()=>zg,q4F:()=>ev,qLn:()=>Wd,qOj:()=>Df,qZA:()=>Sf,sBO:()=>mp,sIi:()=>rh,s_b:()=>Im,soG:()=>dp,tBr:()=>kt,tb:()=>bv,tp0:()=>Yn,uIk:()=>Fu,vHH:()=>Le,vpe:()=>Ya,wAp:()=>Ct,xi3:()=>Vt,xp6:()=>A_,z2F:()=>Xl,zSh:()=>b0,zs3:()=>Fc});var l=F(7579),L=F(727),V=F(8306),pe=F(6451),ce=F(3099);function ye(i){for(let s in i)if(i[s]===ye)return s;throw Error("Could not find renamed property on target object.")}function le(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ve(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Z=ye({__forward_ref__:ye});function K(i){return i.__forward_ref__=K,i.toString=function(){return de(this())},i}function ie(i){return ze(i)?i():i}function ze(i){return"function"==typeof i&&i.hasOwnProperty(Z)&&i.__forward_ref__===K}class Le extends Error{constructor(s,a){super(function Ve(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function me(i){return"string"==typeof i?i:null==i?"":String(i)}function Ie(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():me(i)}function be(i,s){const a=s?` in ${s}`:"";throw new Le(-201,`No provider for ${Ie(i)} found${a}`)}function Ht(i,s){null==i&&function Qe(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function Lt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Xt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Tt(i){return pi(i,kn)||pi(i,Ln)}function pi(i,s){return i.hasOwnProperty(s)?i[s]:null}function Pt(i){return i&&(i.hasOwnProperty(gr)||i.hasOwnProperty(hn))?i[gr]:null}const kn=ye({\u0275prov:ye}),gr=ye({\u0275inj:ye}),Ln=ye({ngInjectableDef:ye}),hn=ye({ngInjectorDef:ye});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let Tr;function en(i){const s=Tr;return Tr=i,s}function Fi(i,s,a){const u=Tt(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&it.Optional?null:void 0!==s?s:void be(de(i),"Injector")}function En(i){return{toString:i}.toString()}var In=(()=>((In=In||{})[In.OnPush=0]="OnPush",In[In.Default=1]="Default",In))(),nt=(()=>{return(i=nt||(nt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",nt;var i})();const ut="undefined"!=typeof globalThis&&globalThis,At="undefined"!=typeof window&&window,ir="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=ut||"undefined"!=typeof global&&global||At||ir,xr={},mt=[],hs=ye({\u0275cmp:ye}),G=ye({\u0275dir:ye}),Q=ye({\u0275pipe:ye}),H=ye({\u0275mod:ye}),W=ye({\u0275fac:ye}),z=ye({__NG_ELEMENT_ID__:ye});let Oe=0;function Ge(i){return En(()=>{const a={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||mt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||nt.Emulated,id:"c",styles:i.styles||mt,_:null,setInput:null,schemas:i.schemas||null,tView:null},h=i.directives,g=i.features,y=i.pipes;return u.id+=Oe++,u.inputs=Vi(i.inputs,a),u.outputs=Vi(i.outputs),g&&g.forEach(C=>C(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(ln):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(Wt):null,u})}function ln(i){return Vn(i)||function Sr(i){return i[G]||null}(i)}function Wt(i){return function Qi(i){return i[Q]||null}(i)}const Zn={};function Bt(i){return En(()=>{const s={type:i.type,bootstrap:i.bootstrap||mt,declarations:i.declarations||mt,imports:i.imports||mt,exports:i.exports||mt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Zn[i.id]=i.type),s})}function Vi(i,s){if(null==i)return xr;const a={};for(const u in i)if(i.hasOwnProperty(u)){let h=i[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=u,s&&(s[h]=g)}return a}const lo=Ge;function Fo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Vn(i){return i[hs]||null}function Un(i,s){const a=i[H]||null;if(!a&&!0===s)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return a}function $r(i){return Array.isArray(i)&&"object"==typeof i[1]}function _r(i){return Array.isArray(i)&&!0===i[1]}function Bo(i){return 0!=(8&i.flags)}function zc(i){return 2==(2&i.flags)}function Qr(i){return 1==(1&i.flags)}function vi(i){return null!==i.template}function ic(i){return 0!=(512&i[2])}function vr(i,s){return i.hasOwnProperty(W)?i[W]:null}class wi{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function ji(){return po}function po(i){return i.type.prototype.ngOnChanges&&(i.setInput=rl),nl}function nl(){const i=ys(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===xr)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function rl(i,s,a,u){const h=ys(i)||function go(i,s){return i[ba]=s}(i,{previous:xr,current:null}),g=h.current||(h.current={}),y=h.previous,C=this.declaredInputs[a],D=y[C];g[C]=new wi(D&&D.currentValue,s,y===xr),i[u]=s}ji.ngInherit=!0;const ba="__ngSimpleChanges__";function ys(i){return i[ba]||null}let _o;function cc(i){_o=i}function an(i){return!!i.listen}const Ho={createRenderer:(i,s)=>function Ci(){return void 0!==_o?_o:"undefined"!=typeof document?document:void 0}()};function rn(i){for(;Array.isArray(i);)i=i[0];return i}function vs(i,s){return rn(s[i])}function sr(i,s){return rn(s[i.index])}function vn(i,s){return i.data[s]}function zn(i,s){const a=s[i];return $r(a)?a:a[0]}function ei(i){return 4==(4&i[2])}function Xi(i){return 128==(128&i[2])}function bi(i,s){return null==s?null:i[s]}function Hi(i){i[18]=0}function yo(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const wt={lFrame:Gs(null),bindingsEnabled:!0};function Ia(){return wt.bindingsEnabled}function Pe(){return wt.lFrame.lView}function qt(){return wt.lFrame.tView}function Cs(i){return wt.lFrame.contextLView=i,i[8]}function mn(){let i=Wo();for(;null!==i&&64===i.type;)i=i.parent;return i}function Wo(){return wt.lFrame.currentTNode}function ti(i,s){const a=wt.lFrame;a.currentTNode=i,a.isParent=s}function hc(){return wt.lFrame.isParent}function wr(){const i=wt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function bs(){return wt.lFrame.bindingIndex++}function Yo(i,s){const a=wt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Qo(s)}function Qo(i){wt.lFrame.currentDirectiveIndex=i}function Jo(){return wt.lFrame.currentQueryIndex}function Aa(i){wt.lFrame.currentQueryIndex=i}function al(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function xa(i,s,a){if(a&it.SkipSelf){let h=s,g=i;for(;!(h=h.parent,null!==h||a&it.Host||(h=al(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;s=h,i=g}const u=wt.lFrame=cl();return u.currentTNode=s,u.lView=i,!0}function qs(i){const s=cl(),a=i[1];wt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function cl(){const i=wt.lFrame,s=null===i?null:i.child;return null===s?Gs(i):s}function Gs(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ll(){const i=wt.lFrame;return wt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Sa=ll;function Gr(){const i=ll();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Wn(){return wt.lFrame.selectedIndex}function Zs(i){wt.lFrame.selectedIndex=i}function Nn(){const i=wt.lFrame;return vn(i.tView,i.selectedIndex)}function Xo(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:k}=g;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),C&&((i.contentHooks||(i.contentHooks=[])).push(a,C),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,C)),D&&(i.viewHooks||(i.viewHooks=[])).push(-a,D),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=k&&(i.destroyHooks||(i.destroyHooks=[])).push(a,k)}}function ns(i,s,a){dl(i,s,3,a)}function Es(i,s,a,u){(3&i[2])===a&&dl(i,s,a,u)}function Bn(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function dl(i,s,a,u){const g=null!=u?u:-1,y=s.length-1;let C=0;for(let D=void 0!==u?65535&i[18]:0;D<y;D++)if("number"==typeof s[D+1]){if(C=s[D],null!=u&&C>=u)break}else s[D]<0&&(i[18]+=65536),(C<g||-1==g)&&(_d(i,a,s,D),i[18]=(4294901760&i[18])+D+2),D++}function _d(i,s,a,u){const h=a[u]<0,g=a[u+1],C=i[h?-a[u]:a[u]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class Ii{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function b(i,s,a){const u=an(i);let h=0;for(;h<a.length;){const g=a[h];if("number"==typeof g){if(0!==g)break;h++;const y=a[h++],C=a[h++],D=a[h++];u?i.setAttribute(s,C,D,y):s.setAttributeNS(y,C,D)}else{const y=g,C=a[++h];P(y)?u&&i.setProperty(s,y,C):u?i.setAttribute(s,y,C):s.setAttribute(y,C),h++}}return h}function E(i){return 3===i||4===i||6===i}function P(i){return 64===i.charCodeAt(0)}function j(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?a=h:0===a||Ee(i,a,h,null,-1===a||2===a?s[++u]:null)}}return i}function Ee(i,s,a,u,h){let g=0,y=i.length;if(-1===s)y=-1;else for(;g<i.length;){const C=i[g++];if("number"==typeof C){if(C===s){y=-1;break}if(C>s){y=g-1;break}}}for(;g<i.length;){const C=i[g];if("number"==typeof C)break;if(C===a){if(null===u)return void(null!==h&&(i[g+1]=h));if(u===i[g+1])return void(i[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==y&&(i.splice(y,0,s),g=y+1),i.splice(g++,0,a),null!==u&&i.splice(g++,0,u),null!==h&&i.splice(g++,0,h)}function et(i){return-1!==i}function cn(i){return 32767&i}function bn(i,s){let a=function sn(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Cr=!0;function Dt(i){const s=Cr;return Cr=i,s}let _c=0;function Is(i,s){const a=zs(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,hl(u.data,i),hl(s,null),hl(u.blueprint,null));const h=Co(i,s),g=i.injectorIndex;if(et(h)){const y=cn(h),C=bn(h,s),D=C[1].data;for(let S=0;S<8;S++)s[g+S]=C[y+S]|D[y+S]}return s[g+8]=h,g}function hl(i,s){i.push(0,0,0,0,0,0,0,0,s)}function zs(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Co(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,h=s;for(;null!==h;){const g=h[1],y=g.type;if(u=2===y?g.declTNode:1===y?h[6]:null,null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function bo(i,s,a){!function Or(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(z)&&(u=a[z]),null==u&&(u=a[z]=_c++);const h=255&u;s.data[i+(h>>5)]|=1<<h}(i,s,a)}function yc(i,s,a){if(a&it.Optional)return i;be(s,"NodeInjector")}function ta(i,s,a,u){if(a&it.Optional&&void 0===u&&(u=null),0==(a&(it.Self|it.Host))){const h=i[9],g=en(void 0);try{return h?h.get(s,u,a&it.Optional):Fi(s,u,a&it.Optional)}finally{en(g)}}return yc(u,s,a)}function na(i,s,a,u=it.Default,h){if(null!==i){const g=function ra(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(z)?i[z]:void 0;return"number"==typeof s?s>=0?255&s:vc:s}(a);if("function"==typeof g){if(!xa(s,i,u))return u&it.Host?yc(h,a,u):ta(s,a,u,h);try{const y=g(u);if(null!=y||u&it.Optional)return y;be(a)}finally{Sa()}}else if("number"==typeof g){let y=null,C=zs(i,s),D=-1,S=u&it.Host?s[16][6]:null;for((-1===C||u&it.SkipSelf)&&(D=-1===C?Co(i,s):s[C+8],-1!==D&&hu(u,!1)?(y=s[1],C=cn(D),s=bn(D,s)):C=-1);-1!==C;){const k=s[1];if(ar(g,C,k.data)){const U=wc(C,s,a,y,u,S);if(U!==Ra)return U}D=s[C+8],-1!==D&&hu(u,s[1].data[C+8]===S)&&ar(g,C,s)?(y=k,C=cn(D),s=bn(D,s)):C=-1}}}return ta(s,a,u,h)}const Ra={};function vc(){return new ni(mn(),Pe())}function wc(i,s,a,u,h,g){const y=s[1],C=y.data[i+8],k=Cc(C,y,a,null==u?zc(C)&&Cr:u!=y&&0!=(3&C.type),h&it.Host&&g===C);return null!==k?$i(s,y,k,C):Ra}function Cc(i,s,a,u,h){const g=i.providerIndexes,y=s.data,C=1048575&g,D=i.directiveStart,k=g>>20,Y=h?C+k:i.directiveEnd;for(let re=u?C:C+k;re<Y;re++){const Te=y[re];if(re<D&&a===Te||re>=D&&Te.type===a)return re}if(h){const re=y[D];if(re&&vi(re)&&re.type===a)return D}return null}function $i(i,s,a,u){let h=i[a];const g=s.data;if(function Pa(i){return i instanceof Ii}(h)){const y=h;y.resolving&&function Ne(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Le(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ie(g[a]));const C=Dt(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?en(y.injectImpl):null;xa(i,u,it.Default);try{h=i[a]=y.factory(void 0,g,i,u),s.firstCreatePass&&a>=u.directiveStart&&function qh(i,s,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(u){const y=po(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],s)}finally{null!==D&&en(D),Dt(C),y.resolving=!1,Sa()}}return h}function ar(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function hu(i,s){return!(i&it.Self||i&it.Host&&s)}class ni{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return na(this._tNode,this._lView,s,u,a)}}function Fn(i){return En(()=>{const s=i.prototype.constructor,a=s[W]||Na(s),u=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==u;){const g=h[W]||Na(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Na(i){return ze(i)?()=>{const s=Na(ie(i));return s&&s()}:vr(i)}function Ds(i){return function ka(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const g=a[h];if(E(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(g===s)return a[h+1];h+=2}}}return null}(mn(),i)}const is="__parameters__";function Ts(i,s,a){return En(()=>{const u=function br(i){return function(...a){if(i){const u=i(...a);for(const h in u)this[h]=u[h]}}}(s);function h(...g){if(this instanceof h)return u.apply(this,g),this;const y=new h(...g);return C.annotation=y,C;function C(D,S,k){const U=D.hasOwnProperty(is)?D[is]:Object.defineProperty(D,is,{value:[]})[is];for(;U.length<=k;)U.push(null);return(U[k]=U[k]||[]).push(y),D}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class On{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Lt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ed=new On("AnalyzeForEntryComponents");function ii(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),ii(u,s)):s!==i&&s.push(u)}return s}function si(i,s){i.forEach(a=>Array.isArray(a)?si(a,s):s(a))}function Ic(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function pu(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function cr(i,s,a){let u=To(i,s);return u>=0?i[1|u]=a:(u=~u,function fl(i,s,a,u){let h=i.length;if(h==s)i.push(a,u);else if(1===h)i.push(u,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function Do(i,s){const a=To(i,s);if(a>=0)return i[1|a]}function To(i,s){return function Va(i,s,a){let u=0,h=i.length>>a;for(;h!==u;){const g=u+(h-u>>1),y=i[g<<a];if(s===y)return g<<a;y>s?h=g:u=g+1}return~(h<<a)}(i,s,1)}const oi={},Ua="__NG_DI_FLAG__",qi="ngTempTokenPath",Pd=/\n/gm,_l="__source",yl=ye({provide:String,useValue:ye});let As;function I(i){const s=As;return As=i,s}function A(i,s=it.Default){if(void 0===As)throw new Le(203,"");return null===As?Fi(i,void 0,s):As.get(i,s&it.Optional?null:void 0,s)}function O(i,s=it.Default){return(function yn(){return Tr}()||A)(ie(i),s)}const te=O;function he(i){const s=[];for(let a=0;a<i.length;a++){const u=ie(i[a]);if(Array.isArray(u)){if(0===u.length)throw new Le(900,"");let h,g=it.Default;for(let y=0;y<u.length;y++){const C=u[y],D=Ke(C);"number"==typeof D?-1===D?h=C.token:g|=D:h=C}s.push(O(h,g))}else s.push(O(u))}return s}function Se(i,s){return i[Ua]=s,i.prototype[Ua]=s,i}function Ke(i){return i[Ua]}const kt=Se(Ts("Inject",i=>({token:i})),-1),dt=Se(Ts("Optional"),8),Yn=Se(Ts("SkipSelf"),4);class Fd{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function as(i){return i instanceof Fd?i.changingThisBreaksApplicationSecurity:i}const c_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Tc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Qn=(()=>((Qn=Qn||{})[Qn.NONE=0]="NONE",Qn[Qn.HTML=1]="HTML",Qn[Qn.STYLE=2]="STYLE",Qn[Qn.SCRIPT=3]="SCRIPT",Qn[Qn.URL=4]="URL",Qn[Qn.RESOURCE_URL=5]="RESOURCE_URL",Qn))();function Ac(i){const s=function Tl(){const i=Pe();return i&&i[12]}();return s?s.sanitize(Qn.URL,i)||"":function la(i,s){const a=function yu(i){return i instanceof Fd&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?as(i):function vu(i){return(i=String(i)).match(c_)||i.match(Tc)?i:"unsafe:"+i}(me(i))}const Gd="__ngContext__";function kr(i,s){i[Gd]=s}function sf(i){const s=function Al(i){return i[Gd]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function zd(i){return i.ngOriginalError}function v_(i,...s){i.error(...s)}class Wd{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=function y_(i){return i&&i.ngErrorLogger||v_}(s);u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&zd(s);for(;a&&zd(a);)a=zd(a);return a||null}}const df=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function _(i){return i instanceof Function?i():i}var N=(()=>((N=N||{})[N.Important=1]="Important",N[N.DashCase=2]="DashCase",N))();function ge(i,s){return undefined(i,s)}function vt(i){const s=i[3];return _r(s)?s[3]:s}function Zi(i){return hf(i[13])}function xl(i){return hf(i[4])}function hf(i){for(;null!==i&&!_r(i);)i=i[4];return i}function Mc(i,s,a,u,h){if(null!=u){let g,y=!1;_r(u)?g=u:$r(u)&&(y=!0,u=u[0]);const C=rn(u);0===i&&null!==a?null==h?Ew(s,a,C):Pl(s,a,C,h||null,!0):1===i&&null!==a?Pl(s,a,C,h||null,!0):2===i?function Mw(i,s,a){const u=mg(i,s);u&&function Dw(i,s,a,u){an(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}(s,C,y):3===i&&s.destroyNode(C),null!=g&&function cs(i,s,a,u,h){const g=a[7];g!==rn(a)&&Mc(s,i,u,g,h);for(let C=10;C<a.length;C++){const D=a[C];Qd(D[1],D,i,s,u,g)}}(s,i,g,a,h)}}function $n(i,s,a){if(an(i))return i.createElement(s,a);{const u=null!==a?function ac(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?i.createElement(s):i.createElementNS(u,s)}}function ww(i,s){const a=i[9],u=a.indexOf(s),h=s[3];1024&s[2]&&(s[2]&=-1025,yo(h,-1)),a.splice(u,1)}function pg(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const h=u[17];null!==h&&h!==i&&ww(h,u),s>0&&(i[a-1][4]=u[4]);const g=pu(i,10+s);!function ff(i,s){Qd(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const y=g[19];null!==y&&y.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Cw(i,s){if(!(256&s[2])){const a=s[11];an(a)&&a.destroyNode&&Qd(i,s,a,3,null,null),function Su(i){let s=i[13];if(!s)return gg(i[1],i);for(;s;){let a=null;if($r(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)$r(s)&&gg(s[1],s),s=s[3];null===s&&(s=i),$r(s)&&gg(s[1],s),a=s&&s[4]}s=a}}(s)}}function gg(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function b_(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const h=s[a[u]];if(!(h instanceof Ii)){const g=a[u+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const C=h[g[y]],D=g[y+1];try{D.call(C)}finally{}}else try{g.call(h)}finally{}}}}(i,s),function bw(i,s){const a=i.cleanup,u=s[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const y=a[g+1],C="function"==typeof y?y(s):rn(s[y]),D=u[h=a[g+2]],S=a[g+3];"boolean"==typeof S?C.removeEventListener(a[g],D,S):S>=0?u[h=S]():u[h=-S].unsubscribe(),g+=2}else{const y=u[h=a[g+1]];a[g].call(y)}if(null!==u){for(let g=h+1;g<u.length;g++)u[g]();s[7]=null}}(i,s),1===s[1].type&&an(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&_r(s[3])){a!==s[3]&&ww(a,s);const u=s[19];null!==u&&u.detachView(i)}}}function DE(i,s,a){return function Ml(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const h=i.data[u.directiveStart].encapsulation;if(h===nt.None||h===nt.Emulated)return null}return sr(u,a)}(i,s.parent,a)}function Pl(i,s,a,u,h){an(i)?i.insertBefore(s,a,u,h):s.insertBefore(a,u,h)}function Ew(i,s,a){an(i)?i.appendChild(s,a):s.appendChild(a)}function Iw(i,s,a,u,h){null!==u?Pl(i,s,a,u,h):Ew(i,s,a)}function mg(i,s){return an(i)?i.parentNode(s):s.parentNode}let Aw=function E_(i,s,a){return 40&i.type?sr(i,a):null};function Yd(i,s,a,u){const h=DE(i,u,s),g=s[11],C=function Tw(i,s,a){return Aw(i,s,a)}(u.parent||s[6],u,s);if(null!=h)if(Array.isArray(a))for(let D=0;D<a.length;D++)Iw(g,h,a[D],C,!1);else Iw(g,h,a,C,!1)}function _g(i,s){if(null!==s){const a=s.type;if(3&a)return sr(s,i);if(4&a)return yg(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return _g(i,u);{const h=i[s.index];return _r(h)?yg(-1,h):rn(h)}}if(32&a)return ge(s,i)()||rn(i[s.index]);{const u=Sw(i,s);return null!==u?Array.isArray(u)?u[0]:_g(vt(i[16]),u):_g(i,s.next)}}return null}function Sw(i,s){return null!==s?i[16][6].projection[s.projection]:null}function yg(i,s){const a=10+i+1;if(a<s.length){const u=s[a],h=u[1].firstChild;if(null!==h)return _g(u,h)}return s[7]}function Pw(i,s,a,u,h,g,y){for(;null!=a;){const C=u[a.index],D=a.type;if(y&&0===s&&(C&&kr(rn(C),u),a.flags|=4),64!=(64&a.flags))if(8&D)Pw(i,s,a.child,u,h,g,!1),Mc(s,i,h,C,g);else if(32&D){const S=ge(a,u);let k;for(;k=S();)Mc(s,i,h,k,g);Mc(s,i,h,C,g)}else 16&D?Jn(i,s,u,a,h,g):Mc(s,i,h,C,g);a=y?a.projectionNext:a.next}}function Qd(i,s,a,u,h,g){Pw(a,u,i.firstChild,s,h,g,!1)}function Jn(i,s,a,u,h,g){const y=a[16],D=y[6].projection[u.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)Mc(s,i,h,D[S],g);else Pw(i,s,D,y[3],h,g,!0)}function De(i,s,a){an(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Js(i,s,a){an(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Rt(i,s,a){let u=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const g=s.length;if(h+g===u||i.charCodeAt(h+g)<=32)return h}a=h+1}}const D_="ng-template";function kw(i,s,a){let u=0;for(;u<i.length;){let h=i[u++];if(a&&"class"===h){if(h=i[u],-1!==Rt(h.toLowerCase(),s,0))return!0}else if(1===h){for(;u<i.length&&"string"==typeof(h=i[u++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function Rw(i){return 4===i.type&&i.value!==D_}function xE(i,s,a){return s===(4!==i.type||a?i.value:D_)}function lr(i,s,a){let u=4;const h=i.attrs||[],g=function ME(i){for(let s=0;s<i.length;s++)if(E(i[s]))return s;return i.length}(h);let y=!1;for(let C=0;C<s.length;C++){const D=s[C];if("number"!=typeof D){if(!y)if(4&u){if(u=2|1&u,""!==D&&!xE(i,D,a)||""===D&&1===s.length){if(Xs(u))return!1;y=!0}}else{const S=8&u?D:s[++C];if(8&u&&null!==i.attrs){if(!kw(i.attrs,S,a)){if(Xs(u))return!1;y=!0}continue}const U=T_(8&u?"class":D,h,Rw(i),a);if(-1===U){if(Xs(u))return!1;y=!0;continue}if(""!==S){let Y;Y=U>g?"":h[U+1].toLowerCase();const re=8&u?Y:null;if(re&&-1!==Rt(re,S,0)||2&u&&S!==Y){if(Xs(u))return!1;y=!0}}}}else{if(!y&&!Xs(u)&&!Xs(D))return!1;if(y&&Xs(D))continue;y=!1,u=D|1&u}}return Xs(u)||y}function Xs(i){return 0==(1&i)}function T_(i,s,a,u){if(null===s)return-1;let h=0;if(u||!a){let g=!1;for(;h<s.length;){const y=s[h];if(y===i)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let C=s[++h];for(;"string"==typeof C;)C=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function PE(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function Nw(i,s,a=!1){for(let u=0;u<s.length;u++)if(lr(i,s[u],a))return!0;return!1}function Fw(i,s){return i?":not("+s.trim()+")":s}function Lw(i){let s=i[0],a=1,u=2,h="",g=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&u){const C=i[++a];h+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!Xs(y)&&(s+=Fw(g,h),h=""),u=y,g=g||!Xs(u);a++}return""!==h&&(s+=Fw(g,h)),s}const jt={};function A_(i){Vw(qt(),Pe(),Wn()+i,!1)}function Vw(i,s,a,u){if(!u)if(3==(3&s[2])){const g=i.preOrderCheckHooks;null!==g&&ns(s,g,a)}else{const g=i.preOrderHooks;null!==g&&Es(s,g,0,a)}Zs(a)}function Pc(i,s){return i<<17|s<<2}function So(i){return i>>17&32767}function Mu(i){return 2|i}function qn(i){return(131068&i)>>2}function S_(i,s){return-131069&i|s<<2}function M_(i){return 1|i}function Yw(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],g=a[u+1];if(-1!==g){const y=i.data[g];Aa(h),y.contentQueries(2,s[g],g)}}}function Xd(i,s,a,u,h,g,y,C,D,S){const k=s.blueprint.slice();return k[0]=h,k[2]=140|u,Hi(k),k[3]=k[15]=i,k[8]=a,k[10]=y||i&&i[10],k[11]=C||i&&i[11],k[12]=D||i&&i[12]||null,k[9]=S||i&&i[9]||null,k[6]=g,k[16]=2==s.type?i[16]:k,k}function eh(i,s,a,u,h){let g=i.data[s];if(null===g)g=function R_(i,s,a,u,h){const g=Wo(),y=hc(),D=i.data[s]=function n0(i,s,a,u,h,g){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,a,s,u,h);return null===i.firstChild&&(i.firstChild=D),null!==g&&(y?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(i,s,a,u,h),function pc(){return wt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=u,g.attrs=h;const y=function es(){const i=wt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return ti(g,!0),g}function ls(i,s,a,u){if(0===a)return-1;const h=s.length;for(let g=0;g<a;g++)s.push(u),i.blueprint.push(u),i.data.push(null);return h}function Os(i,s,a){qs(s);try{const u=i.viewQuery;null!==u&&Sg(1,u,a);const h=i.template;null!==h&&Jw(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Yw(i,s),i.staticViewQueries&&Sg(2,i.viewQuery,a);const g=i.components;null!==g&&function Qw(i,s){for(let a=0;a<s.length;a++)p0(i,s[a])}(s,g)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,Gr()}}function Oc(i,s,a,u){const h=s[2];if(256!=(256&h)){qs(s);try{Hi(s),function Da(i){return wt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Jw(i,s,a,2,u);const y=3==(3&h);if(y){const S=i.preOrderCheckHooks;null!==S&&ns(s,S,null)}else{const S=i.preOrderHooks;null!==S&&Es(s,S,0,null),Bn(s,0)}if(function eI(i){for(let s=Zi(i);null!==s;s=xl(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const h=a[u],g=h[3];0==(1024&h[2])&&yo(g,1),h[2]|=1024}}}(s),function XE(i){for(let s=Zi(i);null!==s;s=xl(s))for(let a=10;a<s.length;a++){const u=s[a],h=u[1];Xi(u)&&Oc(h,u,h.template,u[8])}}(s),null!==i.contentQueries&&Yw(i,s),y){const S=i.contentCheckHooks;null!==S&&ns(s,S)}else{const S=i.contentHooks;null!==S&&Es(s,S,1),Bn(s,1)}!function Kw(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)Zs(~h);else{const g=h,y=a[++u],C=a[++u];Yo(y,g),C(2,s[g])}}}finally{Zs(-1)}}(i,s);const C=i.components;null!==C&&function k_(i,s){for(let a=0;a<s.length;a++)tI(i,s[a])}(s,C);const D=i.viewQuery;if(null!==D&&Sg(2,D,u),y){const S=i.viewCheckHooks;null!==S&&ns(s,S)}else{const S=i.viewHooks;null!==S&&Es(s,S,2),Bn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-73,1024&s[2]&&(s[2]&=-1025,yo(s[3],-1))}finally{Gr()}}}function GE(i,s,a,u){const h=s[10],y=ei(s);try{!y&&h.begin&&h.begin(),y&&Os(i,s,u),Oc(i,s,a,u)}finally{!y&&h.end&&h.end()}}function Jw(i,s,a,u,h){const g=Wn(),y=2&u;try{Zs(-1),y&&s.length>20&&Vw(i,s,20,!1),a(u,h)}finally{Zs(g)}}function ku(i,s,a){!Ia()||(function ha(i,s,a,u){const h=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||Is(a,s),kr(u,s);const y=a.initialInputs;for(let C=h;C<g;C++){const D=i.data[C],S=vi(D);S&&d0(s,a,D);const k=$i(s,i,C,a);kr(k,s),null!==y&&JE(0,C-h,k,D,0,y),S&&(zn(a.index,s)[8]=k)}}(i,s,a,sr(a,s)),128==(128&a.flags)&&function YE(i,s,a){const u=a.directiveStart,h=a.directiveEnd,y=a.index,C=function gc(){return wt.lFrame.currentDirectiveIndex}();try{Zs(y);for(let D=u;D<h;D++){const S=i.data[D],k=s[D];Qo(D),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&o0(S,k)}}finally{Zs(-1),Qo(C)}}(i,s,a))}function bg(i,s,a=sr){const u=s.localNames;if(null!==u){let h=s.index+1;for(let g=0;g<u.length;g+=2){const y=u[g+1],C=-1===y?a(s,i):i[y];i[h++]=C}}}function Xw(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=bf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function bf(i,s,a,u,h,g,y,C,D,S){const k=20+u,U=k+h,Y=function ZE(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:jt);return a}(k,U),re="function"==typeof S?S():S;return Y[1]={type:i,blueprint:Y,template:a,queries:null,viewQuery:C,declTNode:s,data:Y.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:re,incompleteFirstPass:!1}}function N_(i,s,a,u){const h=oI(s);null===a?h.push(u):(h.push(a),i.firstCreatePass&&g0(i).push(u,h.length-1))}function Ef(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const h=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,h):a[u]=[s,h]}return a}function Ig(i,s,a,u){let h=!1;if(Ia()){const g=function QE(i,s,a){const u=i.directiveRegistry;let h=null;if(u)for(let g=0;g<u.length;g++){const y=u[g];Nw(a,y.selectors,!1)&&(h||(h=[]),bo(Is(a,s),i,y.type),vi(y)?(a0(i,a),h.unshift(y)):h.push(y))}return h}(i,s,a),y=null===u?null:{"":-1};if(null!==g){h=!0,l0(a,i.data.length,g.length);for(let k=0;k<g.length;k++){const U=g[k];U.providersResolver&&U.providersResolver(U)}let C=!1,D=!1,S=ls(i,s,g.length,null);for(let k=0;k<g.length;k++){const U=g[k];a.mergedAttrs=j(a.mergedAttrs,U.hostAttrs),u0(i,a,s,S,U),Ru(S,U,y),null!==U.contentQueries&&(a.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(a.flags|=128);const Y=U.type.prototype;!C&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),C=!0),!D&&(Y.ngOnChanges||Y.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),D=!0),S++}!function F_(i,s){const u=s.directiveEnd,h=i.data,g=s.attrs,y=[];let C=null,D=null;for(let S=s.directiveStart;S<u;S++){const k=h[S],U=k.inputs,Y=null===g||Rw(s)?null:h0(U,g);y.push(Y),C=Ef(U,S,C),D=Ef(k.outputs,S,D)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=C,s.outputs=D}(i,a)}y&&function c0(i,s,a){if(s){const u=i.localNames=[];for(let h=0;h<s.length;h+=2){const g=a[s[h+1]];if(null==g)throw new Le(-301,!1);u.push(s[h],g)}}}(a,u,y)}return a.mergedAttrs=j(a.mergedAttrs,a.attrs),h}function s0(i,s,a,u,h,g){const y=g.hostBindings;if(y){let C=i.hostBindingOpCodes;null===C&&(C=i.hostBindingOpCodes=[]);const D=~s.index;(function KE(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(C)!=D&&C.push(D),C.push(u,h,y)}}function o0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function a0(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Ru(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;vi(s)&&(a[""]=i)}}function l0(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function u0(i,s,a,u,h){i.data[u]=h;const g=h.factory||(h.factory=vr(h.type)),y=new Ii(g,vi(h),null);i.blueprint[u]=y,a[u]=y,s0(i,s,0,u,ls(i,a,h.hostVars,jt),h)}function d0(i,s,a){const u=sr(s,i),h=Xw(a),g=i[10],y=Dg(i,Xd(i,h,null,a.onPush?64:16,u,s,g,g.createRenderer(u,a),null,null));i[s.index]=y}function qa(i,s,a,u,h,g){const y=sr(i,s);!function L_(i,s,a,u,h,g,y){if(null==g)an(i)?i.removeAttribute(s,h,a):s.removeAttribute(h);else{const C=null==y?me(g):y(g,u||"",h);an(i)?i.setAttribute(s,h,C,a):a?s.setAttributeNS(a,h,C):s.setAttribute(h,C)}}(s[11],y,g,i.value,a,u,h)}function JE(i,s,a,u,h,g){const y=g[s];if(null!==y){const C=u.setInput;for(let D=0;D<y.length;){const S=y[D++],k=y[D++],U=y[D++];null!==C?u.setInput(a,U,S,k):a[k]=U}}}function h0(i,s){let a=null,u=0;for(;u<s.length;){const h=s[u];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],s[u+1])),u+=2}else u+=2;else u+=4}return a}function V_(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function tI(i,s){const a=zn(s,i);if(Xi(a)){const u=a[1];80&a[2]?Oc(u,a,u.template,a[8]):a[5]>0&&U_(a)}}function U_(i){for(let u=Zi(i);null!==u;u=xl(u))for(let h=10;h<u.length;h++){const g=u[h];if(1024&g[2]){const y=g[1];Oc(y,g,y.template,g[8])}else g[5]>0&&U_(g)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=zn(a[u],i);Xi(h)&&h[5]>0&&U_(h)}}function p0(i,s){const a=zn(s,i),u=a[1];(function nI(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),Os(u,a,a[8])}function Dg(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Tg(i){for(;i;){i[2]|=64;const s=vt(i);if(ic(i)&&!s)return i;i=s}return null}function xg(i){!function Ag(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=sf(a),h=u[1];GE(h,u,h.template,a)}}(i[8])}function Sg(i,s,a){Aa(0),s(i,a)}const Cx=(()=>Promise.resolve(null))();function oI(i){return i[7]||(i[7]=[])}function g0(i){return i.cleanup||(i.cleanup=[])}function _0(i,s){const a=i[9],u=a?a.get(Wd,null):null;u&&u.handleError(s)}function y0(i,s,a,u,h){for(let g=0;g<a.length;){const y=a[g++],C=a[g++],D=s[y],S=i.data[y];null!==S.setInput?S.setInput(D,h,u,C):D[C]=h}}function kc(i,s,a){const u=vs(s,i);!function Kd(i,s,a){an(i)?i.setValue(s,a):s.textContent=a}(i[11],u,a)}function Mg(i,s,a){let u=a?i.styles:null,h=a?i.classes:null,g=0;if(null!==s)for(let y=0;y<s.length;y++){const C=s[y];"number"==typeof C?g=C:1==g?h=ve(h,C):2==g&&(u=ve(u,C+": "+s[++y]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=h:i.classesWithoutHost=h}const w0=new On("INJECTOR",-1);class C0{get(s,a=oi){if(a===oi){const u=new Error(`NullInjectorError: No provider for ${de(s)}!`);throw u.name="NullInjectorError",u}return a}}const b0=new On("Set Injector scope."),Pg={},cI={};let j_;function If(){return void 0===j_&&(j_=new C0),j_}function H_(i,s=null,a=null,u){const h=$_(i,s,a,u);return h._resolveInjectorDefTypes(),h}function $_(i,s=null,a=null,u){return new Rc(i,a,s||If(),u)}class Rc{constructor(s,a,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&si(a,C=>this.processProvider(C,s,a)),si([s],C=>this.processInjectorType(C,[],g)),this.records.set(w0,nh(void 0,this));const y=this.records.get(b0);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof s?null:de(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=oi,u=it.Default){this.assertNotDestroyed();const h=I(this),g=en(void 0);try{if(!(u&it.SkipSelf)){let C=this.records.get(s);if(void 0===C){const D=function q_(i){return"function"==typeof i||"object"==typeof i&&i instanceof On}(s)&&Tt(s);C=D&&this.injectableDefInScope(D)?nh(Og(s),Pg):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(u&it.Self?If():this.parent).get(s,a=u&it.Optional&&a===oi?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[qi]=y[qi]||[]).unshift(de(s)),h)throw y;return function _t(i,s,a,u){const h=i[qi];throw s[_l]&&h.unshift(s[_l]),i.message=function xt(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let h=de(s);if(Array.isArray(s))h=s.map(de).join(" -> ");else if("object"==typeof s){let g=[];for(let y in s)if(s.hasOwnProperty(y)){let C=s[y];g.push(y+":"+("string"==typeof C?JSON.stringify(C):de(C)))}h=`{${g.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${i.replace(Pd,"\n  ")}`}("\n"+i.message,h,a,u),i.ngTokenPath=h,i[qi]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{en(g),I(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,h)=>s.push(de(h))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processInjectorType(s,a,u){if(!(s=ie(s)))return!1;let h=Pt(s);const g=null==h&&s.ngModule||void 0,y=void 0===g?s:g,C=-1!==u.indexOf(y);if(void 0!==g&&(h=Pt(g)),null==h)return!1;if(null!=h.imports&&!C){let k;u.push(y);try{si(h.imports,U=>{this.processInjectorType(U,a,u)&&(void 0===k&&(k=[]),k.push(U))})}finally{}if(void 0!==k)for(let U=0;U<k.length;U++){const{ngModule:Y,providers:re}=k[U];si(re,Te=>this.processProvider(Te,Y,re||mt))}}this.injectorDefTypes.add(y);const D=vr(y)||(()=>new y);this.records.set(y,nh(D,Pg));const S=h.providers;if(null!=S&&!C){const k=s;si(S,U=>this.processProvider(U,k,S))}return void 0!==g&&void 0!==s.providers}processProvider(s,a,u){let h=Nc(s=ie(s))?s:ie(s&&s.provide);const g=function lI(i,s,a){return D0(i)?nh(void 0,i.useValue):nh(I0(i),Pg)}(s);if(Nc(s)||!0!==s.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=nh(void 0,Pg,!0),y.factory=()=>he(y.multi),this.records.set(h,y)),h=s,y.multi.push(s)}this.records.set(h,g)}hydrate(s,a){return a.value===Pg&&(a.value=cI,a.value=a.factory()),"object"==typeof a.value&&a.value&&function hI(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ie(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Og(i){const s=Tt(i),a=null!==s?s.factory:vr(i);if(null!==a)return a;if(i instanceof On)throw new Le(204,!1);if(i instanceof Function)return function E0(i){const s=i.length;if(s>0)throw function sa(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}(s,"?"),new Le(204,!1);const a=function Ur(i){const s=i&&(i[kn]||i[Ln]);if(s){const a=function rr(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Le(204,!1)}function I0(i,s,a){let u;if(Nc(i)){const h=ie(i);return vr(h)||Og(h)}if(D0(i))u=()=>ie(i.useValue);else if(function T0(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...he(i.deps||[]));else if(function uI(i){return!(!i||!i.useExisting)}(i))u=()=>O(ie(i.useExisting));else{const h=ie(i&&(i.useClass||i.provide));if(!function Ex(i){return!!i.deps}(i))return vr(h)||Og(h);u=()=>new h(...he(i.deps))}return u}function nh(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function D0(i){return null!==i&&"object"==typeof i&&yl in i}function Nc(i){return"function"==typeof i}let Fc=(()=>{class i{static create(a,u){var h;if(Array.isArray(a))return H_({name:""},u,a,"");{const g=null!==(h=a.name)&&void 0!==h?h:"";return H_({name:g},a.parent,a.providers,g)}}}return i.THROW_IF_NOT_FOUND=oi,i.NULL=new C0,i.\u0275prov=Lt({token:i,providedIn:"any",factory:()=>O(w0)}),i.__NG_ELEMENT_ID__=-1,i})();function us(i,s){Xo(sf(i)[1],mn())}function Df(i){let s=function Z_(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let h;if(vi(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Le(903,"");h=s.\u0275dir}if(h){if(a){u.push(h);const y=i;y.inputs=Tf(i.inputs),y.declaredInputs=Tf(i.declaredInputs),y.outputs=Tf(i.outputs);const C=h.hostBindings;C&&vI(i,C);const D=h.viewQuery,S=h.contentQueries;if(D&&z_(i,D),S&&yI(i,S),le(i.inputs,h.inputs),le(i.declaredInputs,h.declaredInputs),le(i.outputs,h.outputs),vi(h)&&h.data.animation){const k=i.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const C=g[y];C&&C.ngInherit&&C(i),C===Df&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Ng(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const h=i[u];h.hostVars=s+=h.hostVars,h.hostAttrs=j(h.hostAttrs,a=j(a,h.hostAttrs))}}(u)}function Tf(i){return i===xr?{}:i===mt?[]:i}function z_(i,s){const a=i.viewQuery;i.viewQuery=a?(u,h)=>{s(u,h),a(u,h)}:s}function yI(i,s){const a=i.contentQueries;i.contentQueries=a?(u,h,g)=>{s(u,h,g),a(u,h,g)}:s}function vI(i,s){const a=i.hostBindings;i.hostBindings=a?(u,h)=>{s(u,h),a(u,h)}:s}let Rl=null;function Nu(){if(!Rl){const i=Gt.Symbol;if(i&&i.iterator)Rl=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Rl=u)}}}return Rl}function rh(i){return!!W_(i)&&(Array.isArray(i)||!(i instanceof Map)&&Nu()in i)}function W_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ga(i,s,a){return i[s]=a}function ai(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Fu(i,s,a,u){const h=Pe();return ai(h,bs(),s)&&(qt(),qa(Nn(),h,i,s,a,u)),Fu}function V0(i,s,a,u,h,g,y,C){const D=Pe(),S=qt(),k=i+20,U=S.firstCreatePass?function Bg(i,s,a,u,h,g,y,C,D){const S=s.consts,k=eh(s,i,4,y||null,bi(S,C));Ig(s,a,k,bi(S,D)),Xo(s,k);const U=k.tViews=bf(2,k,u,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,k),U.queries=s.queries.embeddedTView(k)),k}(k,S,D,s,a,u,h,g,y):S.data[k];ti(U,!1);const Y=D[11].createComment("");Yd(S,D,Y,U),kr(Y,D),Dg(D,D[k]=V_(Y,D,Y,U)),Qr(U)&&ku(S,D,U),null!=y&&bg(D,U,C)}function qg(i,s=it.Default){const a=Pe();return null===a?O(i,s):na(mn(),a,ie(i),s)}function HI(){throw new Error("invalid")}function K0(i,s,a){const u=Pe();return ai(u,bs(),s)&&function eo(i,s,a,u,h,g,y,C){const D=sr(s,a);let k,S=s.inputs;!C&&null!=S&&(k=S[u])?(y0(i,a,k,u,h),zc(s)&&function r0(i,s){const a=zn(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function zE(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),h=null!=y?y(h,s.value||"",u):h,an(g)?g.setProperty(D,u,h):P(u)||(D.setProperty?D.setProperty(u,h):D[u]=h))}(qt(),Nn(),u,i,s,u[11],a,!1),K0}function Y0(i,s,a,u,h){const y=h?"class":"style";y0(i,a,s.inputs[y],y,u)}function Gg(i,s,a,u){const h=Pe(),g=qt(),y=20+i,C=h[11],D=h[y]=$n(C,s,function uu(){return wt.lFrame.currentNamespace}()),S=g.firstCreatePass?function $I(i,s,a,u,h,g,y){const C=s.consts,S=eh(s,i,2,h,bi(C,g));return Ig(s,a,S,bi(C,y)),null!==S.attrs&&Mg(S,S.attrs,!1),null!==S.mergedAttrs&&Mg(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(y,g,h,0,s,a,u):g.data[y];ti(S,!0);const k=S.mergedAttrs;null!==k&&b(C,D,k);const U=S.classes;null!==U&&Js(C,D,U);const Y=S.styles;return null!==Y&&De(C,D,Y),64!=(64&S.flags)&&Yd(g,h,D,S),0===function Go(){return wt.lFrame.elementDepthCount}()&&kr(D,h),function Zo(){wt.lFrame.elementDepthCount++}(),Qr(S)&&(ku(g,h,S),function Ou(i,s,a){if(Bo(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const y=i.data[g];y.contentQueries&&y.contentQueries(1,a[g],g)}}}(g,S,h)),null!==u&&bg(h,S),Gg}function Sf(){let i=mn();hc()?function fc(){wt.lFrame.isParent=!1}():(i=i.parent,ti(i,!1));const s=i;!function zo(){wt.lFrame.elementDepthCount--}();const a=qt();return a.firstCreatePass&&(Xo(a,i),Bo(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function vd(i){return 0!=(16&i.flags)}(s)&&Y0(a,s,Pe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function pn(i){return 0!=(32&i.flags)}(s)&&Y0(a,s,Pe(),s.stylesWithoutHost,!1),Sf}function uh(i,s,a,u){return Gg(i,s,a,u),Sf(),uh}function GI(){return Pe()}function J0(i){return!!i&&"function"==typeof i.then}function ZI(i){return!!i&&"function"==typeof i.subscribe}const Zg=ZI;function sy(i,s,a,u){const h=Pe(),g=qt(),y=mn();return function eC(i,s,a,u,h,g,y,C){const D=Qr(u),k=i.firstCreatePass&&g0(i),U=s[8],Y=oI(s);let re=!0;if(3&u.type||C){const Ye=sr(u,s),lt=C?C(Ye):Ye,ke=Y.length,bt=C?Yt=>C(rn(Yt[u.index])):u.index;if(an(a)){let Yt=null;if(!C&&D&&(Yt=function Fx(i,s,a,u){const h=i.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===a&&h[g+1]===u){const C=s[7],D=h[g+2];return C.length>D?C[D]:null}"string"==typeof y&&(g+=2)}return null}(i,s,h,u.index)),null!==Yt)(Yt.__ngLastListenerFn__||Yt).__ngNextListenerFn__=g,Yt.__ngLastListenerFn__=g,re=!1;else{g=at(u,s,U,g,!1);const _n=a.listen(lt,h,g);Y.push(g,_n),k&&k.push(h,bt,ke,ke+1)}}else g=at(u,s,U,g,!0),lt.addEventListener(h,g,y),Y.push(g),k&&k.push(h,bt,ke,y)}else g=at(u,s,U,g,!1);const Te=u.outputs;let $e;if(re&&null!==Te&&($e=Te[h])){const Ye=$e.length;if(Ye)for(let lt=0;lt<Ye;lt+=2){const Vs=s[$e[lt]][$e[lt+1]].subscribe(g),nu=Y.length;Y.push(g,Vs),k&&k.push(h,u.index,nu,-(nu+1))}}}(g,h,h[11],y,i,s,!!a,u),sy}function Za(i,s,a,u){try{return!1!==a(u)}catch(h){return _0(i,h),!1}}function at(i,s,a,u,h){return function g(y){if(y===Function)return u;const C=2&i.flags?zn(i.index,s):s;0==(32&s[2])&&Tg(C);let D=Za(s,0,u,y),S=g.__ngNextListenerFn__;for(;S;)D=Za(s,0,S,y)&&D,S=S.__ngNextListenerFn__;return h&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function zg(i=1){return function cu(i){return(wt.lFrame.contextLView=function mc(i,s){for(;i>0;)s=s[15],i--;return s}(i,wt.lFrame.contextLView))[8]}(i)}function cy(i,s,a,u,h){const g=i[a+1],y=null===s;let C=u?So(g):qn(g),D=!1;for(;0!==C&&(!1===D||y);){const k=i[C+1];WI(i[C],s)&&(D=!0,i[C+1]=u?M_(k):Mu(k)),C=u?So(k):qn(k)}D&&(i[a+1]=u?Mu(g):M_(g))}function WI(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&To(i,s)>=0}function Ul(i,s){return function Po(i,s,a,u){const h=Pe(),g=qt(),y=function Ei(i){const s=wt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);g.firstUpdatePass&&function em(i,s,a,u){const h=i.data;if(null===h[a+1]){const g=h[Wn()],y=function Xg(i,s){return s>=i.expandoStartIndex}(i,a);(function kf(i,s){return 0!=(i.flags&(s?16:32))})(g,u)&&null===s&&!y&&(s=!1),s=function py(i,s,a,u){const h=function Ta(i){const s=wt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let g=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(a=Pf(a=tm(null,i,s,a,u),s.attrs,u),g=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==h)if(a=tm(h,i,s,a,u),null===g){let D=function KI(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==qn(u))return i[So(u)]}(i,s,u);void 0!==D&&Array.isArray(D)&&(D=tm(null,i,s,D[1],u),D=Pf(D,s.attrs,u),function YI(i,s,a,u){i[So(a?s.classBindings:s.styleBindings)]=u}(i,s,u,D))}else g=function gy(i,s,a){let u;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)u=Pf(u,i[g].hostAttrs,a);return Pf(u,s.attrs,a)}(i,s,u)}return void 0!==g&&(u?s.residualClasses=g:s.residualStyles=g),a}(h,g,s,u),function zI(i,s,a,u,h,g){let y=g?s.classBindings:s.styleBindings,C=So(y),D=qn(y);i[u]=a;let k,S=!1;if(Array.isArray(a)){const U=a;k=U[1],(null===k||To(U,k)>0)&&(S=!0)}else k=a;if(h)if(0!==D){const Y=So(i[C+1]);i[u+1]=Pc(Y,C),0!==Y&&(i[Y+1]=S_(i[Y+1],u)),i[C+1]=function _f(i,s){return 131071&i|s<<17}(i[C+1],u)}else i[u+1]=Pc(C,0),0!==C&&(i[C+1]=S_(i[C+1],u)),C=u;else i[u+1]=Pc(D,0),0===C?C=u:i[D+1]=S_(i[D+1],u),D=u;S&&(i[u+1]=Mu(i[u+1])),cy(i,k,u,!0),cy(i,k,u,!1),function iC(i,s,a,u,h){const g=h?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&To(g,s)>=0&&(a[u+1]=M_(a[u+1]))}(s,k,i,u,g),y=Pc(C,D),g?s.classBindings=y:s.styleBindings=y}(h,g,s,a,y,u)}}(g,i,y,u),s!==jt&&ai(h,y,s)&&function uC(i,s,a,u,h,g,y,C){if(!(3&s.type))return;const D=i.data,S=D[C+1];nm(function Bw(i){return 1==(1&i)}(S)?hh(D,s,a,h,qn(S),y):void 0)||(nm(g)||function x_(i){return 2==(2&i)}(S)&&(g=hh(D,null,a,h,C,y)),function Ow(i,s,a,u,h){const g=an(i);if(s)h?g?i.addClass(a,u):a.classList.add(u):g?i.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:N.DashCase;if(null==h)g?i.removeStyle(a,u,y):a.style.removeProperty(u);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),y|=N.Important),g?i.setStyle(a,u,h,y):a.style.setProperty(u,h,C?"important":"")}}}(u,y,vs(Wn(),a),h,g))}(g,g.data[Wn()],h,h[11],i,h[y+1]=function JI(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=de(as(i)))),i}(s,a),u,y)}(i,s,null,!0),Ul}function tm(i,s,a,u,h){let g=null;const y=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<y&&(g=s[C],u=Pf(u,g.hostAttrs,h),g!==i);)C++;return null!==i&&(a.directiveStylingLast=C),u}function Pf(i,s,a){const u=a?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const y=s[g];"number"==typeof y?h=y:h===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),cr(i,y,!!a||s[++g]))}return void 0===i?null:i}function hh(i,s,a,u,h,g){const y=null===s;let C;for(;h>0;){const D=i[h],S=Array.isArray(D),k=S?D[1]:D,U=null===k;let Y=a[h+1];Y===jt&&(Y=U?mt:void 0);let re=U?Do(Y,u):k===u?Y:void 0;if(S&&!nm(re)&&(re=Do(D,u)),nm(re)&&(C=re,y))return C;const Te=i[h+1];h=y?So(Te):qn(Te)}if(null!==s){let D=g?s.residualClasses:s.residualStyles;null!=D&&(C=Do(D,u))}return C}function nm(i){return void 0!==i}function Rf(i,s=""){const a=Pe(),u=qt(),h=i+20,g=u.firstCreatePass?eh(u,h,1,s,null):u.data[h],y=a[h]=function xu(i,s){return an(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Yd(u,a,y,g),ti(g,!1)}function Nf(i){return fh("",i,""),Nf}function fh(i,s,a){const u=Pe(),h=function Fl(i,s,a,u){return ai(i,bs(),a)?s+me(a)+u:jt}(u,i,s,a);return h!==jt&&kc(u,Wn(),h),fh}const Wa=void 0;var oD=["en",[["a","p"],["AM","PM"],Wa],[["AM","PM"],Wa,Wa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wa,"{1} 'at' {0}",Wa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sD(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let ga={};function Oy(i){const s=function mC(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Lf(s);if(a)return a;const u=s.split("-")[0];if(a=Lf(u),a)return a;if("en"===u)return oD;throw new Error(`Missing locale data for the locale "${i}".`)}function ky(i){return Oy(i)[Ct.PluralCase]}function Lf(i){return i in ga||(ga[i]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[i]),ga[i]}var Ct=(()=>((Ct=Ct||{})[Ct.LocaleId=0]="LocaleId",Ct[Ct.DayPeriodsFormat=1]="DayPeriodsFormat",Ct[Ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ct[Ct.DaysFormat=3]="DaysFormat",Ct[Ct.DaysStandalone=4]="DaysStandalone",Ct[Ct.MonthsFormat=5]="MonthsFormat",Ct[Ct.MonthsStandalone=6]="MonthsStandalone",Ct[Ct.Eras=7]="Eras",Ct[Ct.FirstDayOfWeek=8]="FirstDayOfWeek",Ct[Ct.WeekendRange=9]="WeekendRange",Ct[Ct.DateFormat=10]="DateFormat",Ct[Ct.TimeFormat=11]="TimeFormat",Ct[Ct.DateTimeFormat=12]="DateTimeFormat",Ct[Ct.NumberSymbols=13]="NumberSymbols",Ct[Ct.NumberFormats=14]="NumberFormats",Ct[Ct.CurrencyCode=15]="CurrencyCode",Ct[Ct.CurrencySymbol=16]="CurrencySymbol",Ct[Ct.CurrencyName=17]="CurrencyName",Ct[Ct.Currencies=18]="Currencies",Ct[Ct.Directionality=19]="Directionality",Ct[Ct.PluralCase=20]="PluralCase",Ct[Ct.ExtraData=21]="ExtraData",Ct))();const Bl="en-US";let _h=Bl;function Eh(i,s,a,u,h){if(i=ie(i),Array.isArray(i))for(let g=0;g<i.length;g++)Eh(i[g],s,a,u,h);else{const g=qt(),y=Pe();let C=Nc(i)?i:ie(i.provide),D=I0(i);const S=mn(),k=1048575&S.providerIndexes,U=S.directiveStart,Y=S.providerIndexes>>20;if(Nc(i)||!i.multi){const re=new Ii(D,h,qg),Te=wm(C,s,h?k:k+Y,U);-1===Te?(bo(Is(S,y),g,C),vm(g,i,s.length),s.push(C),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(re),y.push(re)):(a[Te]=re,y[Te]=re)}else{const re=wm(C,s,k+Y,U),Te=wm(C,s,k,k+Y),$e=re>=0&&a[re],Ye=Te>=0&&a[Te];if(h&&!Ye||!h&&!$e){bo(Is(S,y),g,C);const lt=function NC(i,s,a,u,h){const g=new Ii(i,a,qg);return g.multi=[],g.index=s,g.componentProviders=0,Ka(g,h,u&&!a),g}(h?Ky:ID,a.length,h,u,D);!h&&Ye&&(a[Te].providerFactory=lt),vm(g,i,s.length,0),s.push(C),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(lt),y.push(lt)}else vm(g,i,re>-1?re:Te,Ka(a[h?Te:re],D,!h&&u));!h&&u&&Ye&&a[Te].componentProviders++}}}function vm(i,s,a,u){const h=Nc(s),g=function dI(i){return!!i.useClass}(s);if(h||g){const D=(g?ie(s.useClass):s).prototype.ngOnDestroy;if(D){const S=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const k=S.indexOf(a);-1===k?S.push(a,[u,D]):S[k+1].push(u,D)}else S.push(a,D)}}}function Ka(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function wm(i,s,a,u){for(let h=a;h<u;h++)if(s[h]===i)return h;return-1}function ID(i,s,a,u){return Gu(this.multi,[])}function Ky(i,s,a,u){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=$i(a,a[1],this.providerFactory.index,u);g=C.slice(0,y),Gu(h,g);for(let D=y;D<C.length;D++)g.push(C[D])}else g=[],Gu(h,g);return g}function Gu(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Cm(i,s=[]){return a=>{a.providersResolver=(u,h)=>function RC(i,s,a){const u=qt();if(u.firstCreatePass){const h=vi(i);Eh(a,u.data,u.blueprint,h,!0),Eh(s,u.data,u.blueprint,h,!1)}}(u,h?h(i):i,s)}}class Yy{}class FC{resolveComponentFactory(s){throw function Qy(i){const s=Error(`No component factory found for ${de(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let ql=(()=>{class i{}return i.NULL=new FC,i})();function LC(){return Zu(mn(),Pe())}function Zu(i,s){return new zu(sr(i,s))}let zu=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=LC,i})();function Jy(i){return i instanceof zu?i.nativeElement:i}class Yf{}let VC=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Wu(){const i=Pe(),a=zn(mn().index,i);return function UC(i){return i[11]}($r(a)?a:i)}(),i})(),BC=(()=>{class i{}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:()=>null}),i})();class Xy{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ev=new Xy("13.3.11"),Em={};function Ku(i,s,a,u,h=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&u.push(rn(g)),_r(g))for(let C=10;C<g.length;C++){const D=g[C],S=D[1].firstChild;null!==S&&Ku(D[1],D,S,u)}const y=a.type;if(8&y)Ku(i,s,a.child,u);else if(32&y){const C=ge(a,s);let D;for(;D=C();)u.push(D)}else if(16&y){const C=Sw(s,a);if(Array.isArray(C))u.push(...C);else{const D=vt(s[16]);Ku(D[1],D,C,u,!0)}}a=h?a.projectionNext:a.next}return u}class Oi{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Ku(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(_r(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(pg(s,u),pu(a,u))}this._attachedToViewContainer=!1}Cw(this._lView[1],this._lView)}onDestroy(s){N_(this._lView[1],this._lView,null,s)}markForCheck(){Tg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function B_(i,s,a){const u=s[10];u.begin&&u.begin();try{Oc(i,s,i.template,a)}catch(h){throw _0(s,h),h}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gf(i,s){Qd(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Le(902,"");this._appRef=s}}class jC extends Oi{constructor(s){super(s),this._view=s}detectChanges(){xg(this._view)}checkNoChanges(){}get context(){return null}}class tv extends ql{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Vn(s);return new Qf(a,this.ngModule)}}function Yu(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Qf extends Yy{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function kE(i){return i.map(Lw).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Yu(this.componentDef.inputs)}get outputs(){return Yu(this.componentDef.outputs)}create(s,a,u,h){const g=(h=h||this.ngModule)?function AD(i,s){return{get:(a,u,h)=>{const g=i.get(a,Em,h);return g!==Em||u===Em?g:s.get(a,u,h)}}}(s,h.injector):s,y=g.get(Yf,Ho),C=g.get(BC,null),D=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",k=u?function t0(i,s,a){if(an(i))return i.selectRootElement(s,a===nt.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(D,u,this.componentDef.encapsulation):$n(y.createRenderer(null,this.componentDef),S,function TD(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(S)),U=this.componentDef.onPush?576:528,Y=function R0(i,s){return{components:[],scheduler:i||df,clean:Cx,playerHandler:s||null,flags:0}}(),re=bf(0,null,null,1,0,null,null,null,null,null),Te=Xd(null,re,Y,U,null,null,y,D,C,g);let $e,Ye;qs(Te);try{const lt=function O0(i,s,a,u,h,g){const y=a[1];a[20]=i;const D=eh(y,20,2,"#host",null),S=D.mergedAttrs=s.hostAttrs;null!==S&&(Mg(D,S,!0),null!==i&&(b(h,i,S),null!==D.classes&&Js(h,i,D.classes),null!==D.styles&&De(h,i,D.styles)));const k=u.createRenderer(i,s),U=Xd(a,Xw(s),null,s.onPush?64:16,a[20],D,u,k,g||null,null);return y.firstCreatePass&&(bo(Is(D,a),y,s.type),a0(y,D),l0(D,a.length,1)),Dg(a,U),a[20]=U}(k,this.componentDef,Te,y,D);if(k)if(u)b(D,k,["ng-version",ev.full]);else{const{attrs:ke,classes:bt}=function RE(i){const s=[],a=[];let u=1,h=2;for(;u<i.length;){let g=i[u];if("string"==typeof g)2===h?""!==g&&s.push(g,i[++u]):8===h&&a.push(g);else{if(!Xs(h))break;h=g}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ke&&b(D,k,ke),bt&&bt.length>0&&Js(D,k,bt.join(" "))}if(Ye=vn(re,20),void 0!==a){const ke=Ye.projection=[];for(let bt=0;bt<this.ngContentSelectors.length;bt++){const Yt=a[bt];ke.push(null!=Yt?Array.from(Yt):null)}}$e=function k0(i,s,a,u,h){const g=a[1],y=function th(i,s,a){const u=mn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),u0(i,u,s,ls(i,s,1,null),a));const h=$i(s,i,u.directiveStart,u);kr(h,s);const g=sr(u,s);return g&&kr(g,s),h}(g,a,s);if(u.components.push(y),i[8]=y,h&&h.forEach(D=>D(y,s)),s.contentQueries){const D=mn();s.contentQueries(1,y,D.directiveStart)}const C=mn();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Zs(C.index),s0(a[1],C,0,C.directiveStart,C.directiveEnd,s),o0(s,y)),y}(lt,this.componentDef,Te,Y,[us]),Os(re,Te,null)}finally{Gr()}return new HC(this.componentType,$e,Zu(Ye,Te),Te,Ye)}}class HC extends class bm{}{constructor(s,a,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new jC(h),this.componentType=s}get injector(){return new ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Bc{}class $C{}const Qu=new Map;class ur extends Bc{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new tv(this);const u=Un(s);this._bootstrapComponents=_(u.bootstrap),this._r3Injector=$_(s,a,[{provide:Bc,useValue:this},{provide:ql,useValue:this.componentFactoryResolver}],de(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Fc.THROW_IF_NOT_FOUND,u=it.Default){return s===Fc||s===Bc||s===w0?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class jc extends $C{constructor(s){super(),this.moduleType=s,null!==Un(s)&&function Gl(i){const s=new Set;!function a(u){const h=Un(u,!0),g=h.id;null!==g&&(function Ju(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${de(s)} vs ${de(s.name)}`)}(g,Qu.get(g),u),Qu.set(g,u));const y=_(h.imports);for(const C of y)s.has(C)||(s.add(C),a(C))}(i)}(s)}create(s){return new ur(this.moduleType,s)}}function ct(i,s,a,u){return function zC(i,s,a,u,h,g){const y=s+a;return ai(i,y,h)?Ga(i,y+1,g?u.call(g,h):u(h)):Jf(i,y+1)}(Pe(),wr(),i,s,a,u)}function Nt(i,s,a,u,h){return WC(Pe(),wr(),i,s,a,u,h)}function Jf(i,s){const a=i[s];return a===jt?void 0:a}function WC(i,s,a,u,h,g,y){const C=s+a;return function Nl(i,s,a,u){const h=ai(i,s,a);return ai(i,s+1,u)||h}(i,C,h,g)?Ga(i,C+2,y?u.call(y,h,g):u(h,g)):Jf(i,C+2)}function OD(i,s){const a=qt();let u;const h=i+20;a.firstCreatePass?(u=function kD(i,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(i===u.name)return u}}(s,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,u.onDestroy)):u=a.data[h];const g=u.factory||(u.factory=vr(u.type)),y=en(qg);try{const C=Dt(!1),D=g();return Dt(C),function DI(i,s,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=u}(a,Pe(),h,D),D}finally{en(y)}}function Vt(i,s,a,u){const h=i+20,g=Pe(),y=function Xr(i,s){return i[s]}(g,h);return function St(i,s){return i[1].data[s].pure}(g,h)?WC(g,wr(),s,y.transform,a,u,y):y.transform(a,u)}function tn(i){return s=>{setTimeout(i,void 0,s)}}const Ya=class Xf extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var h,g,y;let C=s,D=a||(()=>null),S=u;if(s&&"object"==typeof s){const U=s;C=null===(h=U.next)||void 0===h?void 0:h.bind(U),D=null===(g=U.error)||void 0===g?void 0:g.bind(U),S=null===(y=U.complete)||void 0===y?void 0:y.bind(U)}this.__isAsync&&(D=tn(D),C&&(C=tn(C)),S&&(S=tn(S)));const k=super.subscribe({next:C,error:D,complete:S});return s instanceof L.w0&&s.add(k),k}};function dr(){return this._results[Nu()]()}class We{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Nu(),u=We.prototype;u[a]||(u[a]=dr)}get changes(){return this._changes||(this._changes=new Ya)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const h=ii(s);(this._changesDetected=!function zh(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let h=i[u],g=s[u];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Zl=(()=>{class i{}return i.__NG_ELEMENT_ID__=RD,i})();const iv=Zl,Xu=class extends iv{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=Xd(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(a)),Os(a,u,s),new Oi(u)}};function RD(){return ed(mn(),Pe())}function ed(i,s){return 4&i.type?new Xu(s,i,Zu(i,s)):null}let Im=(()=>{class i{}return i.__NG_ELEMENT_ID__=ep,i})();function ep(){return ov(mn(),Pe())}const XC=Im,sv=class extends XC{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return Zu(this._hostTNode,this._hostLView)}get injector(){return new ni(this._hostTNode,this._hostLView)}get parentInjector(){const s=Co(this._hostTNode,this._hostLView);if(et(s)){const a=bn(s,this._hostLView),u=cn(s);return new ni(a[1].data[u+8],a)}return new ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Ns(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const h=s.createEmbeddedView(a||{});return this.insert(h,u),h}createComponent(s,a,u,h,g){const y=s&&!function Ec(i){return"function"==typeof i}(s);let C;if(y)C=a;else{const U=a||{};C=U.index,u=U.injector,h=U.projectableNodes,g=U.ngModuleRef}const D=y?s:new Qf(Vn(s)),S=u||this.parentInjector;if(!g&&null==D.ngModule){const Y=(y?S:this.parentInjector).get(Bc,null);Y&&(g=Y)}const k=D.create(S,h,void 0,g);return this.insert(k.hostView,C),k}insert(s,a){const u=s._lView,h=u[1];if(function qo(i){return _r(i[3])}(u)){const k=this.indexOf(s);if(-1!==k)this.detach(k);else{const U=u[3],Y=new sv(U,U[6],U[3]);Y.detach(Y.indexOf(s))}}const g=this._adjustIndex(a),y=this._lContainer;!function Sl(i,s,a,u){const h=10+u,g=a.length;u>0&&(a[h-1][4]=s),u<g-10?(s[4]=a[h],Ic(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function IE(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const C=s[19];null!==C&&C.insertView(i),s[2]|=128}(h,u,y,g);const C=yg(g,y),D=u[11],S=mg(D,y[7]);return null!==S&&function pf(i,s,a,u,h,g){u[0]=h,u[6]=s,Qd(i,u,a,1,h,g)}(h,y[6],D,u,S,C),s.attachToViewContainerRef(),Ic(tp(y),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Ns(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=pg(this._lContainer,a);u&&(pu(tp(this._lContainer),a),Cw(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=pg(this._lContainer,a);return u&&null!=pu(tp(this._lContainer),a)?new Oi(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Ns(i){return i[8]}function tp(i){return i[8]||(i[8]=[])}function ov(i,s){let a;const u=s[i.index];if(_r(u))a=u;else{let h;if(8&i.type)h=rn(u);else{const g=s[11];h=g.createComment("");const y=sr(i,s);Pl(g,mg(g,y),h,function TE(i,s){return an(i)?i.nextSibling(s):s.nextSibling}(g,y),!1)}s[i.index]=a=V_(u,s,h,i),Dg(s,a)}return new sv(a,i,s)}class ue{constructor(s){this.queryList=s,this.matches=null}clone(){return new ue(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dh{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let g=0;g<u;g++){const y=a.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new Dh(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==wn(s,a).matches&&this.queries[a].setDirty()}}class Oo{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class av{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,g=this.getByIndex(u).embeddedTView(s,h);g&&(g.indexInDeclarationView=u,null!==a?a.push(g):a=[g])}return null!==a?new av(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class td{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new td(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(s,a,Wl(a,g)),this.matchTNodeWithReadOption(s,a,Cc(a,s,g,!1,!1))}else u===Zl?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Cc(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===zu||h===Im||h===Zl&&4&a.type)this.addMatch(a.index,-2);else{const g=Cc(a,s,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Wl(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function nd(i,s,a,u){return-1===a?function ND(i,s){return 11&i.type?Zu(i,s):4&i.type?ed(i,s):null}(s,i):-2===a?function nb(i,s,a){return a===zu?Zu(s,i):a===Zl?ed(s,i):a===Im?ov(s,i):void 0}(i,s,u):$i(i,i[1],a,s)}function Dm(i,s,a,u){const h=s[19].queries[u];if(null===h.matches){const g=i.data,y=a.matches,C=[];for(let D=0;D<y.length;D+=2){const S=y[D];C.push(S<0?null:nd(s,g[S],y[D+1],a.metadata.read))}h.matches=C}return h.matches}function cv(i,s,a,u){const h=i.queries.getByIndex(a),g=h.matches;if(null!==g){const y=Dm(i,s,h,a);for(let C=0;C<g.length;C+=2){const D=g[C];if(D>0)u.push(y[C/2]);else{const S=g[C+1],k=s[-D];for(let U=10;U<k.length;U++){const Y=k[U];Y[17]===Y[3]&&cv(Y[1],Y,S,u)}if(null!==k[9]){const U=k[9];for(let Y=0;Y<U.length;Y++){const re=U[Y];cv(re[1],re,S,u)}}}}}return u}function rb(i){const s=Pe(),a=qt(),u=Jo();Aa(u+1);const h=wn(a,u);if(i.dirty&&ei(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const g=h.crossesNgTemplate?cv(a,s,u,[]):Dm(a,s,h,u);i.reset(g,Jy),i.notifyOnChanges()}return!0}return!1}function lv(i,s,a,u){const h=qt();if(h.firstCreatePass){const g=mn();(function np(i,s,a){null===i.queries&&(i.queries=new av),i.queries.track(new td(s,a))})(h,new Oo(s,a,u),g.index),function Ri(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function tr(i,s,a){const u=new We(4==(4&a));N_(i,s,u,u.destroy),null===s[19]&&(s[19]=new Dh),s[19].queries.push(new ue(u))}(h,Pe(),a)}function Kl(){return function ib(i,s){return i[19].queries[s].queryList}(Pe(),Jo())}function wn(i,s){return i.queries.getByIndex(s)}function Am(...i){}const db=new On("Application Initializer");let wv=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Am,this.reject=Am,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(J0(g))a.push(g);else if(Zg(g)){const y=new Promise((C,D)=>{g.subscribe({complete:C,error:D})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(O(db,8))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const qc=new On("AppId",{providedIn:"root",factory:function id(){return`${xm()}${xm()}${xm()}`}});function xm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cv=new On("Platform Initializer"),Gc=new On("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bv=new On("appBootstrapListener");let hb=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const dp=new On("LocaleId",{providedIn:"root",factory:()=>te(dp,it.Optional|it.SkipSelf)||function Ev(){return"undefined"!=typeof $localize&&$localize.locale||Bl}()}),Iv=new On("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class fp{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let fb=(()=>{class i{compileModuleSync(a){return new jc(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),g=_(Un(a).declarations).reduce((y,C)=>{const D=Vn(C);return D&&y.push(new Qf(D)),y},[]);return new fp(u,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const gb=(()=>Promise.resolve(0))();function Sm(i){"undefined"==typeof Zone?gb.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ro{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ya(!1),this.onMicrotaskEmpty=new Ya(!1),this.onStable=new Ya(!1),this.onError=new Ya(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function $D(){let i=Gt.requestAnimationFrame,s=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function qD(i){const s=()=>{!function Pm(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Gt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Av(i),i.isCheckStableRunning=!0,Mm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Av(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,g,y,C)=>{try{return xv(i),a.invokeTask(h,g,y,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),sd(i)}},onInvoke:(a,u,h,g,y,C,D)=>{try{return xv(i),a.invoke(h,g,y,C,D)}finally{i.shouldCoalesceRunChangeDetection&&s(),sd(i)}},onHasTask:(a,u,h,g)=>{a.hasTask(h,g),u===h&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,Av(i),Mm(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,u,h,g)=>(a.handleError(h,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ro.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ro.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,s,mb,Am,Am);try{return g.runTask(y,a,u)}finally{g.cancelTask(y)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const mb={};function Mm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Av(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function xv(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function sd(i){i._nesting--,Mm(i)}class od{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ya,this.onMicrotaskEmpty=new Ya,this.onStable=new Ya,this.onError=new Ya}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,h){return s.apply(a,u)}}let Sv=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ro.assertNotInAngularZone(),Sm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(O(Ro))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac}),i})(),ad=(()=>{class i{constructor(){this._applications=new Map,Om.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Om.findTestabilityInTree(this,a,u)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();class _b{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function Mh(i){Om=i}let Om=new _b,Ql=null;const Ph=new On("AllowMultipleToken"),yb=new On("PlatformOnDestroy");class Rm{constructor(s,a){this.name=s,this.token=a}}function wb(i,s,a=[]){const u=`Platform: ${s}`,h=new On(u);return(g=[])=>{let y=Jl();if(!y||y.injector.get(Ph,!1)){const C=[...a,...g,{provide:h,useValue:!0}];i?i(C):function vb(i){if(Ql&&!Ql.get(Ph,!1))throw new Le(400,"");Ql=i;const s=i.get(Xa),a=i.get(Cv,null);a&&a.forEach(u=>u())}(function ZD(i=[],s){return Fc.create({name:s,providers:[{provide:b0,useValue:"platform"},{provide:yb,useValue:()=>Ql=null},...i]})}(C,u))}return function pp(i){const s=Jl();if(!s)throw new Le(401,"");return s}()}}function Jl(){var i;return null!==(i=null==Ql?void 0:Ql.get(Xa))&&void 0!==i?i:null}let Xa=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const C=function Cb(i,s){let a;return a="noop"===i?new od:("zone.js"===i?void 0:i)||new Ro({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),D=[{provide:Ro,useValue:C}];return C.run(()=>{const S=Fc.create({providers:D,parent:this.injector,name:a.moduleType.name}),k=a.create(S),U=k.injector.get(Wd,null);if(!U)throw new Le(402,"");return C.runOutsideAngular(()=>{const Y=C.onError.subscribe({next:re=>{U.handleError(re)}});k.onDestroy(()=>{gp(this._modules,k),Y.unsubscribe()})}),function bb(i,s,a){try{const u=a();return J0(u)?u.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(U,C,()=>{const Y=k.injector.get(wv);return Y.runInitializers(),Y.donePromise.then(()=>(function Ry(i){Ht(i,"Expected localeId to be defined"),"string"==typeof i&&(_h=i.toLowerCase().replace(/_/g,"-"))}(k.injector.get(dp,Bl)||Bl),this._moduleDoBootstrap(k),k))})})}bootstrapModule(a,u=[]){const h=Mv({},u);return function GD(i,s,a){const u=new jc(a);return Promise.resolve(u)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const u=a.injector.get(Xl);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Le(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(yb,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(O(Fc))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Mv(i,s){return Array.isArray(s)?s.reduce(Mv,i):Object.assign(Object.assign({},i),s)}let Xl=(()=>{class i{constructor(a,u,h,g){this._zone=a,this._injector=u,this._exceptionHandler=h,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new V.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),C=new V.y(D=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Ro.assertNotInAngularZone(),Sm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Ro.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{S.unsubscribe(),k.unsubscribe()}});this.isStable=(0,pe.T)(y,C.pipe((0,ce.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Le(405,"");let h;h=a instanceof Yy?a:this._injector.get(ql).resolveComponentFactory(a),this.componentTypes.push(h.componentType);const g=function km(i){return i.isBoundToModule}(h)?void 0:this._injector.get(Bc),C=h.create(Fc.NULL,[],u||h.selector,g),D=C.location.nativeElement,S=C.injector.get(Sv,null),k=S&&C.injector.get(ad);return S&&k&&k.registerApplication(D,S),C.onDestroy(()=>{this.detachView(C.hostView),gp(this.components,C),k&&k.unregisterApplication(D)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Le(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;gp(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(bv,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(O(Ro),O(Fc),O(Wd),O(wv))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function gp(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let on=!0,Pv=!1;function Ib(){return Pv=!0,on}function eu(){if(Pv)throw new Error("Cannot enable prod mode after platform setup.");on=!1}let mp=(()=>{class i{}return i.__NG_ELEMENT_ID__=Db,i})();function Db(i){return function ec(i,s,a){if(zc(i)&&!a){const u=zn(i.index,s);return new Oi(u,u)}return 47&i.type?new Oi(s[16],s):null}(mn(),Pe(),16==(16&i))}class zr{constructor(){}supports(s){return rh(s)}create(s){return new Ab(s)}}const Fv=(i,s)=>s;class Ab{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Fv}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,h=0,g=null;for(;a||u;){const y=!u||a&&a.currentIndex<Lv(u,h,g)?a:u,C=Lv(y,h,g),D=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{g||(g=[]);const S=C-h,k=D-h;if(S!=k){for(let Y=0;Y<S;Y++){const re=Y<g.length?g[Y]:g[Y]=0,Te=re+Y;k<=Te&&Te<S&&(g[Y]=re+1)}g[y.previousIndex]=k-S}}C!==D&&s(y,C,D)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!rh(s))throw new Le(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,y,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)g=s[C],y=this._trackByFn(C,g),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,g,y,C)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,y,C),u=!0),a=a._next}else h=0,function II(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Nu()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,C=>{y=this._trackByFn(h,C),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,C,y,h)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,y,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,h)):s=this._addAfter(new wp(a,u),g,h),s}_verifyReinsertion(s,a,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Bm),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bm),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class wp{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tc{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class Bm{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new tc,this.map.set(a,u)),u.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lv(i,s,a){const u=i.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+s+h}class Oh{constructor(){}supports(s){return s instanceof Map||W_(s)}create(){return new xb}}class xb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||W_(s)))throw new Le(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const u=new Sb(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class Sb{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vv(){return new Uv([new zr])}let Uv=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||Vv()),deps:[[i,new Yn,new dt]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Le(901,"")}}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:Vv}),i})();function kh(){return new Cp([new Oh])}let Cp=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||kh()),deps:[[i,new Yn,new dt]]}}find(a){const u=this.factories.find(g=>g.supports(a));if(u)return u;throw new Le(901,"")}}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:kh}),i})();const eT=wb(null,"core",[]);let Pb=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(O(Xl))},i.\u0275mod=Bt({type:i}),i.\u0275inj=Xt({}),i})()},3942:(rt,oe,F)=>{"use strict";F.d(oe,{Z:()=>Le});var l=F(2090),L=F(4859),V=F(9681),pe=F(1877);class ce{constructor(me,Ie){this._delegate=me,this.firebase=Ie,(0,V._addComponent)(me,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(me,Ie=V._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(me);return!Je.isInitialized()&&"EXPLICIT"===(null===(Ne=Je.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:Ie})}_removeServiceInstance(me,Ie=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Ie)}_addComponent(me){(0,V._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,V._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function ve(){const Ve=function de(Ve){const me={},Ie={__esModule:!0,initializeApp:function Me(qe,q={}){const Ce=V.initializeApp(qe,q);if((0,l.r3)(me,Ce.name))return me[Ce.name];const ee=new Ve(Ce,Ie);return me[Ce.name]=ee,ee},app:Je,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Ae(qe){const q=qe.name,Ce=q.replace("-compat","");if(V._registerComponent(qe)&&"PUBLIC"===qe.type){const ee=(ae=Je())=>{if("function"!=typeof ae[Ce])throw le.create("invalid-app-argument",{appName:q});return ae[Ce]()};void 0!==qe.serviceProps&&(0,l.ZB)(ee,qe.serviceProps),Ie[Ce]=ee,Ve.prototype[Ce]=function(...ae){return this._getService.bind(this,q).apply(this,qe.multipleInstances?ae:[])}}return"PUBLIC"===qe.type?Ie[Ce]:null},removeApp:function Ne(qe){delete me[qe]},useAsService:function Ze(qe,q){return"serverAuth"===q?null:q},modularAPIs:V}};function Je(qe){if(!(0,l.r3)(me,qe=qe||V._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:qe});return me[qe]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function be(){return Object.keys(me).map(qe=>me[qe])}}),Je.App=Ve,Ie}(ce);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function me(Ie){(0,l.ZB)(Ve,Ie)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ve}(),K=new pe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=Z;!function xe(Ve){(0,V.registerVersion)("@firebase/app-compat","0.1.32",Ve)}()},9681:(rt,oe,F)=>{"use strict";F.r(oe),F.d(oe,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>kn,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>Jt,_addOrOverwriteComponent:()=>Lt,_apps:()=>Qt,_clearComponents:()=>pi,_components:()=>xn,_getProvider:()=>Xt,_registerComponent:()=>Cn,_removeServiceInstance:()=>Tt,deleteApp:()=>it,getApp:()=>Ln,getApps:()=>hn,initializeApp:()=>gr,onLog:()=>en,registerVersion:()=>yn,setLogLevel:()=>Fi});var l=F(5861),L=F(4859),V=F(1877),pe=F(2090),ce=F(8766);class ye{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(z=>{if(function le(H){const W=H.getComponent();return"VERSION"===(null==W?void 0:W.type)}(z)){const Oe=z.getImmediate();return`${Oe.library}/${Oe.version}`}return null}).filter(z=>z).join(" ")}}const de="@firebase/app",Z=new V.Yd("@firebase/app"),Ht="[DEFAULT]",Qe={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,xn=new Map;function Jt(H,W){try{H.container.addComponent(W)}catch(z){Z.debug(`Component ${W.name} failed to register with FirebaseApp ${H.name}`,z)}}function Lt(H,W){H.container.addOrOverwriteComponent(W)}function Cn(H){const W=H.name;if(xn.has(W))return Z.debug(`There were multiple attempts to register component ${W}.`),!1;xn.set(W,H);for(const z of Qt.values())Jt(z,H);return!0}function Xt(H,W){const z=H.container.getProvider("heartbeat").getImmediate({optional:!0});return z&&z.triggerHeartbeat(),H.container.getProvider(W)}function Tt(H,W,z=Ht){Xt(H,W).clearInstance(z)}function pi(){xn.clear()}const rr=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pt{constructor(W,z,Oe){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},z),this._name=z.name,this._automaticDataCollectionEnabled=z.automaticDataCollectionEnabled,this._container=Oe,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const kn="9.9.3";function gr(H,W={}){"object"!=typeof W&&(W={name:W});const z=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},W),Oe=z.name;if("string"!=typeof Oe||!Oe)throw rr.create("bad-app-name",{appName:String(Oe)});const Ge=Qt.get(Oe);if(Ge){if((0,pe.vZ)(H,Ge.options)&&(0,pe.vZ)(z,Ge.config))return Ge;throw rr.create("duplicate-app",{appName:Oe})}const gt=new L.H0(Oe);for(const Wt of xn.values())gt.addComponent(Wt);const ln=new Pt(H,z,gt);return Qt.set(Oe,ln),ln}function Ln(H=Ht){const W=Qt.get(H);if(!W)throw rr.create("no-app",{appName:H});return W}function hn(){return Array.from(Qt.values())}function it(H){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,l.Z)(function*(H){const W=H.name;Qt.has(W)&&(Qt.delete(W),yield Promise.all(H.container.getProviders().map(z=>z.delete())),H.isDeleted=!0)})).apply(this,arguments)}function yn(H,W,z){var Oe;let Ge=null!==(Oe=Qe[H])&&void 0!==Oe?Oe:H;z&&(Ge+=`-${z}`);const gt=Ge.match(/\s|\//),ln=W.match(/\s|\//);if(gt||ln){const Wt=[`Unable to register library "${Ge}" with version "${W}":`];return gt&&Wt.push(`library name "${Ge}" contains illegal characters (whitespace or "/")`),gt&&ln&&Wt.push("and"),ln&&Wt.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void Z.warn(Wt.join(" "))}Cn(new L.wA(`${Ge}-version`,()=>({library:Ge,version:W}),"VERSION"))}function en(H,W){if(null!==H&&"function"!=typeof H)throw rr.create("invalid-log-argument");(0,V.Am)(H,W)}function Fi(H){(0,V.Ub)(H)}const In="firebase-heartbeat-store";let gi=null;function co(){return gi||(gi=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(H,W)=>{0===W&&H.createObjectStore(In)}}).catch(H=>{throw rr.create("idb-open",{originalErrorMessage:H.message})})),gi}function ut(){return(ut=(0,l.Z)(function*(H){var W;try{return(yield co()).transaction(In).objectStore(In).get(Wr(H))}catch(z){if(z instanceof pe.ZR)Z.warn(z.message);else{const Oe=rr.create("idb-get",{originalErrorMessage:null===(W=z)||void 0===W?void 0:W.message});Z.warn(Oe.message)}}})).apply(this,arguments)}function At(H,W){return ir.apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(H,W){var z;try{const Ge=(yield co()).transaction(In,"readwrite");return yield Ge.objectStore(In).put(W,Wr(H)),Ge.done}catch(Oe){if(Oe instanceof pe.ZR)Z.warn(Oe.message);else{const Ge=rr.create("idb-set",{originalErrorMessage:null===(z=Oe)||void 0===z?void 0:z.message});Z.warn(Ge.message)}}})).apply(this,arguments)}function Wr(H){return`${H.name}!${H.options.appId}`}class mr{constructor(W){this.container=W,this._heartbeatsCache=null;const z=this.container.getProvider("app").getImmediate();this._storage=new hs(z),this._heartbeatsCachePromise=this._storage.read().then(Oe=>(this._heartbeatsCache=Oe,Oe))}triggerHeartbeat(){var W=this;return(0,l.Z)(function*(){const Oe=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ge=xr();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==Ge&&!W._heartbeatsCache.heartbeats.some(gt=>gt.date===Ge))return W._heartbeatsCache.heartbeats.push({date:Ge,agent:Oe}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(gt=>{const ln=new Date(gt.date).valueOf();return Date.now()-ln<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,l.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const z=xr(),{heartbeatsToSend:Oe,unsentEntries:Ge}=function mt(H,W=1024){const z=[];let Oe=H.slice();for(const Ge of H){const gt=z.find(ln=>ln.agent===Ge.agent);if(gt){if(gt.dates.push(Ge.date),G(z)>W){gt.dates.pop();break}}else if(z.push({agent:Ge.agent,dates:[Ge.date]}),G(z)>W){z.pop();break}Oe=Oe.slice(1)}return{heartbeatsToSend:z,unsentEntries:Oe}}(W._heartbeatsCache.heartbeats),gt=(0,pe.L)(JSON.stringify({version:2,heartbeats:Oe}));return W._heartbeatsCache.lastSentHeartbeatDate=z,Ge.length>0?(W._heartbeatsCache.heartbeats=Ge,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),gt})()}}function xr(){return(new Date).toISOString().substring(0,10)}class hs{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,l.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function nt(H){return ut.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var z=this;return(0,l.Z)(function*(){var Oe;if(yield z._canUseIndexedDBPromise){const gt=yield z.read();return At(z.app,{lastSentHeartbeatDate:null!==(Oe=W.lastSentHeartbeatDate)&&void 0!==Oe?Oe:gt.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var z=this;return(0,l.Z)(function*(){var Oe;if(yield z._canUseIndexedDBPromise){const gt=yield z.read();return At(z.app,{lastSentHeartbeatDate:null!==(Oe=W.lastSentHeartbeatDate)&&void 0!==Oe?Oe:gt.lastSentHeartbeatDate,heartbeats:[...gt.heartbeats,...W.heartbeats]})}})()}}function G(H){return(0,pe.L)(JSON.stringify({version:2,heartbeats:H})).length}!function Q(H){Cn(new L.wA("platform-logger",W=>new ye(W),"PRIVATE")),Cn(new L.wA("heartbeat",W=>new mr(W),"PRIVATE")),yn(de,"0.7.31",H),yn(de,"0.7.31","esm2017"),yn("fire-js","")}("")},4859:(rt,oe,F)=>{"use strict";F.d(oe,{H0:()=>de,wA:()=>V});var l=F(5861),L=F(2090);class V{constructor(Z,K,ie){this.name=Z,this.instanceFactory=K,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const pe="[DEFAULT]";class ce{constructor(Z,K){this.name=Z,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const K=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(K)){const ie=new L.BH;if(this.instancesDeferred.set(K,ie),this.isInitialized(K)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:K});ze&&ie.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(K).promise}getImmediate(Z){var K;const ie=this.normalizeInstanceIdentifier(null==Z?void 0:Z.identifier),ze=null!==(K=null==Z?void 0:Z.optional)&&void 0!==K&&K;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(xe){if(ze)return null;throw xe}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function le(ve){return"EAGER"===ve.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:pe})}catch(K){}for(const[K,ie]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(K);try{const xe=this.getOrInitializeService({instanceIdentifier:ze});ie.resolve(xe)}catch(xe){}}}}clearInstance(Z=pe){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,l.Z)(function*(){const K=Array.from(Z.instances.values());yield Promise.all([...K.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...K.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=pe){return this.instances.has(Z)}getOptions(Z=pe){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:K={}}=Z,ie=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ie,options:K});for(const[xe,Le]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(xe)&&Le.resolve(ze);return ze}onInit(Z,K){var ie;const ze=this.normalizeInstanceIdentifier(K),xe=null!==(ie=this.onInitCallbacks.get(ze))&&void 0!==ie?ie:new Set;xe.add(Z),this.onInitCallbacks.set(ze,xe);const Le=this.instances.get(ze);return Le&&Z(Le,ze),()=>{xe.delete(Z)}}invokeOnInitCallbacks(Z,K){const ie=this.onInitCallbacks.get(K);if(ie)for(const ze of ie)try{ze(Z,K)}catch(xe){}}getOrInitializeService({instanceIdentifier:Z,options:K={}}){let ie=this.instances.get(Z);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=Z,ve===pe?void 0:ve),options:K}),this.instances.set(Z,ie),this.instancesOptions.set(Z,K),this.invokeOnInitCallbacks(ie,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,ie)}catch(ze){}var ve;return ie||null}normalizeInstanceIdentifier(Z=pe){return this.component?this.component.multipleInstances?Z:pe:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const K=this.getProvider(Z.name);if(K.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);K.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const K=new ce(Z,this);return this.providers.set(Z,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,oe,F)=>{"use strict";F.d(oe,{Am:()=>ve,Ub:()=>de,Yd:()=>le,in:()=>L});const l=[];var L=(()=>{return(Z=L||(L={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",L;var Z})();const V={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},pe=L.INFO,ce={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ye=(Z,K,...ie)=>{if(K<Z.logLevel)return;const ze=(new Date).toISOString(),xe=ce[K];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[xe](`[${ze}]  ${Z.name}:`,...ie)};class le{constructor(K){this.name=K,this._logLevel=pe,this._logHandler=ye,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in L))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?V[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...K),this._logHandler(this,L.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...K),this._logHandler(this,L.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,L.INFO,...K),this._logHandler(this,L.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,L.WARN,...K),this._logHandler(this,L.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...K),this._logHandler(this,L.ERROR,...K)}}function de(Z){l.forEach(K=>{K.setLogLevel(Z)})}function ve(Z,K){for(const ie of l){let ze=null;K&&K.level&&(ze=V[K.level]),ie.userLogHandler=null===Z?null:(xe,Le,...Ve)=>{const me=Ve.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch(Ne){return null}}).filter(Ie=>Ie).join(" ");Le>=(null!=ze?ze:xe.logLevel)&&Z({level:L[Le].toLowerCase(),message:me,args:Ve,type:xe.name})}}}},8766:(rt,oe,F)=>{"use strict";F.d(oe,{Lj:()=>Me,X3:()=>Je});var l=F(5861);let V,pe;const le=new WeakMap,de=new WeakMap,ve=new WeakMap,Z=new WeakMap,K=new WeakMap;let xe={get(q,Ce,ee){if(q instanceof IDBTransaction){if("done"===Ce)return de.get(q);if("objectStoreNames"===Ce)return q.objectStoreNames||ve.get(q);if("store"===Ce)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Ie(q[Ce])},set:(q,Ce,ee)=>(q[Ce]=ee,!0),has:(q,Ce)=>q instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in q};function me(q){return"function"==typeof q?function Ve(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(...Ce){return q.apply(Ne(this),Ce),Ie(le.get(this))}:function(...Ce){return Ie(q.apply(Ne(this),Ce))}:function(Ce,...ee){const ae=q.call(Ne(this),Ce,...ee);return ve.set(ae,Ce.sort?Ce.sort():[Ce]),Ie(ae)}}(q):(q instanceof IDBTransaction&&function ze(q){if(de.has(q))return;const Ce=new Promise((ee,ae)=>{const ne=()=>{q.removeEventListener("complete",we),q.removeEventListener("error",fe),q.removeEventListener("abort",fe)},we=()=>{ee(),ne()},fe=()=>{ae(q.error||new DOMException("AbortError","AbortError")),ne()};q.addEventListener("complete",we),q.addEventListener("error",fe),q.addEventListener("abort",fe)});de.set(q,Ce)}(q),((q,Ce)=>Ce.some(ee=>q instanceof ee))(q,function ce(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,xe):q)}function Ie(q){if(q instanceof IDBRequest)return function ie(q){const Ce=new Promise((ee,ae)=>{const ne=()=>{q.removeEventListener("success",we),q.removeEventListener("error",fe)},we=()=>{ee(Ie(q.result)),ne()},fe=()=>{ae(q.error),ne()};q.addEventListener("success",we),q.addEventListener("error",fe)});return Ce.then(ee=>{ee instanceof IDBCursor&&le.set(ee,q)}).catch(()=>{}),K.set(Ce,q),Ce}(q);if(Z.has(q))return Z.get(q);const Ce=me(q);return Ce!==q&&(Z.set(q,Ce),K.set(Ce,q)),Ce}const Ne=q=>K.get(q);function Je(q,Ce,{blocked:ee,upgrade:ae,blocking:ne,terminated:we}={}){const fe=indexedDB.open(q,Ce),Ue=Ie(fe);return ae&&fe.addEventListener("upgradeneeded",ht=>{ae(Ie(fe.result),ht.oldVersion,ht.newVersion,Ie(fe.transaction))}),ee&&fe.addEventListener("blocked",()=>ee()),Ue.then(ht=>{we&&ht.addEventListener("close",()=>we()),ne&&ht.addEventListener("versionchange",()=>ne())}).catch(()=>{}),Ue}function Me(q,{blocked:Ce}={}){const ee=indexedDB.deleteDatabase(q);return Ce&&ee.addEventListener("blocked",()=>Ce()),Ie(ee).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Ze=new Map;function qe(q,Ce){if(!(q instanceof IDBDatabase)||Ce in q||"string"!=typeof Ce)return;if(Ze.get(Ce))return Ze.get(Ce);const ee=Ce.replace(/FromIndex$/,""),ae=Ce!==ee,ne=Ae.includes(ee);if(!(ee in(ae?IDBIndex:IDBObjectStore).prototype)||!ne&&!be.includes(ee))return;const we=function(){var fe=(0,l.Z)(function*(Ue,...ht){const Kt=this.transaction(Ue,ne?"readwrite":"readonly");let Ht=Kt.store;return ae&&(Ht=Ht.index(ht.shift())),(yield Promise.all([Ht[ee](...ht),ne&&Kt.done]))[0]});return function(ht){return fe.apply(this,arguments)}}();return Ze.set(Ce,we),we}!function Le(q){xe=q(xe)}(q=>FP(NP({},q),{get:(Ce,ee,ae)=>qe(Ce,ee)||q.get(Ce,ee,ae),has:(Ce,ee)=>!!qe(Ce,ee)||q.has(Ce,ee)}))},5861:(rt,oe,F)=>{"use strict";function l(V,pe,ce,ye,le,de,ve){try{var Z=V[de](ve),K=Z.value}catch(ie){return void ce(ie)}Z.done?pe(K):Promise.resolve(K).then(ye,le)}function L(V){return function(){var pe=this,ce=arguments;return new Promise(function(ye,le){var de=V.apply(pe,ce);function ve(K){l(de,ye,le,ve,Z,"next",K)}function Z(K){l(de,ye,le,ve,Z,"throw",K)}ve(void 0)})}}F.d(oe,{Z:()=>L})}},rt=>{rt(rt.s=2826)}]);